/*! For license information please see main.aa42a7d7.js.LICENSE.txt */
!function(){var e={383:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},358:function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},586:function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},329:function(e,t,n){!function(){var t=n(358),r=n(383).utf8,i=n(586),a=n(383).bin,o=function e(n,o){n.constructor==String?n=o&&"binary"===o.encoding?a.stringToBytes(n):r.stringToBytes(n):i(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||n.constructor===Uint8Array||(n=n.toString());for(var u=t.bytesToWords(n),s=8*n.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,d=0;d<u.length;d++)u[d]=16711935&(u[d]<<8|u[d]>>>24)|4278255360&(u[d]<<24|u[d]>>>8);u[s>>>5]|=128<<s%32,u[14+(s+64>>>9<<4)]=s;var p=e._ff,v=e._gg,m=e._hh,y=e._ii;for(d=0;d<u.length;d+=16){var g=c,k=l,b=f,w=h;c=p(c,l,f,h,u[d+0],7,-680876936),h=p(h,c,l,f,u[d+1],12,-389564586),f=p(f,h,c,l,u[d+2],17,606105819),l=p(l,f,h,c,u[d+3],22,-1044525330),c=p(c,l,f,h,u[d+4],7,-176418897),h=p(h,c,l,f,u[d+5],12,1200080426),f=p(f,h,c,l,u[d+6],17,-1473231341),l=p(l,f,h,c,u[d+7],22,-45705983),c=p(c,l,f,h,u[d+8],7,1770035416),h=p(h,c,l,f,u[d+9],12,-1958414417),f=p(f,h,c,l,u[d+10],17,-42063),l=p(l,f,h,c,u[d+11],22,-1990404162),c=p(c,l,f,h,u[d+12],7,1804603682),h=p(h,c,l,f,u[d+13],12,-40341101),f=p(f,h,c,l,u[d+14],17,-1502002290),c=v(c,l=p(l,f,h,c,u[d+15],22,1236535329),f,h,u[d+1],5,-165796510),h=v(h,c,l,f,u[d+6],9,-1069501632),f=v(f,h,c,l,u[d+11],14,643717713),l=v(l,f,h,c,u[d+0],20,-373897302),c=v(c,l,f,h,u[d+5],5,-701558691),h=v(h,c,l,f,u[d+10],9,38016083),f=v(f,h,c,l,u[d+15],14,-660478335),l=v(l,f,h,c,u[d+4],20,-405537848),c=v(c,l,f,h,u[d+9],5,568446438),h=v(h,c,l,f,u[d+14],9,-1019803690),f=v(f,h,c,l,u[d+3],14,-187363961),l=v(l,f,h,c,u[d+8],20,1163531501),c=v(c,l,f,h,u[d+13],5,-1444681467),h=v(h,c,l,f,u[d+2],9,-51403784),f=v(f,h,c,l,u[d+7],14,1735328473),c=m(c,l=v(l,f,h,c,u[d+12],20,-1926607734),f,h,u[d+5],4,-378558),h=m(h,c,l,f,u[d+8],11,-2022574463),f=m(f,h,c,l,u[d+11],16,1839030562),l=m(l,f,h,c,u[d+14],23,-35309556),c=m(c,l,f,h,u[d+1],4,-1530992060),h=m(h,c,l,f,u[d+4],11,1272893353),f=m(f,h,c,l,u[d+7],16,-155497632),l=m(l,f,h,c,u[d+10],23,-1094730640),c=m(c,l,f,h,u[d+13],4,681279174),h=m(h,c,l,f,u[d+0],11,-358537222),f=m(f,h,c,l,u[d+3],16,-722521979),l=m(l,f,h,c,u[d+6],23,76029189),c=m(c,l,f,h,u[d+9],4,-640364487),h=m(h,c,l,f,u[d+12],11,-421815835),f=m(f,h,c,l,u[d+15],16,530742520),c=y(c,l=m(l,f,h,c,u[d+2],23,-995338651),f,h,u[d+0],6,-198630844),h=y(h,c,l,f,u[d+7],10,1126891415),f=y(f,h,c,l,u[d+14],15,-1416354905),l=y(l,f,h,c,u[d+5],21,-57434055),c=y(c,l,f,h,u[d+12],6,1700485571),h=y(h,c,l,f,u[d+3],10,-1894986606),f=y(f,h,c,l,u[d+10],15,-1051523),l=y(l,f,h,c,u[d+1],21,-2054922799),c=y(c,l,f,h,u[d+8],6,1873313359),h=y(h,c,l,f,u[d+15],10,-30611744),f=y(f,h,c,l,u[d+6],15,-1560198380),l=y(l,f,h,c,u[d+13],21,1309151649),c=y(c,l,f,h,u[d+4],6,-145523070),h=y(h,c,l,f,u[d+11],10,-1120210379),f=y(f,h,c,l,u[d+2],15,718787259),l=y(l,f,h,c,u[d+9],21,-343485551),c=c+g>>>0,l=l+k>>>0,f=f+b>>>0,h=h+w>>>0}return t.endian([c,l,f,h])};o._ff=function(e,t,n,r,i,a,o){var u=e+(t&n|~t&r)+(i>>>0)+o;return(u<<a|u>>>32-a)+t},o._gg=function(e,t,n,r,i,a,o){var u=e+(t&r|n&~r)+(i>>>0)+o;return(u<<a|u>>>32-a)+t},o._hh=function(e,t,n,r,i,a,o){var u=e+(t^n^r)+(i>>>0)+o;return(u<<a|u>>>32-a)+t},o._ii=function(e,t,n,r,i,a,o){var u=e+(n^(t|~r))+(i>>>0)+o;return(u<<a|u>>>32-a)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(o(e,n));return n&&n.asBytes?r:n&&n.asString?a.bytesToString(r):t.bytesToHex(r)}}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Ie?_e?_e.push(e):_e=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=_e;if(_e=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ie||null!==_e)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,It,_t,St,Et=!1,Tt=[],Ct=null,Nt=null,At=null,Rt=new Map,Dt=new Map,Ot=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return _n}var En=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Rn),On=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Fr(e,0)}function $n(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Gn(t,Wn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ir={},_r={};function Sr(e){if(Ir[e])return Ir[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Ir[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Pr=Rr[Or];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ii=-1;function _i(e){return{current:e}}function Si(e){0>Ii||(e.current=xi[Ii],xi[Ii]=null,Ii--)}function Ei(e,t){Ii++,xi[Ii]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ni=_i(!1),Ai=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ei(Ci,e)):Si(Ni),Ei(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ps,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ps,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ps,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ps,Os),Os|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Ri(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Ri(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Ri(t,s=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ou,Pu,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Di(t.type)&&Oi(),Wu(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Ou(e,t),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sc(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Is(i):null!==s?(s.return=o,Zu=s):Is(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Is(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var _s,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,Ns=0,As=null,Rs=null,Ds=0,Os=0,Ps=_i(0),Ls=0,Ms=null,js=0,Fs=0,Us=0,Vs=null,Bs=null,zs=0,qs=1/0,Ks=null,Gs=!1,Hs=null,Ws=null,Qs=!1,$s=null,Ys=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(Fs|=n),4===Ls&&sc(e,Ds)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=vc();for(As===e&&Ds===t||(Ks=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,Ns=i,null!==Rs?t=0:(As=null,Ds=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),t);break}xc(e,Bs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bs,Ks),r);break}xc(e,Bs,Ks);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));Ic();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bs,Ks),ic(e,Xe()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Xe()+500,Ui&&zi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&Ns)&&Ic();var t=Ns;Ns|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Ns=t))&&zi()}}function hc(){Os=Ps.current,Si(Ps)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Rs=e=Pc(e.current,null),Ds=Os=t,Ls=0,Ms=null,Us=Fs=js=0,Bs=Vs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&js)&&0===(268435455&Fs)||sc(As,Ds)}function yc(e,t){var n=Ns;Ns|=2;var r=vc();for(As===e&&Ds===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Ns=n,Es.current=r,null!==Rs)throw Error(a(261));return As=null,Ds=0,Ls}function gc(){for(;null!==Rs;)bc(Rs)}function kc(){for(;null!==Rs&&!$e();)bc(Rs)}function bc(e){var t=_s(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Rs=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{Ic()}while(null!==$s);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Rs=As=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return Ic(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Ye(),Ns=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&Ic(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function Ic(){if(null!==$s){var e=bt(Ys),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ds&n)===n&&(4===Ls||3===Ls&&(130023424&Ds)===Ds&&500>Xe()-zs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return We(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Mc(n.children,i,o,t);case _:u=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ia(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ia(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Iu(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,_a(t,n),qa(t,r,i),Ga(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Ns)&&(qs=Xe()+500,zi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,I="?"===k||"*"===k,_=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:_,optional:I,repeat:x,partial:w,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:I.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,_=!1,S=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?I():(_=!1,S=null)}}else _=!1}if("function"===typeof k)I=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,I=function(){D.postMessage(null)}}else I=function(){y(A,0)};function O(e){S=e,_||(_=!0,I())}function P(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".ec78e9d7.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ccs_store:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkccs_store=self.webpackChunkccs_store||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return er},SDK_VERSION:function(){return li},_DEFAULT_ENTRY_NAME:function(){return Xr},_addComponent:function(){return ti},_addOrOverwriteComponent:function(){return ni},_apps:function(){return Zr},_clearComponents:function(){return oi},_components:function(){return ei},_getProvider:function(){return ii},_registerComponent:function(){return ri},_removeServiceInstance:function(){return ai},deleteApp:function(){return pi},getApp:function(){return hi},getApps:function(){return di},initializeApp:function(){return fi},onLog:function(){return yi},registerVersion:function(){return mi},setLogLevel:function(){return gi}});var t=n(791),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function u(e){return function(e){if(Array.isArray(e))return i(e)}(e)||a(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){if(Array.isArray(e))return e}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return d(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||o(e,t)||p()}function m(e,t){return function(){return e.apply(t,arguments)}}var y=Object.prototype.toString,g=Object.getPrototypeOf,k=function(e){return function(t){var n=y.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),b=function(e){return e=e.toLowerCase(),function(t){return k(t)===e}},w=function(e){return function(t){return typeof t===e}},x=Array.isArray,I=w("undefined");var _=b("ArrayBuffer");var S=w("string"),E=w("function"),T=w("number"),C=function(e){return null!==e&&"object"===typeof e},N=function(e){if("object"!==k(e))return!1;var t=g(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A=b("Date"),R=b("File"),D=b("Blob"),O=b("FileList"),P=b("URLSearchParams");function L(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),x(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function M(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var j="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,F=function(e){return!I(e)&&e!==j};var U,V=(U="undefined"!==typeof Uint8Array&&g(Uint8Array),function(e){return U&&e instanceof U}),B=b("HTMLFormElement"),z=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),q=b("RegExp"),K=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};L(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},G="abcdefghijklmnopqrstuvwxyz",H="0123456789",W={DIGIT:H,ALPHA:G,ALPHA_DIGIT:G+G.toUpperCase()+H};var Q={isArray:x,isArrayBuffer:_,isBuffer:function(e){return null!==e&&!I(e)&&null!==e.constructor&&!I(e.constructor)&&E(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||y.call(e)===t||E(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_(e.buffer)},isString:S,isNumber:T,isBoolean:function(e){return!0===e||!1===e},isObject:C,isPlainObject:N,isUndefined:I,isDate:A,isFile:R,isBlob:D,isRegExp:q,isFunction:E,isStream:function(e){return C(e)&&E(e.pipe)},isURLSearchParams:P,isTypedArray:V,isFileList:O,forEach:L,merge:function e(){for(var t=(F(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&M(n,i)||i;N(n[a])&&N(r)?n[a]=e(n[a],r):N(r)?n[a]=e({},r):x(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&L(arguments[i],r);return n},extend:function(e,t,n){return L(t,(function(t,r){n&&E(t)?e[r]=m(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&g(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:k,kindOfTest:b,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(x(e))return e;var t=e.length;if(!T(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:B,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:K,freezeMethods:function(e){K(e,(function(t,n){if(E(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];E(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return x(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:M,global:j,isContextDefined:F,ALPHABET:W,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&E(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(C(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=x(n)?[]:{};return L(n,(function(t,n){var a=e(t,r+1);!I(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Q.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Z=J.prototype,ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){ee[e]={value:e}})),Object.defineProperties(J,ee),Object.defineProperty(Z,"isAxiosError",{value:!0}),J.from=function(e,t,n,r,i,a){var o=Object.create(Z);return Q.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),J.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var te=J,ne=null;function re(e){return Q.isPlainObject(e)||Q.isArray(e)}function ie(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function ae(e,t,n){return e?e.concat(t).map((function(e,t){return e=ie(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var oe=Q.toFlatObject(Q,{},null,(function(e){return/^is[A-Z]/.test(e)}));var ue=function(e,t,n){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new(ne||FormData);var r=(n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Q.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(Q.isDate(e))return e.toISOString();if(!u&&Q.isBlob(e))throw new te("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(e)||Q.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(Q.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Q.isArray(e)&&function(e){return Q.isArray(e)&&!e.some(re)}(e)||(Q.isFileList(e)||Q.endsWith(n,"[]"))&&(u=Q.toArray(e)))return n=ie(n),u.forEach((function(e,r){!Q.isUndefined(e)&&null!==e&&t.append(!0===o?ae([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!re(e)||(t.append(ae(i,n,a),s(e)),!1)}var l=[],f=Object.assign(oe,{defaultVisitor:c,convertValue:s,isVisitable:re});if(!Q.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Q.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),Q.forEach(n,(function(n,a){!0===(!(Q.isUndefined(n)||null===n)&&i.call(t,n,Q.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function se(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ce(e,t){this._pairs=[],e&&ue(e,this,t)}var le=ce.prototype;le.append=function(e,t){this._pairs.push([e,t])},le.toString=function(e){var t=e?function(t){return e.call(this,t,se)}:se;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var fe=ce;function he(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function de(e,t,n){if(!t)return e;var r,i=n&&n.encode||he,a=n&&n.serialize;if(r=a?a(t,n):Q.isURLSearchParams(t)?t.toString():new fe(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var pe=function(){function e(){$(this,e),this.handlers=[]}return X(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ve=pe,me={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ye={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:fe,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var ge=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Q.isArray(r)?r.length:a,u?(Q.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Q.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Q.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){var n={};return Q.forEachEntry(e,(function(e,r){t(function(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},ke={"Content-Type":void 0};var be={transitional:me,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Q.isObject(e);if(a&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return i&&i?JSON.stringify(ge(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ue(e,new ye.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ye.isNode&&Q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return ue(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||be.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Q.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Q.forEach(["delete","get","head"],(function(e){be.headers[e]={}})),Q.forEach(["post","put","patch"],(function(e){be.headers[e]=Q.merge(ke)}));var we=be,xe=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ie=Symbol("internals");function _e(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:Q.isArray(e)?e.map(Se):String(e)}function Ee(e,t,n,r,i){return Q.isFunction(r)?r.call(this,t,n):(i&&(t=n),Q.isString(t)?Q.isString(r)?-1!==t.indexOf(r):Q.isRegExp(r)?r.test(t):void 0:void 0)}var Te=function(e,t){function n(e){$(this,n),e&&this.set(e)}return X(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=_e(t);if(!i)throw new Error("header name must be a non-empty string");var a=Q.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Se(e))}var a=function(e,t){return Q.forEach(e,(function(e,n){return i(e,n,t)}))};return Q.isPlainObject(e)||e instanceof this.constructor?a(e,t):Q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&xe[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=_e(e)){var n=Q.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Q.isFunction(t))return t.call(this,r,n);if(Q.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=_e(e)){var n=Q.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ee(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=_e(e)){var i=Q.findKey(n,e);!i||t&&!Ee(0,n[i],i,t)||(delete n[i],r=!0)}}return Q.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!Ee(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Q.forEach(this,(function(r,i){var a=Q.findKey(n,i);if(a)return t[a]=Se(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Se(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Q.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Q.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=v(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[Ie]=this[Ie]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=_e(e);t[r]||(!function(e,t){var n=Q.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Q.isArray(e)?e.forEach(r):r(e),this}}]),n}();Te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Q.freezeMethods(Te.prototype),Q.freezeMethods(Te);var Ce=Te;function Ne(e,t){var n=this||we,r=t||n,i=Ce.from(r.headers),a=r.data;return Q.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Ae(e){return!(!e||!e.__CANCEL__)}function Re(e,t,n){te.call(this,null==e?"canceled":e,te.ERR_CANCELED,t,n),this.name="CanceledError"}Q.inherits(Re,te,{__CANCEL__:!0});var De=Re;var Oe=ye.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Q.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Q.isString(r)&&o.push("path="+r),Q.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Pe(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Le=ye.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Q.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var Me=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function je(e,t){var n=0,r=Me(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Fe="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=Ce.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Q.isFormData(i)&&(ye.isStandardBrowserEnv||ye.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Pe(e.baseURL,e.url);function h(){if(s){var r=Ce.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),de(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new te("Request aborted",te.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new te("Network Error",te.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||me;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new te(t,r.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,s)),s=null},ye.isStandardBrowserEnv){var d=(e.withCredentials||Le(f))&&e.xsrfCookieName&&Oe.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Q.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Q.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",je(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",je(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new De(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===ye.protocols.indexOf(p)?n(new te("Unsupported protocol "+p+":",te.ERR_BAD_REQUEST,e)):s.send(i||null)}))},Ue={http:ne,xhr:Fe};Q.forEach(Ue,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Ve={getAdapter:function(e){for(var t,n,r=(e=Q.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Q.isString(t)?Ue[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new te("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Q.hasOwnProp(Ue,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Q.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:Ue};function Be(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new De(null,e)}function ze(e){return Be(e),e.headers=Ce.from(e.headers),e.data=Ne.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ve.getAdapter(e.adapter||we.adapter)(e).then((function(t){return Be(e),t.data=Ne.call(e,e.transformResponse,t),t.headers=Ce.from(t.headers),t}),(function(t){return Ae(t)||(Be(e),t&&t.response&&(t.response.data=Ne.call(e,e.transformResponse,t.response),t.response.headers=Ce.from(t.response.headers))),Promise.reject(t)}))}var qe=function(e){return e instanceof Ce?e.toJSON():e};function Ke(e,t){t=t||{};var n={};function r(e,t,n){return Q.isPlainObject(e)&&Q.isPlainObject(t)?Q.merge.call({caseless:n},e,t):Q.isPlainObject(t)?Q.merge({},t):Q.isArray(t)?t.slice():t}function i(e,t,n){return Q.isUndefined(t)?Q.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Q.isUndefined(t))return r(void 0,t)}function o(e,t){return Q.isUndefined(t)?Q.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(qe(e),qe(t),!0)}};return Q.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);Q.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Ge="1.3.4",He={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){He[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var We={};He.transitional=function(e,t,n){function r(e,t){return"[Axios v1.3.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new te(r(i," has been removed"+(t?" in "+t:"")),te.ERR_DEPRECATED);return t&&!We[i]&&(We[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Qe={assertOptions:function(e,t,n){if("object"!==typeof e)throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new te("option "+a+" must be "+s,te.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new te("Unknown option "+a,te.ERR_BAD_OPTION)}},validators:He},$e=Qe.validators,Ye=function(){function e(t){$(this,e),this.defaults=t,this.interceptors={request:new ve,response:new ve}}return X(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Ke(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&Qe.assertOptions(i,{silentJSONParsing:$e.transitional($e.boolean),forcedJSONParsing:$e.transitional($e.boolean),clarifyTimeoutError:$e.transitional($e.boolean)},!1),void 0!==a&&Qe.assertOptions(a,{encode:$e.function,serialize:$e.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Q.merge(o.common,o[t.method]))&&Q.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=Ce.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[ze.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=ze.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return de(Pe((e=Ke(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Q.forEach(["delete","get","head","options"],(function(e){Ye.prototype[e]=function(t,n){return this.request(Ke(n||{},{method:e,url:t,data:(n||{}).data}))}})),Q.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Ke(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ye.prototype[e]=t(),Ye.prototype[e+"Form"]=t(!0)}));var Xe=Ye,Je=function(){function e(t){if($(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new De(e,t,i),n(r.reason))}))}return X(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Ze=Je;var et={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(et).forEach((function(e){var t=v(e,2),n=t[0],r=t[1];et[r]=n}));var tt=et;var nt=function e(t){var n=new Xe(t),r=m(Xe.prototype.request,n);return Q.extend(r,Xe.prototype,n,{allOwnKeys:!0}),Q.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ke(t,n))},r}(we);nt.Axios=Xe,nt.CanceledError=De,nt.CancelToken=Ze,nt.isCancel=Ae,nt.VERSION=Ge,nt.toFormData=ue,nt.AxiosError=te,nt.Cancel=nt.CanceledError,nt.all=function(e){return Promise.all(e)},nt.spread=function(e){return function(t){return e.apply(null,t)}},nt.isAxiosError=function(e){return Q.isObject(e)&&!0===e.isAxiosError},nt.mergeConfig=Ke,nt.AxiosHeaders=Ce,nt.formToJSON=function(e){return ge(Q.isHTMLForm(e)?new FormData(e):e)},nt.HttpStatusCode=tt,nt.default=nt;var rt=nt;function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},it(e,t)}function at(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,it(e,t)}var ot=n(7),ut=n.n(ot);function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}function ct(e){return"/"===e.charAt(0)}function lt(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var ft=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&ct(e),o=t&&ct(t),u=a||o;if(e&&ct(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?lt(i,l):".."===f?(lt(i,l),c++):c&&(lt(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&ct(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},ht=!0,dt="Invariant failed";function pt(e,t){if(!e){if(ht)throw new Error(dt);var n="function"===typeof t?t():t,r=n?"".concat(dt,": ").concat(n):dt;throw new Error(r)}}function vt(e){return"/"===e.charAt(0)?e:"/"+e}function mt(e){return"/"===e.charAt(0)?e.substr(1):e}function yt(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function gt(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function kt(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function bt(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=st({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=ft(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function wt(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var xt=!("undefined"===typeof window||!window.document||!window.document.createElement);function It(e,t){t(window.confirm(e))}var _t="popstate",St="hashchange";function Et(){try{return window.history.state||{}}catch(e){return{}}}function Tt(e){void 0===e&&(e={}),xt||pt(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?It:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?gt(vt(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=yt(a,f)),bt(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=wt();function v(e){st(T,e),T.length=t.length,p.notifyListeners(T.location,T.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(h(e.state))}function y(){k(h(Et()))}var g=!1;function k(e){if(g)g=!1,v();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=T.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(g=!0,I(i))}(e)}))}}var b=h(Et()),w=[b.key];function x(e){return f+kt(e)}function I(e){t.go(e)}var _=0;function S(e){1===(_+=e)&&1===e?(window.addEventListener(_t,m),r&&window.addEventListener(St,y)):0===_&&(window.removeEventListener(_t,m),r&&window.removeEventListener(St,y))}var E=!1;var T={length:t.length,action:"POP",location:b,createHref:x,push:function(e,r){var i="PUSH",a=bt(e,r,d(),T.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=w.indexOf(T.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=bt(e,r,d(),T.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=x(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=w.indexOf(T.location.key);-1!==c&&(w[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return E||(S(1),E=!0),function(){return E&&(E=!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return T}var Ct="hashchange",Nt={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+mt(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:mt,decodePath:vt},slash:{encodePath:vt,decodePath:vt}};function At(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Rt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Dt(e){window.location.replace(At(window.location.href)+"#"+e)}function Ot(e){void 0===e&&{},xt||pt(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?It:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?gt(vt(e.basename)):"",s=Nt[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(Rt());return u&&yt(e,u),bt(e)}var h=wt();function d(e){st(S,e),S.length=t.length,h.notifyListeners(S.location,S.action)}var p=!1,v=null;function m(){var e=Rt(),t=c(e);if(e!==t)Dt(t);else{var n=f(),r=S.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(v===kt(n))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=S.location,n=b.lastIndexOf(kt(t));-1===n&&0;var r=b.lastIndexOf(kt(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(n)}}var y=Rt(),g=c(y);y!==g&&Dt(g);var k=f(),b=[kt(k)];function w(e){t.go(e)}var x=0;function I(e){1===(x+=e)&&1===e?window.addEventListener(Ct,m):0===x&&window.removeEventListener(Ct,m)}var _=!1;var S={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&At(window.location.href),n+"#"+c(u+kt(e))},push:function(e,t){var n="PUSH",r=bt(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=kt(r),i=c(u+t);if(Rt()!==i){t,function(e){window.location.hash=e}(i);var a=b.lastIndexOf(kt(S.location)),o=b.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=bt(e,void 0,void 0,S.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=kt(r),i=c(u+t);Rt()!==i&&(t,Dt(i));var a=b.indexOf(kt(S.location));-1!==a&&(b[a]=t),d({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return _||(I(1),!0),function(){return _&&(!1,I(-1)),t()}},listen:function(e){var t=h.appendListener(e);return I(1),function(){I(-1),t()}}};return S}function Pt(e,t,n){return Math.min(Math.max(e,t),n)}var Lt=n(239),Mt=n.n(Lt);n(228);function jt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var Ft=1073741823,Ut="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var Vt=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return Ut[e]=(Ut[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}at(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):Ft,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=ut().object.isRequired,r);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}at(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Ft:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Ft:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=ut().object,i),{Provider:o,Consumer:u}},Bt=function(e){var t=Vt();return t.displayName=e,t},zt=Bt("Router-History"),qt=Bt("Router"),Kt=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}at(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(qt.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(zt.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var Gt={},Ht=1e4,Wt=0;function Qt(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Gt[n]||(Gt[n]={});if(r[e])return r[e];var i=[],a={regexp:Mt()(e,i,t),keys:i};return Wt<Ht&&(r[e]=a,Wt++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var $t=function(e){function n(){return e.apply(this,arguments)||this}return at(n,e),n.prototype.render=function(){var e=this;return t.createElement(qt.Consumer,null,(function(n){n||pt(!1);var r=e.props.location||n.location,i=st({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Qt(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(qt.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function Yt(e){return"/"===e.charAt(0)?e:"/"+e}function Xt(e,t){if(!e)return t;var n=Yt(e);return 0!==t.pathname.indexOf(n)?t:st({},t,{pathname:t.pathname.substr(n.length)})}function Jt(e){return"string"===typeof e?e:kt(e)}function Zt(e){return function(){pt(!1)}}function en(){}t.Component;var tn=function(e){function n(){return e.apply(this,arguments)||this}return at(n,e),n.prototype.render=function(){var e=this;return t.createElement(qt.Consumer,null,(function(n){n||pt(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?Qt(a.pathname,st({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var nn=t.useContext;function rn(){return nn(zt)}function an(){return nn(qt).location}var on=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Tt(t.props),t}return at(n,e),n.prototype.render=function(){return t.createElement(Kt,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var un=function(e,t){return"function"===typeof e?e(t):e},sn=function(e,t){return"string"===typeof e?bt(e,null,null,t):e},cn=function(e){return e},ln=t.forwardRef;"undefined"===typeof ln&&(ln=cn);var fn=ln((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=jt(e,["innerRef","navigate","onClick"]),u=o.target,s=st({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=cn!==ln&&n||r,t.createElement("a",s)}));var hn=ln((function(e,n){var r=e.component,i=void 0===r?fn:r,a=e.replace,o=e.to,u=e.innerRef,s=jt(e,["component","replace","to","innerRef"]);return t.createElement(qt.Consumer,null,(function(e){e||pt(!1);var r=e.history,c=sn(un(o,e.location),e.location),l=c?r.createHref(c):"",f=st({},s,{href:l,navigate:function(){var t=un(o,e.location),n=kt(e.location)===kt(sn(t));(a||n?r.replace:r.push)(t)}});return cn!==ln?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),dn=function(e){return e},pn=t.forwardRef;"undefined"===typeof pn&&(pn=dn);pn((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,m=e.innerRef,y=jt(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(qt.Consumer,null,(function(e){e||pt(!1);var r=f||e.location,a=sn(un(v,r),r),g=a.pathname,k=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=k?Qt(r.pathname,{path:k,exact:c,sensitive:h,strict:d}):null,w=!!(l?l(b,r):b),x="function"===typeof s?s(w):s,I="function"===typeof p?p(w):p;w&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,o),I=st({},I,u));var _=st({"aria-current":w&&i||null,className:x,style:I,to:a},y);return dn!==pn?_.ref=n||m:_.innerRef=m,t.createElement(hn,_)}))}));function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var mn=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=vn({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(r[u]=t.read(o,u),e===u)break}catch(s){}}return e?r[e]:r}},remove:function(e,t){r(e,"",vn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,vn({},this.attributes,t))},withConverter:function(t){return e(vn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),yn=mn,gn=n(184);function kn(e){return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"main",children:[(0,gn.jsx)("div",{className:"banner_img",children:(0,gn.jsx)("img",{className:"mySlides",src:"banner.jpg"})}),(0,gn.jsx)("h3",{children:"Featured"}),(0,gn.jsx)("div",{className:"card_jsn",children:e.name.filter((function(e){return"Laptop"===e.category})).filter((function(t){return t.name.toLowerCase().match(e.searchItem)||""==e.searchItem?t:void 0})).map((function(t){return(0,gn.jsxs)("div",{className:"card",children:[(0,gn.jsxs)(hn,{onClick:function(){e.onButtonClick({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")}),console.log(t.name)},className:"my-Link",to:"/".concat(t.name),children:[(0,gn.jsx)("img",{src:"".concat(t.name,".jpg"),alt:t.category}),(0,gn.jsx)("h4",{children:t.name})]}),(0,gn.jsx)("p",{className:"description",children:t.description}),(0,gn.jsx)("p",{children:"$"===yn.get("currency")?"$"+t.price:"Rs."+(60*t.price).toFixed(2)}),(0,gn.jsxs)("div",{className:"abx",children:[(0,gn.jsx)("button",{onClick:function(){e.onButtonClick1({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-shopping-cart",children:" Add to cart"})}),(0,gn.jsx)("button",{onClick:function(){e.onButtonClick2({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-heart"})}),(0,gn.jsx)("button",{children:(0,gn.jsx)("i",{className:"fa fa-exchange"})})]})]})}))}),(0,gn.jsx)("hr",{className:"partition"})]})})}function bn(e){var n=v((0,t.useState)(""),2),r=n[0],i=n[1],a=yn.get("sessionId");(0,t.useEffect)((function(){void 0!=a||null!=a?i((0,gn.jsxs)("i",{className:"fa fa-user",onClick:e.onHandleLogout,children:[" ","Logout ",a]})):(console.log("Cookie not there"),i((0,gn.jsx)(hn,{to:"/login",children:(0,gn.jsxs)("i",{className:"fa fa-user",children:[" My Account ",a]})})))}),[a]);for(var o=an(),u=(o.state&&o.state.email,v((0,t.useState)(""),2)),s=u[0],c=u[1],l=e.cart.length,f=0,h=0;h<l;h++){f+=parseFloat(e.cart[h].quantity*e.cart[h].price.replace("$","").replace(",",""))}return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"header_component",children:[(0,gn.jsxs)("div",{className:"navBar_top",children:[(0,gn.jsxs)("select",{defaultValue:"$"==yn.get("currency")?"$":"Rs.",onClick:function(e){!function(e){console.warn(e.target.value),console.log(yn.get("currency")),e.target.value==yn.get("currency")||void 0==yn.get("currency")||window.location.reload(),yn.set("currency",e.target.value)}(e)},children:[(0,gn.jsx)("option",{value:"Rs.",children:"Rs. Currency"}),(0,gn.jsx)("option",{value:"$",selected:!0,children:"$ Currency"})]}),(0,gn.jsxs)("ul",{className:"navbar_top_options",children:[(0,gn.jsx)("li",{children:(0,gn.jsxs)("a",{href:"tel:9412052744",children:[(0,gn.jsx)("i",{className:"fa fa-phone"})," ",(0,gn.jsx)("span",{children:"9412052744"})]})}),(0,gn.jsx)("li",{children:(0,gn.jsx)("a",{id:"logIO",className:"logIO",href:"",children:r})}),(0,gn.jsx)(hn,{to:"/wishlist",children:(0,gn.jsx)("li",{children:(0,gn.jsx)("a",{href:"",children:(0,gn.jsxs)("i",{className:"fa fa-heart",children:[" ",(0,gn.jsx)("span",{children:"WishList"})]})})})}),(0,gn.jsx)(hn,{to:"/checkout",children:(0,gn.jsx)("li",{children:(0,gn.jsx)("a",{href:"",children:(0,gn.jsx)("i",{className:"fa fa-shopping-cart",children:(0,gn.jsx)("span",{children:"Shopping Cart"})})})})})]})]}),(0,gn.jsxs)("div",{className:"header",children:[(0,gn.jsxs)("div",{className:"navBar",children:[(0,gn.jsx)(hn,{to:"/",children:(0,gn.jsx)("h1",{onClick:function(){return e.onButtonClick("main")},children:(0,gn.jsx)("a",{href:"",className:"company_name",children:"Creative Computer Services"})})}),(0,gn.jsxs)("div",{className:"search_nav",children:[(0,gn.jsx)("input",{type:"search",placeholder:"Search",onChange:function(e){c(e.target.value)}}),(0,gn.jsx)("button",{type:"submit",onClick:function(){e.searchItemFilter(s)},children:(0,gn.jsx)("i",{className:"fa fa-search"})})]}),(0,gn.jsx)(hn,{to:"/checkout",children:(0,gn.jsxs)("button",{className:"cart_btn",children:[(0,gn.jsx)("span",{children:"Cart"}),(0,gn.jsx)("i",{className:"fa fa-shopping-cart"})," ",l," item(s) \xa0","$"===yn.get("currency")?"$"+f.toFixed(2):"Rs."+(60*f).toFixed(2)]})})]}),(0,gn.jsx)("div",{className:"options_sticky",children:(0,gn.jsxs)("ul",{className:"navbar_options",children:[(0,gn.jsx)("li",{onClick:function(){return e.onButtonClick("laptop")},children:"Laptop & Notebooks"}),(0,gn.jsx)("li",{onClick:function(){return e.onButtonClick("accessories")},children:"Accessories"}),(0,gn.jsx)("li",{onClick:function(){return e.onButtonClick("cartridge")},children:"Printer Cartridge"})]})})]})]})})}function wn(e){var n=v((0,t.useState)(1),2),r=n[0],i=n[1],a=Math.ceil(e.name.length/10),o=e.name.slice(10*(r-1),10*r);return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"main",children:[(0,gn.jsx)("div",{className:"banner_img",children:(0,gn.jsx)("img",{className:"mySlides",src:"main.jpg"})}),(0,gn.jsx)("h3",{children:"Featured"}),(0,gn.jsx)("div",{className:"card_jsn",children:o.filter((function(t){return t.name.toLowerCase().match(e.searchItem)||""==e.searchItem?t:void 0})).map((function(t){return(0,gn.jsxs)("div",{className:"card",children:[(0,gn.jsxs)(hn,{onClick:function(){e.onButtonClick({id:t.id,name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")}),console.log(t.name),console.error("ID OF NAMB IN MAIN COMPONENT",t.id)},className:"my-Link",to:"/".concat(t.name),children:[(0,gn.jsx)("img",{className:"imageProduct",src:"".concat(t.name,".jpg"),alt:t.category}),(0,gn.jsx)("h4",{children:t.name})]}),(0,gn.jsx)("p",{className:"description",children:t.description}),(0,gn.jsx)("p",{children:"$"===yn.get("currency")?"$"+t.price:"Rs."+(60*t.price).toFixed(2)}),(0,gn.jsxs)("div",{className:"abx",children:[(0,gn.jsx)("button",{onClick:function(){e.onButtonClick1({id:t.id,name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-shopping-cart",children:" Add to cart"})}),(0,gn.jsx)("button",{onClick:function(){e.onButtonClick2({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-heart"})}),(0,gn.jsx)("button",{children:(0,gn.jsx)("i",{className:"fa fa-exchange"})})]})]})}))}),(0,gn.jsxs)("div",{className:"pageChange",children:[(0,gn.jsx)("button",{disabled:1===r,onClick:function(){return i(r-1)},children:"Previous"}),Array.from({length:a},(function(e,t){return(0,gn.jsx)("button",{onClick:function(){return i(t+1)},disabled:r===t+1,children:t+1},t+1)})),(0,gn.jsx)("button",{disabled:r===a,onClick:function(){return i(r+1)},children:"Next"})]}),(0,gn.jsx)("hr",{className:"partition"})]})})}function xn(e){return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"footer",children:[(0,gn.jsxs)("div",{className:"footer_columns",children:[(0,gn.jsxs)("div",{className:"column",children:[(0,gn.jsx)("ul",{children:"Information"}),(0,gn.jsx)(hn,{to:"/about",children:(0,gn.jsx)("li",{children:"About us"})}),(0,gn.jsx)("li",{children:"Delivery Information"}),(0,gn.jsx)(hn,{to:"/privacypolicy",children:(0,gn.jsx)("li",{children:"Privacy Policy"})}),(0,gn.jsx)(hn,{to:"/termsCondition",children:(0,gn.jsx)("li",{children:"Terms & Condition"})})]}),(0,gn.jsxs)("div",{className:"column",children:[(0,gn.jsx)("ul",{children:"Customer Service"}),(0,gn.jsx)(hn,{to:"/contactus",children:(0,gn.jsx)("li",{children:"Contact us"})}),(0,gn.jsx)("li",{children:"Returns"}),(0,gn.jsx)("li",{children:"Site Map"})]}),(0,gn.jsxs)("div",{className:"column",children:[(0,gn.jsx)("ul",{children:"Extras"}),(0,gn.jsx)("li",{children:"Brands"}),(0,gn.jsx)("li",{children:"Gift Certificates"}),(0,gn.jsx)("li",{children:"Affiliate"}),(0,gn.jsx)("li",{children:"Specials"})]}),(0,gn.jsxs)("div",{className:"column",children:[(0,gn.jsx)("ul",{children:"My Account"}),(0,gn.jsx)(hn,{to:"/login",children:(0,gn.jsx)("li",{children:"My Account"})}),(0,gn.jsx)(hn,{to:"/orderhistory",children:(0,gn.jsx)("li",{onClick:function(){e.data_OrderHistory()},children:"Order History"})}),(0,gn.jsx)(hn,{to:"/wishlist",children:(0,gn.jsx)("li",{children:"Wish List"})}),(0,gn.jsx)("li",{children:"Newsletter"})]})]}),(0,gn.jsxs)("div",{className:"copy_footer",children:[(0,gn.jsx)("hr",{}),(0,gn.jsx)("p",{children:"Creative Computer Services \xa9 2023"})]})]})})}function In(e){return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"main",children:[(0,gn.jsx)("div",{className:"banner_img",children:(0,gn.jsx)("img",{className:"mySlides",src:"accessories.jpg"})}),(0,gn.jsx)("h3",{children:"Featured"}),(0,gn.jsx)("div",{className:"card_jsn",children:e.name.filter((function(e){return"Laptop Accessory"===e.category})).filter((function(t){return t.name.toLowerCase().match(e.searchItem)||""==e.searchItem?t:void 0})).map((function(t){return(0,gn.jsxs)("div",{className:"card",children:[(0,gn.jsxs)(hn,{onClick:function(){e.onButtonClick({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")}),console.log(t.name)},className:"my-Link",to:"/".concat(t.name),children:[(0,gn.jsx)("img",{src:"".concat(t.name,".jpg"),alt:t.category}),(0,gn.jsx)("h4",{children:t.name})]}),(0,gn.jsx)("p",{className:"description",children:t.description}),(0,gn.jsx)("p",{children:"$"===yn.get("currency")?"$"+t.price:"Rs."+(60*t.price).toFixed(2)}),(0,gn.jsxs)("div",{className:"abx",children:[(0,gn.jsx)("button",{onClick:function(){e.onButtonClick1({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-shopping-cart",children:" Add to cart"})}),(0,gn.jsx)("button",{onClick:function(){e.onButtonClick2({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-heart"})}),(0,gn.jsx)("button",{children:(0,gn.jsx)("i",{className:"fa fa-exchange"})})]})]})}))}),(0,gn.jsx)("hr",{className:"partition"})]})})}function _n(e){return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"main",children:[(0,gn.jsx)("div",{className:"banner_img",children:(0,gn.jsx)("img",{className:"mySlides",alt:"Printer Banner",src:"printer_cartridge.jpg"})}),(0,gn.jsx)("h3",{children:"Featured"}),(0,gn.jsx)("div",{className:"card_jsn",children:e.name.filter((function(e){return"Printer Cartridge"===e.category})).filter((function(t){return t.name.toLowerCase().match(e.searchItem)||""==e.searchItem?t:void 0})).map((function(t){return(0,gn.jsxs)("div",{className:"card",children:[(0,gn.jsxs)(hn,{onClick:function(){e.onButtonClick({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")}),console.log(t.name)},className:"my-Link",to:"/".concat(t.name),children:[(0,gn.jsx)("img",{src:"".concat(t.name,".jpg"),alt:t.category}),(0,gn.jsx)("h4",{children:t.name})]}),(0,gn.jsx)("p",{className:"description",children:t.description}),(0,gn.jsx)("p",{children:"$"===yn.get("currency")?"$"+t.price:"Rs."+(60*t.price).toFixed(2)}),(0,gn.jsxs)("div",{className:"abx",children:[(0,gn.jsx)("button",{onClick:function(){e.onButtonClick2({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-shopping-cart",children:" Add to cart"})}),(0,gn.jsx)("button",{onClick:function(){e.onButtonClick2({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:(0,gn.jsx)("i",{className:"fa fa-heart"})}),(0,gn.jsx)("button",{children:(0,gn.jsx)("i",{className:"fa fa-exchange"})})]})]})}))}),(0,gn.jsx)("hr",{className:"partition"})]})})}function Sn(e){e.totalPrice&&e.totalPrice.toFixed(2);return(0,gn.jsxs)("div",{className:"subtotal",children:[(0,gn.jsx)("h1",{children:"Subtotal"}),(0,gn.jsxs)("p",{children:["Number of Items in the cart: ",e.total," ",(0,gn.jsx)("br",{}),"Total:"," ",(0,gn.jsx)("strong",{children:"$"===yn.get("currency")?"$"+e.totalPrice.toFixed(2):"Rs."+(60*e.totalPrice).toFixed(2)})]}),(0,gn.jsx)(hn,{to:"/checkoutPayment",children:(0,gn.jsx)("button",{children:"Proceed to Checkout"})})]})}function En(e){console.log("Shopping Cart Cart Item",e.cart);for(var t=e.cart.length,n=0,r=0;r<t;r++){n+=parseFloat(e.cart[r].quantity*e.cart[r].price.replace("$","").replace(",",""))}return 0===e.cart.length?(0,gn.jsxs)("p",{className:"emptyStatus",children:[(0,gn.jsxs)("i",{children:["Total: ",t]}),(0,gn.jsx)("br",{}),"Please Add Something"]}):(0,gn.jsxs)("div",{className:"checkout",children:[(0,gn.jsxs)("div",{className:"checkout_left",children:[(0,gn.jsx)("h1",{children:"Shopping Cart"}),e.cart.map((function(t){return console.log("Checkout length:",e.cart.length),(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"cardCheckout",children:[(0,gn.jsx)("img",{src:"".concat(t.name,".jpg")}),(0,gn.jsx)("p",{children:t.name}),(0,gn.jsx)("p",{children:"$"===yn.get("currency")?"$"+t.price:"Rs."+(60*t.price).toFixed(2)}),(0,gn.jsx)("button",{className:"addMin",style:{backgroundColor:"lightblue"},onClick:function(){e.decreaseQty(t.id)},children:"-"}),(0,gn.jsxs)("p",{children:["Qty: ",t.quantity]}),(0,gn.jsx)("button",{className:"addMin",style:{backgroundColor:"lightblue",marginRight:"5px"},onClick:function(){e.increaseQty(t.id)},children:"+"}),(0,gn.jsx)("button",{onClick:function(){e.removeCartBtn(t.id),console.log("Checkout item that clicked:",t.name),console.log("Checkout item ID that clicked:",t.id)},children:"Remove"})]},t.id)})}))]}),(0,gn.jsx)("div",{className:"checkout_right",children:(0,gn.jsx)("div",{children:(0,gn.jsx)(Sn,{total:t,totalPrice:n})})})]})}function Tn(e){return(0,gn.jsx)("div",{className:"aboutUs",children:(0,gn.jsxs)(gn.Fragment,{children:[(0,gn.jsx)("h1",{children:"About Us"}),(0,gn.jsx)("p",{children:"Creative Computer Services is in business since October 2000 and in last 20 years the company is working across Uttarakhand and providing technical solutions in hardware and software to various clients in Rishikesh, Dehradun etc. The list below gives a high-level view of the clientele and business lines"}),(0,gn.jsxs)("ul",{children:[(0,gn.jsx)("strong",{children:"Client List"}),e.client.map((function(e,t){return(0,gn.jsx)("li",{children:e},t)}))]}),(0,gn.jsxs)("ul",{children:[(0,gn.jsx)("strong",{children:"Business Lines"}),(0,gn.jsx)("li",{children:"HARDWARE BUSINESS - HP WORLD- HP RETAIL OUTLET- COMPUTER HARDWARE, LAPTOPS, DESKTOPS, PRINTERS AND COMPUTER ACCESSORIES."}),(0,gn.jsx)("li",{children:"SOFTWARE BUSINESS - TALLY - 3 STAR SALES & IMPLEMENTATION PARTNER, SCHOOL FEE SOFTWARE ETC., QUICK HEAL AND ESCAN ANTIVIRUS."}),(0,gn.jsx)("li",{children:"SOLUTIONS BUSINESS - CCTV CAMERA INSTALLATION AND MAINTENANCE- CPPLUS, HIKVISION,DAHUA ETC."}),(0,gn.jsx)("li",{children:"SOLUTIONS BUSINESS - CCTV CAMERA INSTALLATION AND MAINTENANCE- CPPLUS, HIKVISION,DAHUA ETC."}),(0,gn.jsx)("li",{children:"UPS - OFFLINE AND ONLINE UPS INSTALLATION IN HOSPITALS AND HOTELS ETC."}),(0,gn.jsx)("li",{children:"UPS - OFFLINE AND ONLINE UPS INSTALLATION IN HOSPITALS AND HOTELS ETC."})]})]})})}function Cn(){return(0,gn.jsxs)("div",{className:"contactus",children:[(0,gn.jsx)("h1",{children:"Contact Us"}),(0,gn.jsx)("p",{children:"Our Location"}),(0,gn.jsxs)("div",{className:"location",children:[(0,gn.jsxs)("div",{className:"location_left",children:[(0,gn.jsx)("p",{children:"Creative Computer Services"}),(0,gn.jsxs)("p",{children:["CREATIVE COMPUTER SERVICES ",(0,gn.jsx)("br",{}),"B11 Gr. Flr. Johar Complex, Tilak Road, Rishikesh, Dehradun, Uttarakhand India Phone: 9412052744"]})]}),(0,gn.jsxs)("div",{className:"location_right",children:[(0,gn.jsx)("p",{children:"Telephone"}),(0,gn.jsx)("p",{children:"9412052744"}),(0,gn.jsx)("p",{children:"8923439737"}),(0,gn.jsx)("p",{children:"8923439733"})]})]}),(0,gn.jsx)("h2",{children:"Contact Form"}),(0,gn.jsx)("hr",{className:"hrstyle"}),(0,gn.jsxs)("form",{children:[(0,gn.jsxs)("p",{children:[(0,gn.jsx)("label",{children:"Your Name"}),(0,gn.jsx)("input",{type:"text"})]}),(0,gn.jsxs)("p",{children:[(0,gn.jsx)("label",{children:"E-Mail Address"}),(0,gn.jsx)("input",{type:"text"})]}),(0,gn.jsxs)("p",{children:[(0,gn.jsx)("label",{children:"Enquiry"}),(0,gn.jsx)("textarea",{})]}),(0,gn.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault()},children:"Submit"})]})]})}function Nn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dn(e)}function On(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Pn(e){var t=On();return function(){var n,r=Dn(e);if(t){var i=Dn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return An(e)}(this,n)}}function Ln(e,t,n){return Ln=On()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&it(i,n.prototype),i},Ln.apply(null,arguments)}function Mn(e){var t="function"===typeof Map?new Map:void 0;return Mn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ln(e,arguments,Dn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),it(n,e)},Mn(e)}var jn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Un;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Un=function(e){Rn(n,e);var t=Pn(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return X(n)}(Mn(Error)),Vn=function(e){return function(e){var t=jn(e);return Fn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bn=function(e){try{return Fn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&qn(n)&&(e[n]=zn(e[n],t[n]));return e}function qn(e){return"__proto__"!==e}var Kn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Gn=function(){try{return Kn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Bn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Hn=function(){var e;return null===(e=Gn())||void 0===e?void 0:e.config},Wn=function(){function e(){var t=this;$(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return X(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $n(){var e,t=null===(e=Gn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Yn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Xn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Jn(){var e=Qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var er=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(An(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(An(a),tr.prototype.create),a}return X(n)}(Mn(Error)),tr=function(){function e(t,n,r){$(this,e),this.service=t,this.serviceName=n,this.errors=r}return X(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(nr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new er(n,a,t)}}]),e}();var nr=/\{\$([^}]+)}/g;function rr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ir(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ar(u)&&ar(s)){if(!ir(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ar(e){return null!==e&&"object"===typeof e}function or(e){for(var t=[],n=function(){var e=v(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ur(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=v(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function sr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function cr(e,t){var n=new lr(e,t);return n.subscribe.bind(n)}var lr=function(){function e(t,n){var r=this;$(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return X(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Nn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=fr),void 0===r.error&&(r.error=fr),void 0===r.complete&&(r.complete=fr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function fr(){}function hr(e){return e&&e._delegate?e._delegate:e}function dr(){dr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(N){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};c(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var c=f(e[r],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==s(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function pr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){pr(a,r,i,o,u,"next",e)}function u(e){pr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var mr=function(){function e(t,n,r){$(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return X(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yr="[DEFAULT]",gr=function(){function e(t,n){$(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return X(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Wn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch(s){}var t,n=Nn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=v(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(u(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),u(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Nn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=v(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Nn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(kE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(kE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;return this.component?this.component.multipleInstances?e:yr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var kr,br,wr=function(){function e(t){$(this,e),this.name=t,this.providers=new Map}return X(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(br||(br={}));var Ir={debug:br.DEBUG,verbose:br.VERBOSE,info:br.INFO,warn:br.WARN,error:br.ERROR,silent:br.SILENT},_r=br.INFO,Sr=(l(kr={},br.DEBUG,"log"),l(kr,br.VERBOSE,"log"),l(kr,br.INFO,"info"),l(kr,br.WARN,"warn"),l(kr,br.ERROR,"error"),kr),Er=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Sr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tr=function(){function e(t){$(this,e),this.name=t,this._logLevel=_r,this._logHandler=Er,this._userLogHandler=null,xr.push(this)}return X(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in br))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ir[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.DEBUG].concat(t)),this._logHandler.apply(this,[this,br.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.VERBOSE].concat(t)),this._logHandler.apply(this,[this,br.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.INFO].concat(t)),this._logHandler.apply(this,[this,br.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.WARN].concat(t)),this._logHandler.apply(this,[this,br.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.ERROR].concat(t)),this._logHandler.apply(this,[this,br.ERROR].concat(t))}}]),e}();var Cr,Nr,Ar=function(e,t){return t.some((function(t){return e instanceof t}))};var Rr=new WeakMap,Dr=new WeakMap,Or=new WeakMap,Pr=new WeakMap,Lr=new WeakMap;var Mr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Or.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ur(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function jr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nr||(Nr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vr(this),n),Ur(Rr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ur(e.apply(Vr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Vr(this),t].concat(r));return Or.set(a,t.sort?t.sort():[t]),Ur(a)}}function Fr(e){return"function"===typeof e?jr(e):(e instanceof IDBTransaction&&function(e){if(!Dr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Dr.set(e,t)}}(e),Ar(e,Cr||(Cr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Mr):e)}function Ur(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ur(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Rr.set(t,e)})).catch((function(){})),Lr.set(t,e),t}(e);if(Pr.has(e))return Pr.get(e);var t=Fr(e);return t!==e&&(Pr.set(e,t),Lr.set(t,e)),t}var Vr=function(e){return Lr.get(e)};var Br,zr,qr=["get","getKey","getAll","getAllKeys","count"],Kr=["put","add","delete","clear"],Gr=new Map;function Hr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gr.get(t))return Gr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Kr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||qr.includes(n))){var a=function(){var e=vr(dr().mark((function e(t){var a,o,u,s,c,l,f=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gr.set(t,a),a}}}Mr=function(e){return h(h({},e),{},{get:function(t,n,r){return Hr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Hr(t,n)||e.has(t,n)}})}(Mr);var Wr=function(){function e(t){$(this,e),this.container=t}return X(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qr="@firebase/app",$r="0.9.5",Yr=new Tr("@firebase/app"),Xr="[DEFAULT]",Jr=(l(Br={},Qr,"fire-core"),l(Br,"@firebase/app-compat","fire-core-compat"),l(Br,"@firebase/analytics","fire-analytics"),l(Br,"@firebase/analytics-compat","fire-analytics-compat"),l(Br,"@firebase/app-check","fire-app-check"),l(Br,"@firebase/app-check-compat","fire-app-check-compat"),l(Br,"@firebase/auth","fire-auth"),l(Br,"@firebase/auth-compat","fire-auth-compat"),l(Br,"@firebase/database","fire-rtdb"),l(Br,"@firebase/database-compat","fire-rtdb-compat"),l(Br,"@firebase/functions","fire-fn"),l(Br,"@firebase/functions-compat","fire-fn-compat"),l(Br,"@firebase/installations","fire-iid"),l(Br,"@firebase/installations-compat","fire-iid-compat"),l(Br,"@firebase/messaging","fire-fcm"),l(Br,"@firebase/messaging-compat","fire-fcm-compat"),l(Br,"@firebase/performance","fire-perf"),l(Br,"@firebase/performance-compat","fire-perf-compat"),l(Br,"@firebase/remote-config","fire-rc"),l(Br,"@firebase/remote-config-compat","fire-rc-compat"),l(Br,"@firebase/storage","fire-gcs"),l(Br,"@firebase/storage-compat","fire-gcs-compat"),l(Br,"@firebase/firestore","fire-fst"),l(Br,"@firebase/firestore-compat","fire-fst-compat"),l(Br,"fire-js","fire-js"),l(Br,"firebase","fire-js-all"),Br),Zr=new Map,ei=new Map;function ti(e,t){try{e.container.addComponent(t)}catch(n){Yr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ni(e,t){e.container.addOrOverwriteComponent(t)}function ri(e){var t=e.name;if(ei.has(t))return Yr.debug("There were multiple attempts to register component ".concat(t,".")),!1;ei.set(t,e);var n,r=Nn(Zr.values());try{for(r.s();!(n=r.n()).done;){ti(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ii(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xr;ii(e,t).clearInstance(n)}function oi(){ei.clear()}var ui=(l(zr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(zr,"bad-app-name","Illegal App name: '{$appName}"),l(zr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),l(zr,"app-deleted","Firebase App named '{$appName}' already deleted"),l(zr,"no-options","Need to provide options, when not being deployed to hosting via source."),l(zr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),l(zr,"invalid-log-argument","First argument to `onLog` must be null or a function."),l(zr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),l(zr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),l(zr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),l(zr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),zr),si=new tr("app","Firebase",ui),ci=function(){function e(t,n,r){var i=this;$(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",(function(){return i}),"PUBLIC"))}return X(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}]),e}(),li="9.18.0";function fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Xr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=Hn()),!n)throw si.create("no-options");var a=Zr.get(i);if(a){if(ir(n,a.options)&&ir(r,a.config))return a;throw si.create("duplicate-app",{appName:i})}var o,u=new wr(i),s=Nn(ei.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ci(n,r,u);return Zr.set(i,l),l}function hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=Zr.get(e);if(!t&&e===Xr)return fi();if(!t)throw si.create("no-app",{appName:e});return t}function di(){return Array.from(Zr.values())}function pi(e){return vi.apply(this,arguments)}function vi(){return(vi=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Zr.has(n)){e.next=6;break}return Zr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e,t,n){var r,i=null!==(r=Jr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Yr.warn(u.join(" "))}ri(new mr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function yi(e,t){if(null!==e&&"function"!==typeof e)throw si.create("invalid-log-argument");!function(e,t){var n,r=Nn(xr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ir[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:br[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function gi(e){var t;t=e,xr.forEach((function(e){e.setLogLevel(t)}))}var ki="firebase-heartbeat-database",bi=1,wi="firebase-heartbeat-store",xi=null;function Ii(){return xi||(xi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ur(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ur(u.result),e.oldVersion,e.newVersion,Ur(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(ki,bi,{upgrade:function(e,t){if(0===t)e.createObjectStore(wi)}}).catch((function(e){throw si.create("idb-open",{originalErrorMessage:e.message})}))),xi}function _i(e){return Si.apply(this,arguments)}function Si(){return Si=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ii();case 3:return n=e.sent,e.abrupt("return",n.transaction(wi).objectStore(wi).get(Ci(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof er?Yr.warn(e.t0.message):(r=si.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Yr.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Si.apply(this,arguments)}function Ei(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ii();case 3:return r=e.sent,i=r.transaction(wi,"readwrite"),a=i.objectStore(wi),e.next=8,a.put(n,Ci(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof er?Yr.warn(e.t0.message):(o=si.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Yr.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ti.apply(this,arguments)}function Ci(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ni=1024,Ai=function(){function e(t){var n=this;$(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Li(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return X(e,[{key:"triggerHeartbeat",value:function(){var e=vr(dr().mark((function e(){var t,n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ri(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=vr(dr().mark((function e(){var t,n,r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ri(),n=Di(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Vn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ri(){return(new Date).toISOString().substring(0,10)}function Di(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ni,r=[],i=e.slice(),a=Nn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Mi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Mi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Oi,Pi,Li=function(){function e(t){$(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return X(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,_i(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ei(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ei(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(u(r.heartbeats),u(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Mi(e){return Vn(JSON.stringify({version:2,heartbeats:e})).length}Oi="",ri(new mr("platform-logger",(function(e){return new Wr(e)}),"PRIVATE")),ri(new mr("heartbeat",(function(e){return new Ai(e)}),"PRIVATE")),mi(Qr,$r,Oi),mi(Qr,$r,"esm2017"),mi("fire-js","");var ji=function(){function e(t,n){var r=this;$(this,e),this._delegate=t,this.firebase=n,ti(t,new mr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return X(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),pi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ti(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ni(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Fi=(l(Pi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(Pi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Pi),Ui=new tr("app-compat","Firebase",Fi);var Vi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=fi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(rr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:mi,setLogLevel:gi,onLog:yi,apps:null,SDK_VERSION:li,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ri(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ui.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&zn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!rr(n,e=e||Xr))throw Ui.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ji);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){zn(n,e)},createSubscribe:cr,ErrorFactory:tr,deepExtend:zn}),n}(),Bi=new Tr("@firebase/app-compat"),zi="@firebase/app-compat",qi="0.2.5";if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Bi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ki=self.firebase.SDK_VERSION;Ki&&Ki.indexOf("LITE")>=0&&Bi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gi=Vi;!function(e){mi(zi,qi,e)}();function Hi(){return Hi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hi.apply(this,arguments)}Gi.registerVersion("firebase","9.18.0","app-compat");function Wi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Qi;Object.create;var $i={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Yi={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function Xi(){return l({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ji=function(){var e;return l(e={},"admin-restricted-operation","This operation is restricted to administrators only."),l(e,"argument-error",""),l(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),l(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),l(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),l(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),l(e,"cordova-not-ready","Cordova framework is not ready."),l(e,"cors-unsupported","This browser is not supported."),l(e,"credential-already-in-use","This credential is already associated with a different user account."),l(e,"custom-token-mismatch","The custom token corresponds to a different audience."),l(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),l(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),l(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),l(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),l(e,"email-already-in-use","The email address is already in use by another account."),l(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),l(e,"expired-action-code","The action code has expired."),l(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),l(e,"internal-error","An internal AuthError has occurred."),l(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),l(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),l(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),l(e,"invalid-auth-event","An internal AuthError has occurred."),l(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),l(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),l(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),l(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),l(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),l(e,"invalid-email","The email address is badly formatted."),l(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),l(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),l(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),l(e,"invalid-credential","The supplied auth credential is malformed or has expired."),l(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),l(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),l(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),l(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),l(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),l(e,"wrong-password","The password is invalid or the user does not have a password."),l(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),l(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),l(e,"invalid-provider-id","The specified provider ID is invalid."),l(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),l(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),l(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),l(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),l(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),l(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),l(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),l(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),l(e,"missing-continue-uri","A continue URL must be provided in the request."),l(e,"missing-iframe-start","An internal AuthError has occurred."),l(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),l(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),l(e,"missing-multi-factor-info","No second factor identifier is provided."),l(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),l(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),l(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),l(e,"app-deleted","This instance of FirebaseApp has been deleted."),l(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),l(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),l(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),l(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),l(e,"no-auth-event","An internal AuthError has occurred."),l(e,"no-such-provider","User was not linked to an account with the given provider."),l(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),l(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),l(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),l(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),l(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),l(e,"provider-already-linked","User can only be linked to one identity for the given provider."),l(e,"quota-exceeded","The project's quota for this operation has been exceeded."),l(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),l(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),l(e,"rejected-credential","The request contains malformed or mismatching credentials."),l(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),l(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),l(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),l(e,"timeout","The operation has timed out."),l(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),l(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),l(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),l(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),l(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),l(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),l(e,"unverified-email","The operation requires a verified email."),l(e,"user-cancelled","The user did not grant your application the permissions it requested."),l(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),l(e,"user-disabled","The user account has been disabled by an administrator."),l(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),l(e,"user-signed-out",""),l(e,"weak-password","The password must be 6 characters long or more."),l(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),l(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Zi=Xi,ea=new tr("auth","Firebase",Xi()),ta=new Tr("@firebase/auth");function na(e){if(ta.logLevel<=br.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ta.error.apply(ta,["Auth (".concat(li,"): ").concat(e)].concat(n))}}function ra(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ua.apply(void 0,[e].concat(n))}function ia(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ua.apply(void 0,[e].concat(n))}function aa(e,t,n){var r=Object.assign(Object.assign({},Zi()),l({},t,n));return new tr("auth","Firebase",r).create(t,{appName:e.name})}function oa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ra(e,"argument-error"),aa(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ua(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=u(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(u(o)))}return ea.create.apply(ea,[e].concat(n))}function sa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ua.apply(void 0,[t].concat(r))}}function ca(e){var t="INTERNAL ASSERTION FAILED: "+e;throw na(t),new Error(t)}function la(e,t){e||ca(t)}var fa=new Map;function ha(e){la(e instanceof Function,"Expected a class definition");var t=fa.get(e);return t?(la(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fa.set(e,t),t)}function da(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function pa(){return"http:"===va()||"https:"===va()}function va(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ma=function(){function e(t,n){$(this,e),this.shortDelay=t,this.longDelay=n,la(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())||Xn()}return X(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(pa()||Yn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ya(e,t){la(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ga=function(){function e(){$(this,e)}return X(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ka=(l(Qi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),l(Qi,"MISSING_CUSTOM_TOKEN","internal-error"),l(Qi,"INVALID_IDENTIFIER","invalid-email"),l(Qi,"MISSING_CONTINUE_URI","internal-error"),l(Qi,"INVALID_PASSWORD","wrong-password"),l(Qi,"MISSING_PASSWORD","internal-error"),l(Qi,"EMAIL_EXISTS","email-already-in-use"),l(Qi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),l(Qi,"INVALID_IDP_RESPONSE","invalid-credential"),l(Qi,"INVALID_PENDING_TOKEN","invalid-credential"),l(Qi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),l(Qi,"MISSING_REQ_TYPE","internal-error"),l(Qi,"EMAIL_NOT_FOUND","user-not-found"),l(Qi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),l(Qi,"EXPIRED_OOB_CODE","expired-action-code"),l(Qi,"INVALID_OOB_CODE","invalid-action-code"),l(Qi,"MISSING_OOB_CODE","internal-error"),l(Qi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),l(Qi,"INVALID_ID_TOKEN","invalid-user-token"),l(Qi,"TOKEN_EXPIRED","user-token-expired"),l(Qi,"USER_NOT_FOUND","user-token-expired"),l(Qi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),l(Qi,"INVALID_CODE","invalid-verification-code"),l(Qi,"INVALID_SESSION_INFO","invalid-verification-id"),l(Qi,"INVALID_TEMPORARY_PROOF","invalid-credential"),l(Qi,"MISSING_SESSION_INFO","missing-verification-id"),l(Qi,"SESSION_EXPIRED","code-expired"),l(Qi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),l(Qi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),l(Qi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),l(Qi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),l(Qi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),l(Qi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),l(Qi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),l(Qi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),l(Qi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),l(Qi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),l(Qi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Qi),ba=new ma(3e4,6e4);function wa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function xa(e,t,n,r){return Ia.apply(this,arguments)}function Ia(){return Ia=vr(dr().mark((function e(t,n,r,i){var a,o=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",_a(t,a,vr(dr().mark((function e(){var a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=or(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ga.fetch()(Ca(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function _a(e,t,n){return Sa.apply(this,arguments)}function Sa(){return Sa=vr(dr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ka),n),e.prev=2,a=new Na(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Aa(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=v(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Aa(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Aa(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Aa(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw aa(t,d,h);case 34:ra(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof er)){e.next=41;break}throw e.t0;case 41:ra(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Sa.apply(this,arguments)}function Ea(e,t,n,r){return Ta.apply(this,arguments)}function Ta(){return Ta=vr(dr().mark((function e(t,n,r,i){var a,o,u=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,xa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ra(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ca(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ya(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Na=function(){function e(t){var n=this;$(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ia(n.auth,"network-request-failed"))}),ba.get())}))}return X(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Aa(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ia(e,t,r);return i.customData._tokenResponse=n,i}function Ra(e,t){return Da.apply(this,arguments)}function Da(){return Da=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function Oa(e,t){return Pa.apply(this,arguments)}function Pa(){return Pa=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function ja(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Fa(){return Fa=vr(dr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=hr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,sa((a=Va(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ja(Ua(a.auth_time)),issuedAtTime:ja(Ua(a.iat)),expirationTime:ja(Ua(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Ua(e){return 1e3*Number(e)}function Va(e){var t=v(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return na("JWT malformed, contained fewer than 3 sections"),null;try{var a=Bn(r);return a?JSON.parse(a):(na("Failed to decode base64 JWT payload"),null)}catch(o){return na("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Ba(e,t){return za.apply(this,arguments)}function za(){return za=vr(dr().mark((function e(t,n){var r=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof er&&qa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),za.apply(this,arguments)}function qa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ka=function(){function e(t){$(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return X(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ga=function(){function e(t,n){$(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return X(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ha(e){return Wa.apply(this,arguments)}function Wa(){return Wa=vr(dr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ba(t,La(r,{idToken:i}));case 6:sa(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Wi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=$a(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ga(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Qa(){return(Qa=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hr(t),e.next=3,Ha(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $a(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(u(n),u(t))}function Ya(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a(t,{},vr(dr().mark((function e(){var r,i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=or({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ca(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ga.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}var Ja=function(){function e(){$(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return X(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){sa(e.idToken,"internal-error"),sa("undefined"!==typeof e.idToken,"internal-error"),sa("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Va(e);return sa(t,"internal-error"),sa("undefined"!==typeof t.exp,"internal-error"),sa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=vr(dr().mark((function e(t){var n,r=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],sa(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ca("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(sa("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(sa("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(sa("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Za(e,t){sa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var eo=function(){function e(t){$(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Wi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ka(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?u(a.providerData):[],this.metadata=new Ga(a.createdAt||void 0,a.lastLoginAt||void 0)}return X(e,[{key:"getIdToken",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ba(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(sa(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Fa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Qa.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(sa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){sa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=vr(dr().mark((function e(t){var n,r,i=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ha(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ba(this,Ra(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;sa(k&&I,t,"internal-error");var _=Ja.fromJSON(this.name,I);sa("string"===typeof k,t,"internal-error"),Za(f,t.name),Za(h,t.name),sa("boolean"===typeof b,t,"internal-error"),sa("boolean"===typeof w,t,"internal-error"),Za(d,t.name),Za(p,t.name),Za(v,t.name),Za(m,t.name),Za(y,t.name),Za(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=vr(dr().mark((function t(n,r){var i,a,o,u=arguments;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ja).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ha(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),to=function(){function e(){$(this,e),this.type="NONE",this.storage={}}return X(e,[{key:"_isAvailable",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();to.type="NONE";var no=to;function ro(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var io=function(){function e(t,n,r){$(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ro(this.userKey,a.apiKey,o),this.fullPersistenceKey=ro("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return X(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?eo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=vr(dr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ha(no),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ha(no),u=ro(i,n.config.apiKey,n.name),s=null,c=Nn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=eo._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ao(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(co(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fo(t))return"Blackberry";if(ho(t))return"Webos";if(uo(t))return"Safari";if((t.includes("chrome/")||so(t))&&!t.includes("edge/"))return"Chrome";if(lo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/firefox\//i.test(e)}function uo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/crios\//i.test(e)}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/iemobile/i.test(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/android/i.test(e)}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/blackberry/i.test(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/webos/i.test(e)}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return po(e)||lo(e)||ho(e)||fo(e)||/windows phone/i.test(e)||co(e)}function mo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ao(Qn());break;case"Worker":t="".concat(ao(Qn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(li,"/").concat(r)}var yo=function(){function e(t){$(this,e),this.auth=t,this.queue=[]}return X(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=vr(dr().mark((function e(t){var n,r,i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Nn(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Nn(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),go=function(){function e(t,n,r){$(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bo(this),this.idTokenSubscription=new bo(this),this.beforeStateQueue=new yo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ea,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return X(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ha(t)),this._initializationPromise=this.queue(vr(dr().mark((function r(){var i,a;return dr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,io.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=vr(dr().mark((function e(t){var n,r,i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return sa(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ha(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?hr(t):null)&&sa(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=vr(dr().mark((function e(t){var n,r=this,i=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&sa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(vr(dr().mark((function n(){return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ha(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new tr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return sa(n=t&&ha(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,io.create(this,[ha(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=vr(dr().mark((function e(t){var n=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return sa(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return sa(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=vr(dr().mark((function e(){var t,n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ko(e){return hr(e)}var bo=function(){function e(t){var n=this;$(this,e),this.auth=t,this.observer=null,this.addObserver=cr((function(e){return n.observer=e}))}return X(e,[{key:"next",get:function(){return sa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wo(e,t,n){var r=ko(e);sa(r._canInitEmulator,r,"emulator-config-failed"),sa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=xo(t),o=function(e){var t=xo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Io(r.substr(a.length+1))}}var o=v(r.split(":"),2);return{host:o[0],port:Io(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function xo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Io(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var _o=function(){function e(t,n){$(this,e),this.providerId=t,this.signInMethod=n}return X(e,[{key:"toJSON",value:function(){return ca("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ca("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ca("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ca("not implemented")}}]),e}();function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:resetPassword",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function To(e,t){return Co.apply(this,arguments)}function Co(){return Co=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function No(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:update",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Ro(e,t){return Do.apply(this,arguments)}function Do(){return Do=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithPassword",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Oo(e,t){return Po.apply(this,arguments)}function Po(){return Po=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:sendOobCode",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Lo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,n));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function jo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,n));case 1:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,n));case 1:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(e,t){return zo.apply(this,arguments)}function zo(){return zo=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,n));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function qo(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Go(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithEmailLink",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}var Wo=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return $(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return X(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ro(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qo(t,{email:this._email,oobCode:this._password}));case 5:ra(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",To(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Go(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ra(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(_o);function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithIdp",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}var Yo=function(e){Rn(n,e);var t=Pn(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return X(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Qo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=or(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ra("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Wi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(_o);function Xo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:sendVerificationCode",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(){return Zo=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithPhoneNumber",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function eu(){return eu=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(t,"POST","/v1/accounts:signInWithPhoneNumber",wa(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Aa(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}var tu=l({},"USER_NOT_FOUND","user-not-found");function nu(){return nu=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithPhoneNumber",wa(t,r),tu));case 2:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}var ru=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this,"phone","phone")).params=e,r}return X(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Zo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return eu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return nu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(_o);var iu=function(){function e(t){var n,r,i,a,o,u;$(this,e);var s=ur(sr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);sa(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return X(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ur(sr(e)).link,n=t?ur(sr(t)).deep_link_id:null,r=ur(sr(e)).deep_link_id;return(r?ur(sr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(kE){return null}}}]),e}();var au=function(){function e(){$(this,e),this.providerId=e.PROVIDER_ID}return X(e,null,[{key:"credential",value:function(e,t){return Wo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=iu.parseLink(t);return sa(n,"argument-error"),Wo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();au.PROVIDER_ID="password",au.EMAIL_PASSWORD_SIGN_IN_METHOD="password",au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ou=function(){function e(t){$(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return X(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),uu=function(e){Rn(n,e);var t=Pn(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).scopes=[],e}return X(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return u(this.scopes)}}]),n}(ou),su=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return sa(e.idToken||e.accessToken,"argument-error"),Yo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return sa("providerId"in t&&"signInMethod"in t,"argument-error"),Yo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(uu),cu=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.call(this,"facebook.com")}return X(n,null,[{key:"credential",value:function(e){return Yo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kE){return null}}}]),n}(uu);cu.FACEBOOK_SIGN_IN_METHOD="facebook.com",cu.PROVIDER_ID="facebook.com";var lu=function(e){Rn(n,e);var t=Pn(n);function n(){var e;return $(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return X(n,null,[{key:"credential",value:function(e,t){return Yo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(kE){return null}}}]),n}(uu);lu.GOOGLE_SIGN_IN_METHOD="google.com",lu.PROVIDER_ID="google.com";var fu=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.call(this,"github.com")}return X(n,null,[{key:"credential",value:function(e){return Yo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(kE){return null}}}]),n}(uu);fu.GITHUB_SIGN_IN_METHOD="github.com",fu.PROVIDER_ID="github.com";var hu=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return X(n,[{key:"_getIdTokenResponse",value:function(e){return Qo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_o),du=function(e){Rn(n,e);var t=Pn(n);function n(e){return $(this,n),sa(e.startsWith("saml."),"argument-error"),t.call(this,e)}return X(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=hu.fromJSON(e);return sa(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return hu._create(r,n)}catch(i){return null}}}]),n}(ou),pu=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.call(this,"twitter.com")}return X(n,null,[{key:"credential",value:function(e,t){return Yo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(kE){return null}}}]),n}(uu);function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signUp",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}pu.TWITTER_SIGN_IN_METHOD="twitter.com",pu.PROVIDER_ID="twitter.com";var yu=function(){function e(t){$(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return X(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=vr(dr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,eo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=gu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=vr(dr().mark((function t(n,r,i){var a;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=gu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function gu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ku(){return ku=vr(dr().mark((function e(t){var n,r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ko(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new yu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,vu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,yu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}var bu=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a){var o,u;return $(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(An(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return X(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(er);function wu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bu._fromErrorAndOperation(e,n,t,r);throw n}))}function xu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Iu(e,t){return _u.apply(this,arguments)}function _u(){return _u=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hr(t),e.next=3,Tu(!0,r,n);case 3:return e.t0=Oa,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=xu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function Su(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=vr(dr().mark((function e(t,n){var r,i,a=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ba,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",yu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Tu(e,t,n){return Cu.apply(this,arguments)}function Cu(){return(Cu=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(n);case 2:i=xu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",sa(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t){return Au.apply(this,arguments)}function Au(){return Au=vr(dr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ba(t,wu(i,a,n,t),r);case 6:return sa((o=e.sent).idToken,i,"internal-error"),sa(u=Va(o.idToken),i,"internal-error"),s=u.sub,sa(t.uid===s,i,"user-mismatch"),e.abrupt("return",yu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ra(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Au.apply(this,arguments)}function Ru(e,t){return Du.apply(this,arguments)}function Du(){return Du=vr(dr().mark((function e(t,n){var r,i,a,o,u=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,wu(t,i,n);case 4:return a=e.sent,e.next=7,yu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Ou(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ru(ko(t),n));case 1:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hr(t),e.next=3,Tu(!1,r,n.providerId);case 3:return e.abrupt("return",Su(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Fu.apply(this,arguments)}function Fu(){return(Fu=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(hr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithCustomToken",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Bu(){return Bu=vr(dr().mark((function e(t,n){var r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ko(t),e.next=3,Uu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,yu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}var zu=function(){function e(t,n){$(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return X(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?qu._fromServerResponse(e,t):ra(e,"internal-error")}}]),e}(),qu=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return X(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(zu);function Ku(e,t,n){var r;sa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),sa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(sa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(sa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gu(){return Gu=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hr(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ku(i,a,r),e.next=5,jo(i,a);case 5:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Hu(){return Hu=vr(dr().mark((function e(t,n,r){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,So(hr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Wu(){return Wu=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(hr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function Qu(e,t){return $u.apply(this,arguments)}function $u(){return $u=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hr(t),e.next=3,So(r,{oobCode:n});case 3:i=e.sent,sa(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return sa(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:sa(i.mfaInfo,r,"internal-error");case 13:sa(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=zu._fromServerResponse(ko(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Yu(){return Yu=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qu(hr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Xu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return Ju=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ko(t),e.next=3,vu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,yu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Zu(){return Zu=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hr(t),a={requestType:"EMAIL_SIGNIN",email:n},sa(r.handleCodeInApp,i,"argument-error"),r&&Ku(i,a,r),e.next=6,Uo(i,a);case 6:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function es(){return es=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hr(t),sa((a=au.credentialWithLink(n,r||da()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ou(i,a));case 4:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:createAuthUri",wa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(){return rs=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pa()?da():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ts(hr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(){return(is=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ku(r.auth,a,n),e.next=8,Lo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function as(){return(as=vr(dr().mark((function e(t,n,r){var i,a,o,u;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ku(i.auth,o,r),e.next=8,Bo(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(){return(ss=vr(dr().mark((function e(t,n){var r,i,a,o,u,s,c;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=hr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ba(a,os(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(e,t,n){return ls.apply(this,arguments)}function ls(){return ls=vr(dr().mark((function e(t,n,r){var i,a,o,u;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ba(t,To(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}var fs=X((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),hs=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a){var o;return $(this,n),(o=t.call(this,e,r,i)).username=a,o}return X(n)}(fs),ds=function(e){Rn(n,e);var t=Pn(n);function n(e,r){return $(this,n),t.call(this,e,"facebook.com",r)}return X(n)}(fs),ps=function(e){Rn(n,e);var t=Pn(n);function n(e,r){return $(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return X(n)}(hs),vs=function(e){Rn(n,e);var t=Pn(n);function n(e,r){return $(this,n),t.call(this,e,"google.com",r)}return X(n)}(fs),ms=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){return $(this,n),t.call(this,e,"twitter.com",r,i)}return X(n)}(hs);function ys(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Va(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new fs(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ds(a,i);case"github.com":return new ps(a,i);case"google.com":return new vs(a,i);case"twitter.com":return new ms(a,i,e.screenName||null);case"custom":case"anonymous":return new fs(a,null);default:return new fs(a,r,i)}}(n)}var gs=function(){function e(t,n,r){$(this,e),this.type=t,this.credential=n,this.auth=r}return X(e,[{key:"toJSON",value:function(){return{multiFactorSession:l({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ks=function(){function e(t,n,r){$(this,e),this.session=t,this.hints=n,this.signInResolver=r}return X(e,[{key:"resolveSignIn",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ko(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return zu._fromServerResponse(r,e)}));sa(i.mfaPendingCredential,r,"internal-error");var o=gs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=vr(dr().mark((function e(t){var a,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,yu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return sa(n.user,r,"internal-error"),e.abrupt("return",yu._forOperation(n.user,n.operationType,u));case 17:ra(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function bs(e,t){return xa(e,"POST","/v2/accounts/mfaEnrollment:start",wa(e,t))}function ws(e,t){return xa(e,"POST","/v2/accounts/mfaEnrollment:withdraw",wa(e,t))}var xs=function(){function e(t){var n=this;$(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return zu._fromServerResponse(t.auth,e)})))}))}return X(e,[{key:"getSession",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=gs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=vr(dr().mark((function e(t,n){var r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ba(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=vr(dr().mark((function e(t){var n,r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Ba(this.user,ws(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Is=new WeakMap;var _s="__sak",Ss=function(){function e(t,n){$(this,e),this.storageRetriever=t,this.type=n}return X(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(_s,"1"),this.storage.removeItem(_s),Promise.resolve(!0)):Promise.resolve(!1)}catch(kE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Es=function(e){Rn(n,e);var t=Pn(n);function n(){var e;return $(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Qn();return uo(e)||po(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=vo(),e._shouldAllowMigration=!0,e}return X(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Jn()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=vr(dr().mark((function e(t,r){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Dn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vr(dr().mark((function e(t){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Dn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Dn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ss);Es.type="LOCAL";var Ts=Es,Cs=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return X(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ss);Cs.type="SESSION";var Ns=Cs;function As(e){return Promise.all(e.map(function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Rs=function(){function e(t){$(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return X(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=vr(dr().mark((function e(t){var n,r,i,a,o,u,s,c;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,As(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ds(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rs.receivers=[];var Os=function(){function e(t){$(this,e),this.target=t,this.handlers=new Set}return X(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=vr(dr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ds("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ps(){return window}function Ls(){return"undefined"!==typeof Ps().WorkerGlobalScope&&"function"===typeof Ps().importScripts}function Ms(){return js.apply(this,arguments)}function js(){return(js=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Fs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Us="firebaseLocalStorageDb",Vs=1,Bs="firebaseLocalStorage",zs="fbase_key",qs=function(){function e(t){$(this,e),this.request=t}return X(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ks(e,t){return e.transaction([Bs],t?"readwrite":"readonly").objectStore(Bs)}function Gs(){var e=indexedDB.deleteDatabase(Us);return new qs(e).toPromise()}function Hs(){var e=indexedDB.open(Us,Vs);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Bs,{keyPath:zs})}catch(r){n(r)}})),e.addEventListener("success",vr(dr().mark((function n(){var r;return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Bs)){n.next=12;break}return r.close(),n.next=5,Gs();case 5:return n.t0=t,n.next=8,Hs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ws(e,t,n){return Qs.apply(this,arguments)}function Qs(){return Qs=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ks(t,!0).put((l(i={},zs,n),l(i,"value",r),i)),e.abrupt("return",new qs(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function $s(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t,!1).get(n),e.next=3,new qs(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t){var n=Ks(e,!0).delete(t);return new qs(n).toPromise()}var Js=function(){function e(){$(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return X(e,[{key:"_openDb",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Hs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ls()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=vr(dr().mark((function e(){var t=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Rs._getInstance(Ls()?self:null),this.receiver._subscribe("keyChanged",function(){var e=vr(dr().mark((function e(n,r){var i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=vr(dr().mark((function e(){var t,n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Os(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Fs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Hs();case 5:return t=e.sent,e.next=8,Ws(t,_s,"1");case 8:return e.next=10,Xs(t,_s);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vr(dr().mark((function e(t,n){var r=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ws(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $s(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vr(dr().mark((function e(t){var n=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Xs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=vr(dr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ks(e,!1).getAll();return new qs(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Nn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Js.type="LOCAL";var Zs=Js;function ec(e,t){return xa(e,"POST","/v2/accounts/mfaSignIn:start",wa(e,t))}function tc(e){return nc.apply(this,arguments)}function nc(){return nc=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ia("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ic(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ac=1e12,oc=function(){function e(t){$(this,e),this.auth=t,this.counter=ac,this._widgets=new Map}return X(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new uc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ac;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ac;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ac,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),uc=function(){function e(t,n,r){var i=this;$(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;sa(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return X(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var sc=ic("rcb"),cc=new ma(3e4,6e4),lc=function(){function e(){var t;$(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ps().grecaptcha)||void 0===t?void 0:t.render)}return X(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return sa(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ps().grecaptcha):new Promise((function(r,i){var a=Ps().setTimeout((function(){i(ia(e,"network-request-failed"))}),cc.get());Ps()[sc]=function(){Ps().clearTimeout(a),delete Ps()[sc];var o=Ps().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ia(e,"internal-error"))},rc("".concat("https://www.google.com/recaptcha/api.js?","?").concat(or({onload:sc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ia(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ps().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var fc=function(){function e(){$(this,e)}return X(e,[{key:"load",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new oc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),hc="recaptcha",dc={theme:"light",type:"image"},pc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},dc),r=arguments.length>2?arguments[2]:void 0;$(this,e),this.parameters=n,this.type=hc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ko(r),this.isInvisible="invisible"===this.parameters.size,sa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;sa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fc:new lc,this.validateStartingState()}return X(e,[{key:"verify",value:function(){var e=vr(dr().mark((function e(){var t,n,r,i=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){sa(!this.parameters.sitekey,this.auth,"argument-error"),sa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),sa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ps()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){sa(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=vr(dr().mark((function e(){var t,n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa(pa()&&!Ls(),this.auth,"internal-error"),e.next=3,vc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,tc(this.auth);case 8:sa(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return sa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function vc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var mc=function(){function e(t,n){$(this,e),this.verificationId=t,this.onConfirmation=n}return X(e,[{key:"confirm",value:function(e){var t=ru._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function yc(){return yc=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ko(t),e.next=3,wc(i,n,hr(r));case 3:return a=e.sent,e.abrupt("return",new mc(a,(function(e){return Ou(i,e)})));case 5:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t,n){return kc.apply(this,arguments)}function kc(){return(kc=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hr(t),e.next=3,Tu(!1,i,"phone");case 3:return e.next=5,wc(i.auth,n,hr(r));case 5:return a=e.sent,e.abrupt("return",new mc(a,(function(e){return Lu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bc(){return(bc=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hr(t),e.next=3,wc(i.auth,n,hr(r));case 3:return a=e.sent,e.abrupt("return",new mc(a,(function(e){return ju(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e,t,n){return xc.apply(this,arguments)}function xc(){return xc=vr(dr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,sa("string"===typeof a,t,"argument-error"),sa(r.type===hc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return sa("enroll"===u.type,t,"internal-error"),e.next=13,bs(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return sa("signin"===u.type,t,"internal-error"),sa(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ec(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Xo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),xc.apply(this,arguments)}function Ic(){return(Ic=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su(hr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _c=function(){function e(t){$(this,e),this.providerId=e.PROVIDER_ID,this.auth=ko(t)}return X(e,[{key:"verifyPhoneNumber",value:function(e,t){return wc(this.auth,e,hr(t))}}],[{key:"credential",value:function(e,t){return ru._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ru._fromTokenResponse(n,r):null}}]),e}();function Sc(e,t){return t?ha(t):(sa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}_c.PROVIDER_ID="phone",_c.PHONE_SIGN_IN_METHOD="phone";var Ec=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this,"custom","custom")).params=e,r}return X(n,[{key:"_getIdTokenResponse",value:function(e){return Qo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Qo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(_o);function Tc(e){return Ru(e.auth,new Ec(e),e.bypassAuthState)}function Cc(e){var t=e.auth,n=e.user;return sa(n,t,"internal-error"),Nu(n,new Ec(e),e.bypassAuthState)}function Nc(e){return Ac.apply(this,arguments)}function Ac(){return Ac=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,sa(r=t.user,n,"internal-error"),e.abrupt("return",Su(r,new Ec(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}var Rc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];$(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return X(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=vr(dr().mark((function t(n,r){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=vr(dr().mark((function e(t){var n,r,i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tc;case"linkViaPopup":case"linkViaRedirect":return Nc;case"reauthViaPopup":case"reauthViaRedirect":return Cc;default:ra(this.auth,"internal-error")}}},{key:"resolve",value:function(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Dc=new ma(2e3,1e4);function Oc(e,t,n){return Pc.apply(this,arguments)}function Pc(){return Pc=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ko(t),oa(t,n,ou),a=Sc(i,r),o=new Fc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Lc(){return(Lc=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oa((i=hr(t)).auth,n,ou),a=Sc(i.auth,r),o=new Fc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t,n){return jc.apply(this,arguments)}function jc(){return(jc=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oa((i=hr(t)).auth,n,ou),a=Sc(i.auth,r),o=new Fc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fc=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a,o){var u;return $(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=An(u),u}return X(n,[{key:"executeNotNull",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return sa(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vr(dr().mark((function e(){var t,n=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return la(1===this.filter.length,"Popup operations only handle one event"),t=Ds(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ia(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ia(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ia(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Dc.get())}()}}]),n}(Rc);Fc.currentPopupAction=null;var Uc="pendingRedirect",Vc=new Map,Bc=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return $(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return X(n,[{key:"execute",value:function(){var e=vr(dr().mark((function e(){var t,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Hi(Dn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Vc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=vr(dr().mark((function e(t){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Hi(Dn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Hi(Dn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Rc);function zc(e,t){return qc.apply(this,arguments)}function qc(){return qc=vr(dr().mark((function e(t,n){var r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(n),i=Wc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Kc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc(t)._set(Qc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Hc(e,t){Vc.set(e._key(),t)}function Wc(e){return ha(e._redirectPersistence)}function Qc(e){return ro(Uc,e.config.apiKey,e.name)}function $c(e,t,n){return function(e,t,n){return Yc.apply(this,arguments)}(e,t,n)}function Yc(){return Yc=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ko(t),oa(t,n,ou),e.next=4,i._initializationPromise;case 4:return a=Sc(i,r),e.next=7,Kc(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(e,t,n){return function(e,t,n){return Jc.apply(this,arguments)}(e,t,n)}function Jc(){return(Jc=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oa((i=hr(t)).auth,n,ou),e.next=4,i.auth._initializationPromise;case 4:return a=Sc(i.auth,r),e.next=7,Kc(a,i.auth);case 7:return e.next=9,al(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t,n){return function(e,t,n){return el.apply(this,arguments)}(e,t,n)}function el(){return(el=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oa((i=hr(t)).auth,n,ou),e.next=4,i.auth._initializationPromise;case 4:return a=Sc(i.auth,r),e.next=7,Tu(!1,i,n.providerId);case 7:return e.next=9,Kc(a,i.auth);case 9:return e.next=11,al(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return nl=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(t)._initializationPromise;case 2:return e.abrupt("return",rl(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e,t){return il.apply(this,arguments)}function il(){return il=vr(dr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ko(t),a=Sc(i,n),o=new Bc(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(e){return ol.apply(this,arguments)}function ol(){return(ol=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ds("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ul=function(){function e(t){$(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return X(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ia(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ll(e){return fl.apply(this,arguments)}function fl(){return fl=vr(dr().mark((function e(t){var n,r=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",xa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}var hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dl=/^https?/;function pl(){return pl=vr(dr().mark((function e(t){var n,r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ll(t);case 4:n=e.sent,r=n.authorizedDomains,i=Nn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ra(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),pl.apply(this,arguments)}function vl(e){var t=da(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!dl.test(r))return!1;if(hl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ml=new ma(3e4,6e4);function yl(){var e=Ps().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=u(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gl=null;function kl(e){return gl=gl||function(e){return new Promise((function(t,n){var r,i,a;function o(){yl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yl(),n(ia(e,"network-request-failed"))},timeout:ml.get()})}if(null===(i=null===(r=Ps().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ps().gapi)||void 0===a?void 0:a.load)){var u=ic("iframefcb");return Ps()[u]=function(){gapi.load?o():n(ia(e,"network-request-failed"))},rc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gl=null,e}))}(e),gl}var bl=new ma(5e3,15e3),wl="__/auth/iframe",xl="emulator/auth/iframe",Il={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_l=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sl(e){var t=e.config;sa(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ya(t,xl):"https://".concat(e.config.authDomain,"/").concat(wl),r={apiKey:t.apiKey,appName:e.name,v:li},i=_l.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(or(r).slice(1))}function El(e){return Tl.apply(this,arguments)}function Tl(){return Tl=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(t);case 2:return n=e.sent,sa(r=Ps().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Sl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Il,dontclear:!0},(function(e){return new Promise(function(){var n=vr(dr().mark((function n(r,i){var a,o,u;return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ps().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ia(t,"network-request-failed"),o=Ps().setTimeout((function(){i(a)}),bl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}var Cl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nl=500,Al=600,Rl="_blank",Dl="http://localhost",Ol=function(){function e(t){$(this,e),this.window=t,this.associatedEvent=null}return X(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Pl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Nl,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Al,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Cl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Qn().toLowerCase();n&&(u=so(c)?Rl:n),oo(c)&&(t=t||Dl,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=v(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return po(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Ol(null);var f=window.open(t||"",u,l);sa(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ol(f)}var Ll="__/auth/handler",Ml="emulator/auth/handler";function jl(e,t,n,r,i,a){sa(e.config.authDomain,e,"auth-domain-config-required"),sa(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:li,eventId:i};if(t instanceof ou){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=v(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof uu){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,m=Object.keys(d);p<m.length;p++){var y=m[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ll);return ya(t,Ml)}(e),"?").concat(or(d).slice(1))}var Fl="webStorageSupport",Ul=function(){function e(){$(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ns,this._completeRedirectFn=rl,this._overrideRedirectResult=Hc}return X(e,[{key:"_openPopup",value:function(){var e=vr(dr().mark((function e(t,n,r,i){var a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return la(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=jl(t,n,r,da(),i),e.abrupt("return",Pl(t,o,Ds()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vr(dr().mark((function e(t,n,r,i){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=jl(t,n,r,da(),i),Ps().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(la(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El(t);case 2:return n=e.sent,r=new ul(t),n.register("authEvent",(function(e){return sa(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Fl,{type:Fl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Fl];void 0!==i&&t(!!i),ra(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return vo()||uo()||po()}}]),e}(),Vl=Ul,Bl=function(){function e(t){$(this,e),this.factorId=t}return X(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ca("unexpected MultiFactorSessionType")}}}]),e}(),zl=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this,"phone")).credential=e,r}return X(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return xa(e,"POST","/v2/accounts/mfaEnrollment:finalize",wa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return xa(e,"POST","/v2/accounts/mfaSignIn:finalize",wa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Bl),ql=function(){function e(){$(this,e)}return X(e,null,[{key:"assertion",value:function(e){return zl._fromCredential(e)}}]),e}();ql.FACTOR_ID="phone";var Kl="@firebase/auth",Gl="0.21.5",Hl=function(){function e(t){$(this,e),this.auth=t,this.internalListeners=new Map}return X(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){sa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Wl;!function(e){var t;null===(t=Gn())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Ql(){return window}Wl="Browser",ri(new mr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){sa(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),sa(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Wl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mo(Wl)},i=new go(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ha);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ri(new mr("auth-internal",(function(e){return function(e){return new Hl(e)}(ko(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),mi(Kl,Gl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Wl)),mi(Kl,Gl,"esm2017");var $l=2e3;function Yl(e,t,n){return Xl.apply(this,arguments)}function Xl(){return Xl=vr(dr().mark((function e(t,n,r){var i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ql(),o=a.BuildInfo,la(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,rf(n.sessionId);case 4:return u=e.sent,s={},po()?s.ibi=o.packageName:lo()?s.apn=o.packageName:ra(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",jl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Jl(){return Jl=vr(dr().mark((function e(t){var n,r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ql(),r=n.BuildInfo,i={},po()?i.iosBundleId=r.packageName:lo()?i.androidPackageName=r.packageName:ra(t,"operation-not-supported-in-this-environment"),e.next=5,ll(t,i);case 5:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Zl(e){var t=Ql().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ef(e,t,n){return tf.apply(this,arguments)}function tf(){return tf=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ql(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ia(t,"redirect-cancelled-by-user"))}),$l))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),lo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),tf.apply(this,arguments)}function nf(e){var t,n,r,i,a,o,u,s,c,l,f=Ql();sa("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),sa("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),sa("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),sa("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),sa("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function rf(e){return af.apply(this,arguments)}function af(){return(af=vr(dr().mark((function e(t){var n,r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=of(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function of(e){if(la(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var uf=20,sf=function(e){Rn(n,e);var t=Pn(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return X(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Hi(Dn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ul);function cf(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:pf(),postBody:null,tenantId:e.tenantId,error:ia(e,"no-auth-event")}}function lf(e,t){return vf()._set(mf(e),t)}function ff(e){return hf.apply(this,arguments)}function hf(){return hf=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vf()._get(mf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,vf()._remove(mf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e,t){var n,r,i=function(e){var t=yf(e),n=t.link?decodeURIComponent(t.link):void 0,r=yf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return yf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=yf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ia(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function pf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<uf;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function vf(){return ha(Ts)}function mf(e){return ro("authEvent",e.config.apiKey,e.name)}function yf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=d(t=n)||a(t)||o(t)||p();r[0];return ur(r.slice(1).join("?"))}var gf=function(){function e(){$(this,e),this._redirectPersistence=Ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rl,this._overrideRedirectResult=Hc}return X(e,[{key:"_initialize",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new sf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ra(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=vr(dr().mark((function e(t,n,r,i){var a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Vc.clear(),e.next=10,this._originValidation(t);case 10:return o=cf(t,r,i),e.next=13,lf(t,o);case 13:return e.next=15,Yl(t,o,n);case 15:return u=e.sent,e.next=18,Zl(u);case 18:return s=e.sent,e.abrupt("return",ef(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Jl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ql(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(vr(dr().mark((function n(){return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ff(e);case 2:t.onEvent(bf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=vr(dr().mark((function n(r){var i,a;return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ff(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=df(i,r.url)),t.onEvent(a||bf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Ql().handleOpenURL=function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),kf=gf;function bf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ia("no-auth-event")}}var wf="@firebase/auth-compat",xf="0.3.5",If=1e3;function _f(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Sf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return!("file:"!==_f()&&"ionic:"!==_f()&&"capacitor:"!==_f()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return Jn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/Edge\/\d+/.test(e)}(e)}function Tf(){try{var e=self.localStorage,t=Ds();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ef()||Zn()}catch(n){return Cf()&&Zn()}return!1}function Cf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Nf(){return("http:"===_f()||"https:"===_f()||Yn()||Sf())&&!(Xn()||$n())&&Tf()&&!Cf()}function Af(){return Sf()&&"undefined"!==typeof document}function Rf(){return Df.apply(this,arguments)}function Df(){return(Df=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Af()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),If);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Of={LOCAL:"local",NONE:"none",SESSION:"session"},Pf=sa,Lf="persistence";function Mf(e,t){Pf(Object.values(Of).includes(t),e,"invalid-persistence-type"),Xn()?Pf(t!==Of.SESSION,e,"unsupported-persistence-type"):$n()?Pf(t===Of.NONE,e,"unsupported-persistence-type"):Cf()?Pf(t===Of.NONE||t===Of.LOCAL&&Zn(),e,"unsupported-persistence-type"):Pf(t===Of.NONE||Tf(),e,"unsupported-persistence-type")}function jf(e){return Ff.apply(this,arguments)}function Ff(){return Ff=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Uf(),r=ro(Lf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Uf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Vf=sa,Bf=function(){function e(){$(this,e),this.browserResolver=ha(Vl),this.cordovaResolver=ha(kf),this.underlyingResolver=null,this._redirectPersistence=Ns,this._completeRedirectFn=rl,this._overrideRedirectResult=Hc}return X(e,[{key:"_initialize",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=vr(dr().mark((function e(t,n,r,i){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vr(dr().mark((function e(t,n,r,i){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Af()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Vf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Rf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zf(e){return e.unwrap()}function qf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Qf(e,function(e,t){var n,r=hr(e),i=t;return sa(t.customData.operationType,r,"argument-error"),sa(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ks._fromError(r,i)}(e,t));else if(r){var i=Kf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Kf(e){var t=(e instanceof er?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof er)&&"temporaryProof"in t&&"phoneNumber"in t)return _c.credentialFromResult(e);var n,r=t.providerId;if(!r||r===$i.PASSWORD)return null;switch(r){case $i.GOOGLE:n=lu;break;case $i.FACEBOOK:n=cu;break;case $i.GITHUB:n=fu;break;case $i.TWITTER:n=pu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?hu._create(r,u):Yo._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new su(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof er?n.credentialFromError(e):n.credentialFromResult(e)}function Gf(e,t){return t.catch((function(t){throw t instanceof er&&qf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Kf(t)),additionalUserInfo:ys(e),user:$f.getOrCreate(r)}}))}function Hf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Gf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}var Qf=function(){function e(t,n){$(this,e),this.resolver=n,this.auth=t.wrapped()}return X(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Gf(zf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),$f=function(){function e(t){$(this,e),this._delegate=t,this.multiFactor=function(e){var t=hr(e);return Is.has(t)||Is.set(t,xs._fromUser(t)),Is.get(t)}(t)}return X(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(this.auth,Lu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hf(this.auth,gc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(this.auth,Mc(this._delegate,t,Bf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(ko(this.auth));case 2:return e.abrupt("return",Zc(this._delegate,t,Bf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(this.auth,ju(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Hf(this.auth,function(e,t,n){return bc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Gf(this.auth,function(e,t,n){return Lc.apply(this,arguments)}(this._delegate,e,Bf))}},{key:"reauthenticateWithRedirect",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(ko(this.auth));case 2:return e.abrupt("return",Xc(this._delegate,t,Bf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return is.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return cs(hr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return cs(hr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ic.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ss.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return as.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();$f.USER_MAP=new WeakMap;var Yf=sa,Xf=function(){function e(t,n){if($(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Yf(r,"invalid-api-key",{appName:t.name}),Yf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Bf:void 0;this._delegate=n.initialize({options:{persistence:Zf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ji),this.linkUnderlyingAuth()}return X(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?$f.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){wo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Wu.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Qu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(this._delegate,Xu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return rs.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=iu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yf(Nf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tl(this._delegate,Bf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Gf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ko(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Jf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Jf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Zu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mf(this._delegate,t),e.t0=t,e.next=e.t0===Of.SESSION?4:e.t0===Of.LOCAL?6:e.t0===Of.NONE?11:13;break;case 4:return n=Ns,e.abrupt("break",14);case 6:return e.next=8,ha(Zs)._isAvailable();case 8:return r=e.sent,n=r?Zs:Ts,e.abrupt("break",14);case 11:return n=no,e.abrupt("break",14);case 13:return e.abrupt("return",ra("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Gf(this._delegate,function(e){return ku.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Gf(this._delegate,Ou(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Gf(this._delegate,function(e,t){return Bu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Gf(this._delegate,function(e,t,n){return Ou(hr(e),au.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Gf(this._delegate,function(e,t,n){return es.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Hf(this._delegate,function(e,t,n){return yc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yf(Nf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Gf(this._delegate,Oc(this._delegate,t,Bf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yf(Nf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jf(this._delegate);case 3:return e.abrupt("return",$c(this._delegate,t,Bf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Yu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Jf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&$f.getOrCreate(e))},error:t,complete:n}}function Zf(e,t){var n=function(e,t){var n=Uf();if(!n)return[];var r=ro(Lf,e,t);switch(n.getItem(r)){case Of.NONE:return[no];case Of.LOCAL:return[Zs,Ns];case Of.SESSION:return[Ns];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Zs)||n.push(Zs),"undefined"!==typeof window)for(var r=0,i=[Ts,Ns];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(no)||n.push(no),n}Xf.Persistence=Of;var eh=function(){function e(){$(this,e),this.providerId="phone",this._delegate=new _c(zf(Gi.auth()))}return X(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return _c.credential(e,t)}}]),e}();eh.PHONE_SIGN_IN_METHOD=_c.PHONE_SIGN_IN_METHOD,eh.PROVIDER_ID=_c.PROVIDER_ID;var th,nh=sa,rh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gi.app();$(this,e),nh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new pc(t,n,i.auth()),this.type=this._delegate.type}return X(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),ih="auth-compat";(th=Gi).INTERNAL.registerComponent(new mr(ih,(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Xf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yi.EMAIL_SIGNIN,PASSWORD_RESET:Yi.PASSWORD_RESET,RECOVER_EMAIL:Yi.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Yi.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Yi.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Yi.VERIFY_EMAIL}},EmailAuthProvider:au,FacebookAuthProvider:cu,GithubAuthProvider:fu,GoogleAuthProvider:lu,OAuthProvider:su,SAMLAuthProvider:du,PhoneAuthProvider:eh,PhoneMultiFactorGenerator:ql,RecaptchaVerifier:rh,TwitterAuthProvider:pu,Auth:Xf,AuthCredential:_o,Error:er}).setInstantiationMode("LAZY").setMultipleInstances(!1)),th.registerVersion(wf,xf);var ah,oh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},uh={},sh=sh||{},ch=oh||self;function lh(){}function fh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var dh="closure_uid_"+(1e9*Math.random()>>>0),ph=0;function vh(e,t,n){return e.call.apply(e.bind,arguments)}function mh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yh(e,t,n){return(yh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vh:mh).apply(null,arguments)}function gh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function kh(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function bh(){this.s=this.s,this.o=this.o}bh.prototype.s=!1,bh.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,dh)&&e[dh]||(e[dh]=++ph))},bh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ih(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(fh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function _h(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_h.prototype.h=function(){this.defaultPrevented=!0};var Sh=function(){if(!ch.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ch.addEventListener("test",lh,t),ch.removeEventListener("test",lh,t)}catch(n){}return e}();function Eh(e){return/^[\s\xa0]*$/.test(e)}var Th=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ch(e,t){return e<t?-1:e>t?1:0}function Nh(){var e=ch.navigator;return e&&(e=e.userAgent)?e:""}function Ah(e){return-1!=Nh().indexOf(e)}function Rh(e){return Rh[" "](e),e}Rh[" "]=lh;var Dh,Oh=Ah("Opera"),Ph=Ah("Trident")||Ah("MSIE"),Lh=Ah("Edge"),Mh=Lh||Ph,jh=Ah("Gecko")&&!(-1!=Nh().toLowerCase().indexOf("webkit")&&!Ah("Edge"))&&!(Ah("Trident")||Ah("MSIE"))&&!Ah("Edge"),Fh=-1!=Nh().toLowerCase().indexOf("webkit")&&!Ah("Edge");function Uh(){var e=ch.document;return e?e.documentMode:void 0}e:{var Vh="",Bh=function(){var e=Nh();return jh?/rv:([^\);]+)(\)|;)/.exec(e):Lh?/Edge\/([\d\.]+)/.exec(e):Ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Fh?/WebKit\/(\S+)/.exec(e):Oh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Bh&&(Vh=Bh?Bh[1]:""),Ph){var zh=Uh();if(null!=zh&&zh>parseFloat(Vh)){Dh=String(zh);break e}}Dh=Vh}var qh,Kh={};function Gh(){return function(e){var t=Kh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Th(String(Dh)).split("."),n=Th("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ch(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ch(0==a[2].length,0==o[2].length)||Ch(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ch.document&&Ph){var Hh=Uh();qh=Hh||(parseInt(Dh,10)||void 0)}else qh=void 0;var Wh=qh;function Qh(e,t){if(_h.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jh){e:{try{Rh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$h[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qh.X.h.call(this)}}kh(Qh,_h);var $h={2:"touch",3:"pen",4:"mouse"};Qh.prototype.h=function(){Qh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yh="closure_listenable_"+(1e6*Math.random()|0),Xh=0;function Jh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Xh,this.ba=this.ea=!1}function Zh(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ed(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function td(e){var t={};for(var n in e)t[n]=e[n];return t}var nd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<nd.length;a++)n=nd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function id(e){this.src=e,this.g={},this.h=0}function ad(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Zh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function od(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}id.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=od(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Jh(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ud="closure_lm_"+(1e6*Math.random()|0),sd={};function cd(e,t,n,r,i){if(r&&r.once)return fd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)cd(e,t[a],n,r,i);return null}return n=gd(n),e&&e[Yh]?e.N(t,n,hh(r)?!!r.capture:!!r,i):ld(e,t,n,!1,r,i)}function ld(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=hh(i)?!!i.capture:!!i,u=md(e);if(u||(e[ud]=u=new id(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=vd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fd(e,t[a],n,r,i);return null}return n=gd(n),e&&e[Yh]?e.O(t,n,hh(r)?!!r.capture:!!r,i):ld(e,t,n,!0,r,i)}function hd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)hd(e,t[a],n,r,i);else r=hh(r)?!!r.capture:!!r,n=gd(n),e&&e[Yh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=od(a=e.g[t],n,r,i))&&(Zh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=md(e))&&(t=e.g[t.toString()],e=-1,t&&(e=od(t,n,r,i)),(n=-1<e?t[e]:null)&&dd(n))}function dd(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Yh])ad(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=md(t))?(ad(n,e),0==n.h&&(n.src=null,t[ud]=null)):Zh(e)}}}function pd(e){return e in sd?sd[e]:sd[e]="on"+e}function vd(e,t){if(e.ba)e=!0;else{t=new Qh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&dd(e),e=n.call(r,t)}return e}function md(e){return(e=e[ud])instanceof id?e:null}var yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function gd(e){return"function"===typeof e?e:(e[yd]||(e[yd]=function(t){return e.handleEvent(t)}),e[yd])}function kd(){bh.call(this),this.i=new id(this),this.P=this,this.I=null}function bd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new _h(t,e);else if(t instanceof _h)t.target=t.target||e;else{var i=t;rd(t=new _h(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=wd(o,r,!0,t)&&i}if(i=wd(o=t.g=e,r,!0,t)&&i,i=wd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=wd(o=t.g=n[a],r,!1,t)&&i}function wd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&ad(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}kh(kd,bh),kd.prototype[Yh]=!0,kd.prototype.removeEventListener=function(e,t,n,r){hd(this,e,t,n,r)},kd.prototype.M=function(){if(kd.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zh(n[r]);delete t.g[e],t.h--}}this.I=null},kd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},kd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xd=ch.JSON.stringify;function Id(){var e=Rd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _d,Sd=function(){function e(){$(this,e),this.h=this.g=null}return X(e,[{key:"add",value:function(e,t){var n=Ed.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ed=new(function(){function e(t,n){$(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return X(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Td}),(function(e){return e.reset()})),Td=function(){function e(){$(this,e),this.next=this.g=this.h=null}return X(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Cd(e){ch.setTimeout((function(){throw e}),0)}function Nd(e,t){_d||function(){var e=ch.Promise.resolve(void 0);_d=function(){e.then(Dd)}}(),Ad||(_d(),Ad=!0),Rd.add(e,t)}var Ad=!1,Rd=new Sd;function Dd(){for(var e;e=Id();){try{e.h.call(e.g)}catch(n){Cd(n)}var t=Ed;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ad=!1}function Od(e,t){kd.call(this),this.h=e||1,this.g=t||ch,this.j=yh(this.lb,this),this.l=Date.now()}function Pd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ld(e,t,n){if("function"===typeof e)n&&(e=yh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yh(e.handleEvent,e)}return 2147483647<Number(t)?-1:ch.setTimeout(e,t||0)}function Md(e){e.g=Ld((function(){e.g=null,e.i&&(e.i=!1,Md(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}kh(Od,kd),(ah=Od.prototype).ca=!1,ah.R=null,ah.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),bd(this,"tick"),this.ca&&(Pd(this),this.start()))}},ah.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ah.M=function(){Od.X.M.call(this),Pd(this),delete this.g};var jd=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return X(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Md(this)}},{key:"M",value:function(){Hi(Dn(n.prototype),"M",this).call(this),this.g&&(ch.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(bh);function Fd(e){bh.call(this),this.h=e,this.g={}}kh(Fd,bh);var Ud=[];function Vd(e,t,n,r){Array.isArray(n)||(n&&(Ud[0]=n.toString()),n=Ud);for(var i=0;i<n.length;i++){var a=cd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Bd(e){ed(e.g,(function(e,t){this.g.hasOwnProperty(t)&&dd(e)}),e),e.g={}}function zd(){this.g=!0}function qd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Fd.prototype.M=function(){Fd.X.M.call(this),Bd(this)},Fd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zd.prototype.Aa=function(){this.g=!1},zd.prototype.info=function(){};var Kd={},Gd=null;function Hd(){return Gd=Gd||new kd}function Wd(e){_h.call(this,Kd.Pa,e)}function Qd(e){var t=Hd();bd(t,new Wd(t))}function $d(e,t){_h.call(this,Kd.STAT_EVENT,e),this.stat=t}function Yd(e){var t=Hd();bd(t,new $d(t,e))}function Xd(e,t){_h.call(this,Kd.Qa,e),this.size=t}function Jd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ch.setTimeout((function(){e()}),t)}Kd.Pa="serverreachability",kh(Wd,_h),Kd.STAT_EVENT="statevent",kh($d,_h),Kd.Qa="timingevent",kh(Xd,_h);var Zd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ep={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function tp(){}function np(e){return e.h||(e.h=e.i())}function rp(){}tp.prototype.h=null;var ip,ap={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function op(){_h.call(this,"d")}function up(){_h.call(this,"c")}function sp(){}function cp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Fd(this),this.O=fp,e=Mh?125:void 0,this.T=new Od(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new lp}function lp(){this.i=null,this.g="",this.h=!1}kh(op,_h),kh(up,_h),kh(sp,tp),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},ip=new sp;var fp=45e3,hp={},dp={};function pp(e,t,n){e.K=1,e.v=Op(Cp(t)),e.s=n,e.P=!0,vp(e,null)}function vp(e,t){e.F=Date.now(),kp(e),e.A=Cp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Hp(n.i,"t",r),e.C=0,n=e.l.H,e.h=new lp,e.g=Wv(e.l,n?t:null,!e.s),0<e.N&&(e.L=new jd(yh(e.La,e,e.g),e.N)),Vd(e.S,e.g,"readystatechange",e.ib),t=e.H?td(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Qd(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function mp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function yp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=gp(e,n))==dp){4==t&&(e.o=4,Yd(14),i=!1),qd(e.j,e.m,null,"[Incomplete Response]");break}if(r==hp){e.o=4,Yd(15),qd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qd(e.j,e.m,r,null),_p(e,r)}mp(e)&&r!=dp&&r!=hp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Yd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uv(t),t.K=!0,Yd(11))):(qd(e.j,e.m,n,"[Invalid Chunked Response]"),Ip(e),xp(e))}function gp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?dp:(n=Number(t.substring(n,r)),isNaN(n)?hp:(r+=1)+n>t.length?dp:(t=t.substr(r,n),e.C=r+n,t))}function kp(e){e.V=Date.now()+e.O,bp(e,e.O)}function bp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Jd(yh(e.gb,e),t)}function wp(e){e.B&&(ch.clearTimeout(e.B),e.B=null)}function xp(e){0==e.l.G||e.I||zv(e.l,e)}function Ip(e){wp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Pd(e.T),Bd(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _p(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ev(n.h,e)))if(!e.J&&ev(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Bv(n),Rv(n)}Fv(n),Yd(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Jd(yh(n.cb,n),6e3));if(1>=Zp(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Kv(n,11)}else if((e.J||n.g==e)&&Bv(n),!Eh(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(tv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Dp(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Hv(r,r.H?r.ka:null,r.V),d.J){nv(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(wp(p),kp(p)),r.g=d}else jv(r);0<n.i.length&&Ov(n)}else"stop"!=a[0]&&"close"!=a[0]||Kv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Kv(n,7):Av(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Qd()}catch(a){}}function Sp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(fh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(fh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ah=cp.prototype).setTimeout=function(e){this.O=e},ah.ib=function(e){e=e.target;var t=this.L;t&&3==_v(e)?t.l():this.La(e)},ah.La=function(e){try{if(e==this.g)e:{var t=_v(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Mh||this.g&&(this.h.h||this.g.fa()||Sv(this.g)))){this.I||4!=t||7==n||Qd(),wp(this);var r=this.g.aa();this.Y=r;t:if(mp(this)){var i=Sv(this.g);e="";var a=i.length,o=4==_v(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ip(this),xp(this);var u="";break t}this.h.i=new ch.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eh(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Yd(12),Ip(this),xp(this);break e}qd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_p(this,r)}this.P?(yp(this,t,u),Mh&&this.i&&3==t&&(Vd(this.S,this.T,"tick",this.hb),this.T.start())):(qd(this.j,this.m,u,null),_p(this,u)),4==t&&Ip(this),this.i&&!this.I&&(4==t?zv(this.l,this):(this.i=!1,kp(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Yd(12)):(this.o=0,Yd(13)),Ip(this),xp(this)}}}catch(t){}},ah.hb=function(){if(this.g){var e=_v(this.g),t=this.g.fa();this.C<t.length&&(wp(this),yp(this,e,t),this.i&&4!=e&&kp(this))}},ah.cancel=function(){this.I=!0,Ip(this)},ah.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Qd(),Yd(17)),Ip(this),this.o=2,xp(this)):bp(this,this.V-e)};var Ep=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tp(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tp){this.h=void 0!==t?t:e.h,Np(this,e.j),this.s=e.s,this.g=e.g,Ap(this,e.m),this.l=e.l,t=e.i;var n=new zp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Rp(this,n),this.o=e.o}else e&&(n=String(e).match(Ep))?(this.h=!!t,Np(this,n[1]||"",!0),this.s=Pp(n[2]||""),this.g=Pp(n[3]||"",!0),Ap(this,n[4]),this.l=Pp(n[5]||"",!0),Rp(this,n[6]||"",!0),this.o=Pp(n[7]||"")):(this.h=!!t,this.i=new zp(null,this.h))}function Cp(e){return new Tp(e)}function Np(e,t,n){e.j=n?Pp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ap(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rp(e,t,n){t instanceof zp?(e.i=t,function(e,t){t&&!e.j&&(qp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Kp(this,t),Hp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Lp(t,Vp)),e.i=new zp(t,e.h))}function Dp(e,t,n){e.i.set(t,n)}function Op(e){return Dp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Mp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lp(t,jp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lp(t,jp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lp(n,"/"==n.charAt(0)?Up:Fp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lp(n,Bp)),e.join("")};var jp=/[#\/\?@]/g,Fp=/[#\?:]/g,Up=/[#\?]/g,Vp=/[#\?@]/g,Bp=/#/g;function zp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Kp(e,t){qp(e),t=Wp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Gp(e,t){return qp(e),t=Wp(e,t),e.g.has(t)}function Hp(e,t,n){Kp(e,t),0<n.length&&(e.i=null,e.g.set(Wp(e,t),xh(n)),e.h+=n.length)}function Wp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ah=zp.prototype).add=function(e,t){qp(this),this.i=null,e=Wp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ah.forEach=function(e,t){qp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ah.oa=function(){qp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ah.W=function(e){qp(this);var t=[];if("string"===typeof e)Gp(this,e)&&(t=t.concat(this.g.get(Wp(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ah.set=function(e,t){return qp(this),this.i=null,Gp(this,e=Wp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ah.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ah.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Qp=X((function e(t,n){$(this,e),this.h=t,this.g=n}));function $p(e){this.l=e||Xp,ch.PerformanceNavigationTiming?e=0<(e=ch.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ch.g&&ch.g.Ga&&ch.g.Ga()&&ch.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yp,Xp=10;function Jp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Zp(e){return e.h?1:e.g?e.g.size:0}function ev(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tv(e,t){e.g?e.g.add(t):e.h=t}function nv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Nn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return xh(e.i)}function iv(){}function av(){this.g=new iv}function ov(e,t,n){var r=n||"";try{Sp(e,(function(e,n){var i=e;hh(e)&&(i=xd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function uv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function sv(e){this.l=e.ac||null,this.j=e.jb||!1}function cv(e,t){kd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$p.prototype.cancel=function(){if(this.i=rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Nn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},iv.prototype.stringify=function(e){return ch.JSON.stringify(e,void 0)},iv.prototype.parse=function(e){return ch.JSON.parse(e,void 0)},kh(sv,tp),sv.prototype.g=function(){return new cv(this.l,this.j)},sv.prototype.i=(Yp={},function(){return Yp}),kh(cv,kd);var lv=0;function fv(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function hv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,dv(e)}function dv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ah=cv.prototype).open=function(e,t){if(this.readyState!=lv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,dv(this)},ah.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ch).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ah.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hv(this)),this.readyState=lv},ah.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,dv(this)),this.g&&(this.readyState=3,dv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ch.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fv(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ah.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hv(this):dv(this),3==this.readyState&&fv(this)}},ah.Va=function(e){this.g&&(this.response=this.responseText=e,hv(this))},ah.Ua=function(e){this.g&&(this.response=e,hv(this))},ah.ga=function(){this.g&&hv(this)},ah.setRequestHeader=function(e,t){this.v.append(e,t)},ah.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ah.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(cv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var pv=ch.JSON.parse;function vv(e){kd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mv,this.K=this.L=!1}kh(vv,kd);var mv="",yv=/^https?$/i,gv=["POST","PUT"];function kv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bv(e),xv(e)}function bv(e){e.D||(e.D=!0,bd(e,"complete"),bd(e,"error"))}function wv(e){if(e.h&&"undefined"!=typeof sh&&(!e.C[1]||4!=_v(e)||2!=e.aa()))if(e.v&&4==_v(e))Ld(e.Ha,0,e);else if(bd(e,"readystatechange"),4==_v(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ep)[1]||null;if(!a&&ch.self&&ch.self.location){var o=ch.self.location.protocol;a=o.substr(0,o.length-1)}i=!yv.test(a?a.toLowerCase():"")}t=i}if(t)bd(e,"complete"),bd(e,"success");else{e.m=6;try{var u=2<_v(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",bv(e)}}finally{xv(e)}}}function xv(e,t){if(e.g){Iv(e);var n=e.g,r=e.C[0]?lh:null;e.g=null,e.C=null,t||bd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Iv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ch.clearTimeout(e.A),e.A=null)}function _v(e){return e.g?e.g.readyState:0}function Sv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(fm){return null}}function Ev(e){var t="";return ed(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Tv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ev(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dp(e,t,n))}function Cv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nv(e){this.Ca=0,this.i=[],this.j=new zd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Cv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Cv("baseRetryDelayMs",5e3,e),this.bb=Cv("retryDelaySeedMs",1e4,e),this.$a=Cv("forwardChannelMaxRetries",2,e),this.ta=Cv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new $p(e&&e.concurrentRequestLimit),this.Fa=new av,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Av(e){if(Dv(e),3==e.G){var t=e.U++,n=Cp(e.F);Dp(n,"SID",e.I),Dp(n,"RID",t),Dp(n,"TYPE","terminate"),Lv(e,n),(t=new cp(e,e.j,t,void 0)).K=2,t.v=Op(Cp(n)),n=!1,ch.navigator&&ch.navigator.sendBeacon&&(n=ch.navigator.sendBeacon(t.v.toString(),"")),!n&&ch.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wv(t.l,null),t.g.da(t.v)),t.F=Date.now(),kp(t)}Gv(e)}function Rv(e){e.g&&(Uv(e),e.g.cancel(),e.g=null)}function Dv(e){Rv(e),e.u&&(ch.clearTimeout(e.u),e.u=null),Bv(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ch.clearTimeout(e.m),e.m=null)}function Ov(e){Jp(e.h)||e.m||(e.m=!0,Nd(e.Ja,e),e.C=0)}function Pv(e,t){var n;n=t?t.m:e.U++;var r=Cp(e.F);Dp(r,"SID",e.I),Dp(r,"RID",n),Dp(r,"AID",e.T),Lv(e,r),e.o&&e.s&&Tv(r,e.o,e.s),n=new cp(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Mv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),tv(e.h,n),pp(n,r,t)}function Lv(e,t){e.ia&&ed(e.ia,(function(e,n){Dp(t,n,e)})),e.l&&Sp({},(function(e,n){Dp(t,n,e)}))}function Mv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?yh(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ov(l,o,"req"+c+"_")}catch(bm){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function jv(e){e.g||e.u||(e.Z=1,Nd(e.Ia,e),e.A=0)}function Fv(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Jd(yh(e.Ia,e),qv(e,e.A)),e.A++,!0)}function Uv(e){null!=e.B&&(ch.clearTimeout(e.B),e.B=null)}function Vv(e){e.g=new cp(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Cp(e.sa);Dp(t,"RID","rpc"),Dp(t,"SID",e.I),Dp(t,"CI",e.L?"0":"1"),Dp(t,"AID",e.T),Dp(t,"TYPE","xmlhttp"),Lv(e,t),e.o&&e.s&&Tv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Op(Cp(t)),n.s=null,n.P=!0,vp(n,e)}function Bv(e){null!=e.v&&(ch.clearTimeout(e.v),e.v=null)}function zv(e,t){var n=null;if(e.g==t){Bv(e),Uv(e),e.g=null;var r=2}else{if(!ev(e.h,t))return;n=t.D,nv(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;bd(r=Hd(),new Xd(r,n)),Ov(e)}else jv(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Zp(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Jd(yh(e.Ja,e,t),qv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fv(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Kv(e,5);break;case 4:Kv(e,10);break;case 3:Kv(e,6);break;default:Kv(e,2)}}function qv(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Kv(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=yh(e.kb,e);n||(n=new Tp("//www.google.com/images/cleardot.gif"),ch.location&&"http"==ch.location.protocol||Np(n,"https"),Op(n)),function(e,t){var n=new zd;if(ch.Image){var r=new Image;r.onload=gh(uv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gh(uv,n,r,"TestLoadImage: error",!1,t),r.onabort=gh(uv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gh(uv,n,r,"TestLoadImage: timeout",!1,t),ch.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Yd(2);e.G=0,e.l&&e.l.va(t),Gv(e),Dv(e)}function Gv(e){if(e.G=0,e.la=[],e.l){var t=rv(e.h);0==t.length&&0==e.i.length||(Ih(e.la,t),Ih(e.la,e.i),e.h.i.length=0,xh(e.i),e.i.length=0),e.l.ua()}}function Hv(e,t,n){var r=n instanceof Tp?Cp(n):new Tp(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ap(r,r.m);else{var i=ch.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Tp(null,void 0);r&&Np(a,r),t&&(a.g=t),i&&Ap(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Dp(r,n,t),Dp(r,"VER",e.ma),Lv(e,r),r}function Wv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new vv(new sv({jb:!0})):new vv(e.ra)).Ka(e.H),t}function Qv(){}function $v(){if(Ph&&!(10<=Number(Wh)))throw Error("Environmental error: no available transport.")}function Yv(e,t){kd.call(this),this.g=new Nv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Eh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Eh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zv(this)}function Xv(e){op.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jv(){up.call(this),this.status=1}function Zv(e){this.g=e}(ah=vv.prototype).Ka=function(e){this.L=e},ah.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ip.g(),this.C=this.u?np(this.u):np(ip),this.g.onreadystatechange=yh(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void kv(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Nn(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ch.FormData&&e instanceof ch.FormData,!(0<=wh(gv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Nn(n);try{for(c.s();!(s=c.n()).done;){var l=v(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Iv(this),0<this.B&&((this.K=function(e){return Ph&&Gh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yh(this.qa,this)):this.A=Ld(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){kv(this,u)}},ah.qa=function(){"undefined"!=typeof sh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bd(this,"timeout"),this.abort(8))},ah.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,bd(this,"complete"),bd(this,"abort"),xv(this))},ah.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xv(this,!0)),vv.X.M.call(this)},ah.Ha=function(){this.s||(this.F||this.v||this.l?wv(this):this.fb())},ah.fb=function(){wv(this)},ah.aa=function(){try{return 2<_v(this)?this.g.status:-1}catch(Yp){return-1}},ah.fa=function(){try{return this.g?this.g.responseText:""}catch(Yp){return""}},ah.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pv(t)}},ah.Ea=function(){return this.m},ah.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ah=Nv.prototype).ma=8,ah.G=1,ah.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new cp(this,this.j,e,void 0),n=this.s;if(this.S&&(n?rd(n=td(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Mv(this,t,r),Dp(i=Cp(this.F),"RID",e),Dp(i,"CVER",22),this.D&&Dp(i,"X-HTTP-Session-Id",this.D),Lv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ev(n)))+"&"+r:this.o&&Tv(i,this.o,n)),tv(this.h,t),this.Ya&&Dp(i,"TYPE","init"),this.O?(Dp(i,"$req",r),Dp(i,"SID","null"),t.Z=!0,pp(t,i,null)):pp(t,i,r),this.G=2}}else 3==this.G&&(e?Pv(this,e):0==this.i.length||Jp(this.h)||Pv(this))},ah.Ia=function(){if(this.u=null,Vv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Jd(yh(this.eb,this),e)}},ah.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yd(10),Rv(this),Vv(this))},ah.cb=function(){null!=this.v&&(this.v=null,Rv(this),Fv(this),Yd(19))},ah.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Yd(2)):(this.j.info("Failed to ping google.com"),Yd(1))},(ah=Qv.prototype).xa=function(){},ah.wa=function(){},ah.va=function(){},ah.ua=function(){},ah.Ra=function(){},$v.prototype.g=function(e,t){return new Yv(e,t)},kh(Yv,kd),Yv.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Yd(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Hv(e,null,e.V),Ov(e)},Yv.prototype.close=function(){Av(this.g)},Yv.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=xd(e),e=n);t.i.push(new Qp(t.ab++,e)),3==t.G&&Ov(t)},Yv.prototype.M=function(){this.g.l=null,delete this.j,Av(this.g),delete this.g,Yv.X.M.call(this)},kh(Xv,op),kh(Jv,up),kh(Zv,Qv),Zv.prototype.xa=function(){bd(this.g,"a")},Zv.prototype.wa=function(e){bd(this.g,new Xv(e))},Zv.prototype.va=function(e){bd(this.g,new Jv)},Zv.prototype.ua=function(){bd(this.g,"b")},$v.prototype.createWebChannel=$v.prototype.g,Yv.prototype.send=Yv.prototype.u,Yv.prototype.open=Yv.prototype.m,Yv.prototype.close=Yv.prototype.close,Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,ep.COMPLETE="complete",rp.EventType=ap,ap.OPEN="a",ap.CLOSE="b",ap.ERROR="c",ap.MESSAGE="d",kd.prototype.listen=kd.prototype.N,vv.prototype.listenOnce=vv.prototype.O,vv.prototype.getLastError=vv.prototype.Oa,vv.prototype.getLastErrorCode=vv.prototype.Ea,vv.prototype.getStatus=vv.prototype.aa,vv.prototype.getResponseJson=vv.prototype.Sa,vv.prototype.getResponseText=vv.prototype.fa,vv.prototype.send=vv.prototype.da,vv.prototype.setWithCredentials=vv.prototype.Ka;var em=uh.createWebChannelTransport=function(){return new $v},tm=uh.getStatEventTarget=function(){return Hd()},nm=uh.ErrorCode=Zd,rm=uh.EventType=ep,im=uh.Event=Kd,am=uh.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},om=uh.FetchXmlHttpFactory=sv,um=uh.WebChannel=rp,sm=uh.XhrIo=vv,cm="@firebase/firestore",lm=function(){function e(t){$(this,e),this.uid=t}return X(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();lm.UNAUTHENTICATED=new lm(null),lm.GOOGLE_CREDENTIALS=new lm("google-credentials-uid"),lm.FIRST_PARTY=new lm("first-party-uid"),lm.MOCK_USER=new lm("mock-user");var fm="9.18.0",hm=new Tr("@firebase/firestore");function dm(){return hm.logLevel}function pm(e){if(hm.logLevel<=br.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ym);hm.debug.apply(hm,["Firestore (".concat(fm,"): ").concat(e)].concat(u(i)))}}function vm(e){if(hm.logLevel<=br.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ym);hm.error.apply(hm,["Firestore (".concat(fm,"): ").concat(e)].concat(u(i)))}}function mm(e){if(hm.logLevel<=br.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ym);hm.warn.apply(hm,["Firestore (".concat(fm,"): ").concat(e)].concat(u(i)))}}function ym(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fm,") INTERNAL ASSERTION FAILED: ")+e;throw vm(t),new Error(t)}function km(e,t){e||gm()}function bm(e,t){return e}var wm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xm=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return X(n)}(er),Im=X((function e(){var t=this;$(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),_m=X((function e(t,n){$(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Sm=function(){function e(){$(this,e)}return X(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Em=function(){function e(t){$(this,e),this.token=t,this.changeListener=null}return X(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Tm=function(){function e(t){$(this,e),this.t=t,this.currentUser=lm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return X(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Im;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Im,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){pm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(pm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Im)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(pm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(km("string"==typeof n.accessToken),new _m(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return km(null===e||"string"==typeof e),new lm(e)}}]),e}(),Cm=function(){function e(t,n,r,i){$(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=lm.FIRST_PARTY,this.p=new Map}return X(e,[{key:"I",value:function(){return this.g?this.g():(km(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Nm=function(){function e(t,n,r,i){$(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return X(e,[{key:"getToken",value:function(){return Promise.resolve(new Cm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Am=X((function e(t){$(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Rm=function(){function e(t){$(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return X(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&pm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,pm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){pm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):pm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(km("string"==typeof t.token),e.A=t.token,new Am(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Dm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Om=function(){function e(){$(this,e)}return X(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Dm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Pm(e,t){return e<t?-1:e>t?1:0}function Lm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Mm(e){return e+"\0"}var jm=function(){function e(t,n){if($(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new xm(wm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xm(wm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new xm(wm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xm(wm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return X(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pm(this.nanoseconds,e.nanoseconds):Pm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fm=function(){function e(t){$(this,e),this.timestamp=t}return X(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new jm(0,0))}},{key:"max",value:function(){return new e(new jm(253402300799,999999999))}}]),e}(),Um=function(){function e(t,n,r){$(this,e),void 0===n?n=0:n>t.length&&gm(),void 0===r?r=t.length-n:r>t.length-n&&gm(),this.segments=t,this.offset=n,this.len=r}return X(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Vm=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new xm(wm.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,u(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Um),Bm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zm=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Bm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new xm(wm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new xm(wm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new xm(wm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new xm(wm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Um),qm=function(){function e(t){$(this,e),this.path=t}return X(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Vm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Vm.fromString(t))}},{key:"fromName",value:function(t){return new e(Vm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Vm.emptyPath())}},{key:"comparator",value:function(e,t){return Vm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Vm(t.slice()))}}]),e}(),Km=X((function e(t,n,r,i){$(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Gm(e){return e.fields.find((function(e){return 2===e.kind}))}function Hm(e){return e.fields.filter((function(e){return 2!==e.kind}))}Km.UNKNOWN_ID=-1;var Wm=X((function e(t,n){$(this,e),this.fieldPath=t,this.kind=n}));var Qm=function(){function e(t,n){$(this,e),this.sequenceNumber=t,this.offset=n}return X(e,null,[{key:"empty",value:function(){return new e(0,Xm.min())}}]),e}();function $m(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Fm.fromTimestamp(1e9===r?new jm(n+1,0):new jm(n,r));return new Xm(i,qm.empty(),t)}function Ym(e){return new Xm(e.readTime,e.key,-1)}var Xm=function(){function e(t,n,r){$(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return X(e,null,[{key:"min",value:function(){return new e(Fm.min(),qm.empty(),-1)}},{key:"max",value:function(){return new e(Fm.max(),qm.empty(),-1)}}]),e}();function Jm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=qm.comparator(e.documentKey,t.documentKey))?n:Pm(e.largestBatchId,t.largestBatchId)}var Zm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ey=function(){function e(){$(this,e),this.onCommittedListeners=[]}return X(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ty(e){return ny.apply(this,arguments)}function ny(){return ny=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wm.FAILED_PRECONDITION&&t.message===Zm){e.next=2;break}throw t;case 2:pm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}var ry=function(){function e(t){var n=this;$(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return X(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&gm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Nn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),iy=function(){function e(t,n){var r=this;$(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Im,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new uy(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=hy(e.target.error);r.P.reject(new uy(t,n))}}return X(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(pm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new cy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new uy(n,t)}}}]),e}(),ay=function(){function e(t,n,r){$(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Qn())&&vm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return X(e,[{key:"O",value:function(){var e=vr(dr().mark((function e(t){var n=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return pm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new uy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new xm(wm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new xm(wm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new uy(t,n))},i.onupgradeneeded=function(e){pm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.F(t,i.transaction,e.oldVersion,n.version).next((function(){pm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=vr(dr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=dr().mark((function e(){var n,u,s,l;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=iy.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ry.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,pm("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return pm("SimpleDb","Removing database:",e),ly(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Zn())return!1;if(e.N())return!0;var t=Qn(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.$)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),oy=function(){function e(t){$(this,e),this.q=t,this.U=!1,this.K=null}return X(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return ly(this.q.delete())}}]),e}(),uy=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,wm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return X(n)}(xm);function sy(e){return"IndexedDbTransactionError"===e.name}var cy=function(){function e(t){$(this,e),this.store=t}return X(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(pm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ly(n)}},{key:"add",value:function(e){return pm("SimpleDb","ADD",this.store.name,e,e),ly(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ly(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return pm("SimpleDb","DELETE",this.store.name,e),ly(this.store.delete(e))}},{key:"count",value:function(){return pm("SimpleDb","COUNT",this.store.name),ly(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ry((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ry((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){pm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ry((function(n,r){t.onerror=function(e){var t=hy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ry((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new oy(i),o=t(i.primaryKey,i.value,a);if(o instanceof ry){var u=o.catch((function(e){return a.done(),ry.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ry.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ly(e){return new ry((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hy(e.target.error);n(t)}}))}var fy=!1;function hy(e){var t=ay.D(Qn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new xm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return fy||(fy=!0,setTimeout((function(){throw r}),0)),r}}return e}var dy=function(){function e(t,n){$(this,e),this.asyncQueue=t,this.et=n,this.task=null}return X(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;pm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=pm,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!sy(e.t4)){e.next=17;break}pm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ty(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),py=function(){function e(t,n){$(this,e),this.localStore=t,this.persistence=n}return X(e,[{key:"st",value:function(){var e=vr(dr().mark((function e(){var t,n=this,r=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ry.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return pm("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return pm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Ym(t);Jm(r,n)>0&&(n=r)})),new Xm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),vy=function(){function e(t,n){var r=this;$(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return X(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();vy.at=-1;var my=X((function e(t,n,r,i,a,o,u,s){$(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),yy=function(){function e(t,n){$(this,e),this.projectId=t,this.database=n||"(default)"}return X(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ky(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function by(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wy(e){return null==e}function xy(e){return 0===e&&1/e==-1/0}function Iy(e){return"number"==typeof e&&Number.isInteger(e)&&!xy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _y=function(e){Rn(n,e);var t=Pn(n);function n(){var e;return $(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return X(n)}(Mn(Error));var Sy=function(e){function t(e){$(this,t),this.binaryString=e}return X(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new _y("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Sy.EMPTY_BYTE_STRING=new Sy("");var Ey=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ty(e){if(km(!!e),"string"==typeof e){var t=0,n=Ey.exec(e);if(km(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Cy(e.seconds),nanos:Cy(e.nanos)}}function Cy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ny(e){return"string"==typeof e?Sy.fromBase64String(e):Sy.fromUint8Array(e)}function Ay(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ry(e){var t=e.mapValue.fields.__previous_value__;return Ay(t)?Ry(t):t}function Dy(e){var t=Ty(e.mapValue.fields.__local_write_time__.timestampValue);return new jm(t.seconds,t.nanos)}var Oy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Py={nullValue:"NULL_VALUE"};function Ly(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ay(e)?4:$y(e)?9007199254740991:10:gm()}function My(e,t){if(e===t)return!0;var n=Ly(e);if(n!==Ly(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dy(e).isEqual(Dy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ty(e.timestampValue),r=Ty(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ny(e.bytesValue).isEqual(Ny(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Cy(e.geoPointValue.latitude)===Cy(t.geoPointValue.latitude)&&Cy(e.geoPointValue.longitude)===Cy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Cy(e.integerValue)===Cy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Cy(e.doubleValue),r=Cy(t.doubleValue);return n===r?xy(n)===xy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Lm(e.arrayValue.values||[],t.arrayValue.values||[],My);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gy(n)!==gy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!My(n[i],r[i])))return!1;return!0}(e,t);default:return gm()}}function jy(e,t){return void 0!==(e.values||[]).find((function(e){return My(e,t)}))}function Fy(e,t){if(e===t)return 0;var n=Ly(e),r=Ly(t);if(n!==r)return Pm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Cy(e.integerValue||e.doubleValue),r=Cy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Uy(e.timestampValue,t.timestampValue);case 4:return Uy(Dy(e),Dy(t));case 5:return Pm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ny(e),r=Ny(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pm(n[i],r[i]);if(0!==a)return a}return Pm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pm(Cy(e.latitude),Cy(t.latitude));return 0!==n?n:Pm(Cy(e.longitude),Cy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Fy(n[i],r[i]);if(a)return a}return Pm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Oy.mapValue&&t===Oy.mapValue)return 0;if(e===Oy.mapValue)return 1;if(t===Oy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Pm(r[o],a[o]);if(0!==u)return u;var s=Fy(n[r[o]],i[a[o]]);if(0!==s)return s}return Pm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gm()}}function Uy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pm(e,t);var n=Ty(e),r=Ty(t),i=Pm(n.seconds,r.seconds);return 0!==i?i:Pm(n.nanos,r.nanos)}function Vy(e){return By(e)}function By(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ty(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ny(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,qm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Nn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=By(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Nn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(By(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):gm();var t,n}function zy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function qy(e){return!!e&&"integerValue"in e}function Ky(e){return!!e&&"arrayValue"in e}function Gy(e){return!!e&&"nullValue"in e}function Hy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wy(e){return!!e&&"mapValue"in e}function Qy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ky(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Qy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function $y(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yy(e){return"nullValue"in e?Py:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?zy(yy.empty(),qm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:gm()}function Xy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?zy(yy.empty(),qm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Oy:gm()}function Jy(e,t){var n=Fy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Zy(e,t){var n=Fy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var eg=X((function e(t,n){$(this,e),this.position=t,this.inclusive=n}));function tg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?qm.comparator(qm.fromName(o.referenceValue),n.key):Fy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ng(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!My(e.position[n],t.position[n]))return!1;return!0}var rg=X((function e(){$(this,e)})),ig=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return X(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Fy(t,this.value)):null!==t&&Ly(this.value)===Ly(t)&&this.matchesComparison(Fy(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pg(e,t,r):"array-contains"===t?new gg(e,r):"in"===t?new kg(e,r):"not-in"===t?new bg(e,r):"array-contains-any"===t?new wg(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new vg(e,n):new mg(e,n)}}]),n}(rg),ag=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return X(n,[{key:"matches",value:function(e){return og(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=Nn(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(rg);function og(e){return"and"===e.op}function ug(e){return"or"===e.op}function sg(e){return cg(e)&&og(e)}function cg(e){var t,n=Nn(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ag)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function lg(e){if(e instanceof ig)return e.field.canonicalString()+e.op.toString()+Vy(e.value);if(sg(e))return e.filters.map((function(e){return lg(e)})).join(",");var t=e.filters.map((function(e){return lg(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function fg(e,t){return e instanceof ig?function(e,t){return t instanceof ig&&e.op===t.op&&e.field.isEqual(t.field)&&My(e.value,t.value)}(e,t):e instanceof ag?function(e,t){return t instanceof ag&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&fg(n,t.filters[r])}),!0)}(e,t):void gm()}function hg(e,t){var n=e.filters.concat(t);return ag.create(n,e.op)}function dg(e){return e instanceof ig?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Vy(e.value))}(e):e instanceof ag?function(e){return e.op.toString()+" {"+e.getFilters().map(dg).join(" ,")+"}"}(e):"Filter"}var pg=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this,e,r,i)).key=qm.fromName(i.referenceValue),a}return X(n,[{key:"matches",value:function(e){var t=qm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ig),vg=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,"in",r)).keys=yg("in",r),i}return X(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ig),mg=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,"not-in",r)).keys=yg("not-in",r),i}return X(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ig);function yg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return qm.fromName(e.referenceValue)}))}var gg=function(e){Rn(n,e);var t=Pn(n);function n(e,r){return $(this,n),t.call(this,e,"array-contains",r)}return X(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ky(t)&&jy(t.arrayValue,this.value)}}]),n}(ig),kg=function(e){Rn(n,e);var t=Pn(n);function n(e,r){return $(this,n),t.call(this,e,"in",r)}return X(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&jy(this.value.arrayValue,t)}}]),n}(ig),bg=function(e){Rn(n,e);var t=Pn(n);function n(e,r){return $(this,n),t.call(this,e,"not-in",r)}return X(n,[{key:"matches",value:function(e){if(jy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!jy(this.value.arrayValue,t)}}]),n}(ig),wg=function(e){Rn(n,e);var t=Pn(n);function n(e,r){return $(this,n),t.call(this,e,"array-contains-any",r)}return X(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return jy(t.value.arrayValue,e)}))}}]),n}(ig),xg=X((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";$(this,e),this.field=t,this.dir=n}));function Ig(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var _g=function(){function e(t,n){$(this,e),this.comparator=t,this.root=n||Eg.EMPTY}return X(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Eg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Eg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Sg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Sg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Sg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Sg(this.root,e,this.comparator,!0)}}]),e}(),Sg=function(){function e(t,n,r,i){$(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return X(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Eg=function(){function e(t,n,r,i,a){$(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return X(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw gm();if(this.right.isRed())throw gm();var e=this.left.check();if(e!==this.right.check())throw gm();return e+(this.isRed()?0:1)}}]),e}();Eg.EMPTY=null,Eg.RED=!0,Eg.BLACK=!1,Eg.EMPTY=new(function(){function e(){$(this,e),this.size=0}return X(e,[{key:"key",get:function(){throw gm()}},{key:"value",get:function(){throw gm()}},{key:"color",get:function(){throw gm()}},{key:"left",get:function(){throw gm()}},{key:"right",get:function(){throw gm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Eg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Tg=function(){function e(t){$(this,e),this.comparator=t,this.data=new _g(this.comparator)}return X(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Cg=function(){function e(t){$(this,e),this.iter=t}return X(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ng(e){return e.hasNext()?e.getNext():void 0}var Ag=function(){function e(t){$(this,e),this.fields=t,t.sort(zm.comparator)}return X(e,[{key:"unionWith",value:function(t){var n,r=new Tg(zm.comparator),i=Nn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Nn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Nn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Lm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Rg=function(){function e(t){$(this,e),this.value=t}return X(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Wy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qy(t)}},{key:"setAll",value:function(e){var t=this,n=zm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Qy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Wy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return My(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Wy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ky(t,(function(t,n){return e[t]=n}));var r,i=Nn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Qy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Dg(e){var t=[];return ky(e.fields,(function(e,n){var r=new zm([e]);if(Wy(n)){var i=Dg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Nn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ag(t)}var Og=function(){function e(t,n,r,i,a,o,u){$(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return X(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Fm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Rg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Rg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Fm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fm.min(),Fm.min(),Fm.min(),Rg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Fm.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fm.min(),Fm.min(),Rg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fm.min(),Fm.min(),Rg.empty(),2)}}]),e}(),Pg=X((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;$(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function Lg(e){return new Pg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Mg(e){var t=bm(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return lg(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Vy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Vy(e)})).join(",")),t._t=n}return t._t}function jg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ig(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!fg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ng(e.startAt,t.startAt)&&ng(e.endAt,t.endAt)}function Fg(e){return qm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ug(e,t){return e.filters.filter((function(e){return e instanceof ig&&e.field.isEqual(t)}))}function Vg(e,t,n){var r,i=Py,a=!0,o=Nn(Ug(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Py,c=!0;switch(u.op){case"<":case"<=":s=Yy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Py}Jy({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Jy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Bg(e,t,n){var r,i=Oy,a=!0,o=Nn(Ug(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Oy,c=!0;switch(u.op){case">=":case">":s=Xy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Oy}Zy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Zy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var zg=X((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;$(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function qg(e,t,n,r,i,a,o,u){return new zg(e,t,n,r,i,a,o,u)}function Kg(e){return new zg(e)}function Gg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wg(e){var t,n=Nn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Qg(e){return null!==e.collectionGroup}function $g(e){var t=bm(e);if(null===t.wt){t.wt=[];var n=Wg(t),r=Hg(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new xg(n)),t.wt.push(new xg(zm.keyField(),"asc"));else{var i,a=!1,o=Nn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new xg(zm.keyField(),s))}}}return t.wt}function Yg(e){var t=bm(e);if(!t.gt)if("F"===t.limitType)t.gt=Lg(t.path,t.collectionGroup,$g(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Nn($g(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new xg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new eg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new eg(t.startAt.position,t.startAt.inclusive):null;t.gt=Lg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function Xg(e,t){t.getFirstInequalityField(),Wg(e);var n=e.filters.concat([t]);return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jg(e,t,n){return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zg(e,t){return jg(Yg(e),Yg(t))&&e.limitType===t.limitType}function ek(e){return"".concat(Mg(Yg(e)),"|lt:").concat(e.limitType)}function tk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return dg(e)})).join(", "),"]")),wy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Vy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Vy(e)})).join(",")),"Target(".concat(t,")")}(Yg(e)),"; limitType=").concat(e.limitType,")")}function nk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):qm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Nn($g(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Nn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=tg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$g(e),t))&&!(e.endAt&&!function(e,t,n){var r=tg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$g(e),t))}(e,t)}function rk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ik(e){return function(t,n){var r,i=!1,a=Nn($g(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ak(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ak(e,t,n){var r=e.field.isKeyField()?qm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fy(r,i):gm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gm()}}function ok(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xy(t)?"-0":t}}function uk(e){return{integerValue:""+e}}function sk(e,t){return Iy(t)?uk(t):ok(e,t)}var ck=X((function e(){$(this,e),this._=void 0}));function lk(e,t,n){return e instanceof dk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof pk?vk(e,t):e instanceof mk?yk(e,t):function(e,t){var n=hk(e,t),r=kk(n)+kk(e.It);return qy(n)&&qy(e.It)?uk(r):ok(e.Tt,r)}(e,t)}function fk(e,t,n){return e instanceof pk?vk(e,t):e instanceof mk?yk(e,t):n}function hk(e,t){return e instanceof gk?qy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var dk=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n)}(ck),pk=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this)).elements=e,r}return X(n)}(ck);function vk(e,t){var n,r=bk(t),i=Nn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return My(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var mk=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this)).elements=e,r}return X(n)}(ck);function yk(e,t){var n,r=bk(t),i=Nn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!My(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gk=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return X(n)}(ck);function kk(e){return Cy(e.integerValue||e.doubleValue)}function bk(e){return Ky(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var wk=X((function e(t,n){$(this,e),this.field=t,this.transform=n}));var xk=X((function e(t,n){$(this,e),this.version=t,this.transformResults=n})),Ik=function(){function e(t,n){$(this,e),this.updateTime=t,this.exists=n}return X(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _k(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sk=X((function e(){$(this,e)}));function Ek(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Fk(e.key,Ik.none()):new Rk(e.key,e.data,Ik.none());var n,r=e.data,i=Rg.empty(),a=new Tg(zm.comparator),o=Nn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Dk(e.key,i,new Ag(a.toArray()),Ik.none())}function Tk(e,t,n){e instanceof Rk?function(e,t,n){var r=e.value.clone(),i=Pk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dk?function(e,t,n){if(_k(e.precondition,t)){var r=Pk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ok(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ck(e,t,n,r){return e instanceof Rk?function(e,t,n,r){if(!_k(e.precondition,t))return n;var i=e.value.clone(),a=Lk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dk?function(e,t,n,r){if(!_k(e.precondition,t))return n;var i=Lk(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ok(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _k(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nk(e,t){var n,r=null,i=Nn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=hk(a.transform,o||null);null!=u&&(null===r&&(r=Rg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ak(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Lm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pk&&t instanceof pk||e instanceof mk&&t instanceof mk?Lm(e.elements,t.elements,My):e instanceof gk&&t instanceof gk?My(e.It,t.It):e instanceof dk&&t instanceof dk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Rk=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return $(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return X(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sk),Dk=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return $(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return X(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Sk);function Ok(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Pk(e,t,n){var r=new Map;km(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,fk(o,u,n[i]))}return r}function Lk(e,t,n){var r,i=new Map,a=Nn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,lk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Mk,jk,Fk=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return X(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sk),Uk=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return X(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sk),Vk=X((function e(t){$(this,e),this.count=t}));function Bk(e){switch(e){default:return gm();case wm.CANCELLED:case wm.UNKNOWN:case wm.DEADLINE_EXCEEDED:case wm.RESOURCE_EXHAUSTED:case wm.INTERNAL:case wm.UNAVAILABLE:case wm.UNAUTHENTICATED:return!1;case wm.INVALID_ARGUMENT:case wm.NOT_FOUND:case wm.ALREADY_EXISTS:case wm.PERMISSION_DENIED:case wm.FAILED_PRECONDITION:case wm.ABORTED:case wm.OUT_OF_RANGE:case wm.UNIMPLEMENTED:case wm.DATA_LOSS:return!0}}function zk(e){if(void 0===e)return vm("GRPC error has no .code"),wm.UNKNOWN;switch(e){case Mk.OK:return wm.OK;case Mk.CANCELLED:return wm.CANCELLED;case Mk.UNKNOWN:return wm.UNKNOWN;case Mk.DEADLINE_EXCEEDED:return wm.DEADLINE_EXCEEDED;case Mk.RESOURCE_EXHAUSTED:return wm.RESOURCE_EXHAUSTED;case Mk.INTERNAL:return wm.INTERNAL;case Mk.UNAVAILABLE:return wm.UNAVAILABLE;case Mk.UNAUTHENTICATED:return wm.UNAUTHENTICATED;case Mk.INVALID_ARGUMENT:return wm.INVALID_ARGUMENT;case Mk.NOT_FOUND:return wm.NOT_FOUND;case Mk.ALREADY_EXISTS:return wm.ALREADY_EXISTS;case Mk.PERMISSION_DENIED:return wm.PERMISSION_DENIED;case Mk.FAILED_PRECONDITION:return wm.FAILED_PRECONDITION;case Mk.ABORTED:return wm.ABORTED;case Mk.OUT_OF_RANGE:return wm.OUT_OF_RANGE;case Mk.UNIMPLEMENTED:return wm.UNIMPLEMENTED;case Mk.DATA_LOSS:return wm.DATA_LOSS;default:return gm()}}(jk=Mk||(Mk={}))[jk.OK=0]="OK",jk[jk.CANCELLED=1]="CANCELLED",jk[jk.UNKNOWN=2]="UNKNOWN",jk[jk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jk[jk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jk[jk.NOT_FOUND=5]="NOT_FOUND",jk[jk.ALREADY_EXISTS=6]="ALREADY_EXISTS",jk[jk.PERMISSION_DENIED=7]="PERMISSION_DENIED",jk[jk.UNAUTHENTICATED=16]="UNAUTHENTICATED",jk[jk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jk[jk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jk[jk.ABORTED=10]="ABORTED",jk[jk.OUT_OF_RANGE=11]="OUT_OF_RANGE",jk[jk.UNIMPLEMENTED=12]="UNIMPLEMENTED",jk[jk.INTERNAL=13]="INTERNAL",jk[jk.UNAVAILABLE=14]="UNAVAILABLE",jk[jk.DATA_LOSS=15]="DATA_LOSS";var qk=function(){function e(t,n){$(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return X(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Nn(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ky(this.inner,(function(t,n){var r,i=Nn(n);try{for(i.s();!(r=i.n()).done;){var a=v(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return by(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Kk=new _g(qm.comparator);function Gk(){return Kk}var Hk=new _g(qm.comparator);function Wk(){for(var e=Hk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Qk(e){var t=Hk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function $k(){return Xk()}function Yk(){return Xk()}function Xk(){return new qk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Jk=new _g(qm.comparator),Zk=new Tg(qm.comparator);function eb(){for(var e=Zk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var tb=new Tg(Pm);function nb(){return tb}var rb=function(){function e(t,n,r,i,a){$(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return X(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,ib.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Fm.min(),i,nb(),Gk(),eb())}}]),e}(),ib=function(){function e(t,n,r,i,a){$(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return X(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,eb(),eb(),eb())}}]),e}(),ab=X((function e(t,n,r,i){$(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),ob=X((function e(t,n){$(this,e),this.targetId=t,this.Rt=n})),ub=X((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),sb=function(){function e(){$(this,e),this.Pt=0,this.vt=fb(),this.bt=Sy.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return X(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Dt",get:function(){return 0!==this.Pt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}},{key:"Nt",value:function(){var e=eb(),t=eb(),n=eb();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gm()}})),new ib(this.bt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=fb()}},{key:"$t",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ot",value:function(){this.Pt+=1}},{key:"Ft",value:function(){this.Pt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),cb=function(){function e(t){$(this,e),this.Lt=t,this.qt=new Map,this.Ut=Gk(),this.Kt=lb(),this.Gt=new Tg(Pm)}return X(e,[{key:"Qt",value:function(e){var t,n=Nn(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=Nn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:gm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(Fg(i))if(0===n){var a=new qm(i.path);this.zt(t,a,Og.newNoDocument(a,Fm.min()))}else km(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Fg(a.target)){var o=new qm(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Og.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=eb();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new rb(e,n,this.Gt,this.Ut,r);return this.Ut=Gk(),this.Kt=lb(),this.Gt=new Tg(Pm),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Ht(e).Ot()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new sb,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Tg(Pm),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||pm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new sb),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function lb(){return new _g(qm.comparator)}function fb(){return new _g(qm.comparator)}var hb={asc:"ASCENDING",desc:"DESCENDING"},db={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pb={and:"AND",or:"OR"},vb=X((function e(t,n){$(this,e),this.databaseId=t,this.yt=n}));function mb(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yb(e,t){return e.yt?t.toBase64():t.toUint8Array()}function gb(e,t){return mb(e,t.toTimestamp())}function kb(e){return km(!!e),Fm.fromTimestamp(function(e){var t=Ty(e);return new jm(t.seconds,t.nanos)}(e))}function bb(e,t){return function(e){return new Vm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wb(e){var t=Vm.fromString(e);return km(Kb(t)),t}function xb(e,t){return bb(e.databaseId,t.path)}function Ib(e,t){var n=wb(t);if(n.get(1)!==e.databaseId.projectId)throw new xm(wm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xm(wm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new qm(Tb(n))}function _b(e,t){return bb(e.databaseId,t)}function Sb(e){var t=wb(e);return 4===t.length?Vm.emptyPath():Tb(t)}function Eb(e){return new Vm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tb(e){return km(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Cb(e,t,n){return{name:xb(e,t),fields:n.value.mapValue.fields}}function Nb(e,t,n){var r=Ib(e,t.name),i=kb(t.updateTime),a=t.createTime?kb(t.createTime):Fm.min(),o=new Rg({mapValue:{fields:t.fields}}),u=Og.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Ab(e,t){return"found"in t?function(e,t){km(!!t.found),t.found.name,t.found.updateTime;var n=Ib(e,t.found.name),r=kb(t.found.updateTime),i=t.found.createTime?kb(t.found.createTime):Fm.min(),a=new Rg({mapValue:{fields:t.found.fields}});return Og.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){km(!!t.missing),km(!!t.readTime);var n=Ib(e,t.missing),r=kb(t.readTime);return Og.newNoDocument(n,r)}(e,t):gm()}function Rb(e,t){var n;if(t instanceof Rk)n={update:Cb(e,t.key,t.value)};else if(t instanceof Fk)n={delete:xb(e,t.key)};else if(t instanceof Dk)n={update:Cb(e,t.key,t.data),updateMask:qb(t.fieldMask)};else{if(!(t instanceof Uk))return gm();n={verify:xb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof dk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gk)return{fieldPath:t.field.canonicalString(),increment:n.It};throw gm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gm()}(e,t.precondition)),n}function Db(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ik.updateTime(kb(e.updateTime)):void 0!==e.exists?Ik.exists(e.exists):Ik.none()}(t.currentDocument):Ik.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)km("REQUEST_TIME"===t.setToServerValue),n=new dk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new pk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new mk(i)}else"increment"in t?n=new gk(e,t.increment):gm();var a=zm.fromServerFormat(t.fieldPath);return new wk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ib(e,t.update.name),a=new Rg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ag(t.map((function(e){return zm.fromServerFormat(e)})))}(t.updateMask);return new Dk(i,a,o,n,r)}return new Rk(i,a,n,r)}if(t.delete){var u=Ib(e,t.delete);return new Fk(u,n)}if(t.verify){var s=Ib(e,t.verify);return new Uk(s,n)}return gm()}function Ob(e,t){return{documents:[_b(e,t.path)]}}function Pb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_b(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_b(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return zb(ag.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Vb(e.field),direction:jb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||wy(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Lb(e){var t=Sb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){km(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Mb(e);return t instanceof ag&&sg(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new xg(Bb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return wy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new eg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new eg(n,t)}(n.endAt)),qg(t,i,u,o,s,"F",c,l)}function Mb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Bb(e.unaryFilter.field);return ig.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Bb(e.unaryFilter.field);return ig.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bb(e.unaryFilter.field);return ig.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bb(e.unaryFilter.field);return ig.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gm()}}(e):void 0!==e.fieldFilter?function(e){return ig.create(Bb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ag.create(e.compositeFilter.filters.map((function(e){return Mb(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return gm()}}(e.compositeFilter.op))}(e):gm()}function jb(e){return hb[e]}function Fb(e){return db[e]}function Ub(e){return pb[e]}function Vb(e){return{fieldPath:e.canonicalString()}}function Bb(e){return zm.fromServerFormat(e.fieldPath)}function zb(e){return e instanceof ig?function(e){if("=="===e.op){if(Hy(e.value))return{unaryFilter:{field:Vb(e.field),op:"IS_NAN"}};if(Gy(e.value))return{unaryFilter:{field:Vb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hy(e.value))return{unaryFilter:{field:Vb(e.field),op:"IS_NOT_NAN"}};if(Gy(e.value))return{unaryFilter:{field:Vb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vb(e.field),op:Fb(e.op),value:e.value}}}(e):e instanceof ag?function(e){var t=e.getFilters().map((function(e){return zb(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Ub(e.op),filters:t}}}(e):gm()}function qb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Kb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Wb(t)),t=Hb(e.get(n),t);return Wb(t)}function Hb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Wb(e){return e+"\x01\x01"}function Qb(e){var t=e.length;if(km(t>=2),2===t)return km("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Vm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&gm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:gm()}a=o+2}return new Vm(r)}var $b=["userId","batchId"];function Yb(e,t){return[e,Gb(t)]}function Xb(e,t,n){return[e,Gb(t),n]}var Jb={},Zb=["prefixPath","collectionGroup","readTime","documentId"],ew=["prefixPath","collectionGroup","documentId"],tw=["collectionGroup","readTime","prefixPath","documentId"],nw=["canonicalId","targetId"],rw=["targetId","path"],iw=["path","targetId"],aw=["collectionId","parent"],ow=["indexId","uid"],uw=["uid","sequenceNumber"],sw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cw=["indexId","uid","orderedDocumentKey"],lw=["userId","collectionPath","documentId"],fw=["userId","collectionPath","largestBatchId"],hw=["userId","collectionGroup","largestBatchId"],dw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pw=[].concat(u(dw),["documentOverlays"]),vw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mw=vw,yw=[].concat(mw,["indexConfiguration","indexState","indexEntries"]),gw=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return X(n)}(ey);function kw(e,t){var n=bm(e);return ay.M(n.re,t)}var bw=function(){function e(t,n,r,i){$(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return X(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Tk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Nn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ck(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Nn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ck(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Yk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Ek(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Fm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),eb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Lm(this.mutations,e.mutations,(function(e,t){return Ak(e,t)}))&&Lm(this.baseMutations,e.baseMutations,(function(e,t){return Ak(e,t)}))}}]),e}(),ww=function(){function e(t,n,r,i){$(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return X(e,null,[{key:"from",value:function(t,n,r){km(t.mutations.length===r.length);for(var i=Jk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xw=function(){function e(t,n){$(this,e),this.largestBatchId=t,this.mutation=n}return X(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Iw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sy.EMPTY_BYTE_STRING;$(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return X(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),_w=X((function e(t){$(this,e),this.oe=t}));function Sw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ew(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:xb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:mb(e,t.version.toTimestamp()),createTime:mb(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Tw(t.version)};else{if(!t.isUnknownDocument())return gm();r.unknownDocument={path:n.path.toArray(),version:Tw(t.version)}}return r}function Ew(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Cw(e){var t=new jm(e.seconds,e.nanoseconds);return Fm.fromTimestamp(t)}function Nw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Db(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Db(e.oe,t)})),u=jm.fromMillis(t.localWriteTimeMs);return new bw(t.batchId,u,n,o)}function Aw(e){var t,n,r=Cw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Cw(e.lastLimboFreeSnapshotVersion):Fm.min();return void 0!==e.query.documents?(km(1===(n=e.query).documents.length),t=Yg(Kg(Sb(n.documents[0])))):t=function(e){return Yg(Lb(e))}(e.query),new Iw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Sy.fromBase64String(e.resumeToken))}function Rw(e,t){var n,r=Tw(t.snapshotVersion),i=Tw(t.lastLimboFreeSnapshotVersion);n=Fg(t.target)?Ob(e.oe,t.target):Pb(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Mg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Dw(e){var t=Lb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jg(t,t.limit,"L"):t}function Ow(e,t){return new xw(t.largestBatchId,Db(e.oe,t.overlayMutation))}function Pw(e,t){var n=t.path.lastSegment();return[e,Gb(t.path.popLast()),n]}function Lw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Tw(r.readTime),documentKey:Gb(r.documentKey.path),largestBatchId:r.largestBatchId}}var Mw=function(){function e(){$(this,e)}return X(e,[{key:"getBundleMetadata",value:function(e,t){return jw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Cw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return jw(e).put({bundleId:(n=t).id,createTime:Tw(kb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Fw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dw(t.bundledQuery),readTime:Cw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Fw(e).put(function(e){return{name:e.name,readTime:Tw(kb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function jw(e){return kw(e,"bundles")}function Fw(e){return kw(e,"namedQueries")}var Uw=function(){function e(t,n){$(this,e),this.Tt=t,this.userId=n}return X(e,[{key:"getOverlay",value:function(e,t){var n=this;return Vw(e).get(Pw(this.userId,t)).next((function(e){return e?Ow(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=$k();return ry.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new xw(t,a);i.push(r.ce(e,o))})),ry.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Gb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Vw(e).Y("collectionPathOverlayIndex",i))})),ry.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=$k(),a=Gb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Vw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Nn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ow(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=$k(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vw(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ow(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return Vw(e).put(function(e,t,n){var r=v(Pw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Rb(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Vw(e){return kw(e,"documentOverlays")}var Bw=function(){function e(){$(this,e)}return X(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Cy(e.integerValue));else if("doubleValue"in e){var n=Cy(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),xy(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Ny(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?$y(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):gm()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=Nn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),qm.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function zw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=zw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Bw.Ee=new Bw;var Kw=function(){function e(){$(this,e),this.buffer=new Uint8Array(1024),this.position=0}return X(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=Nn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"De",value:function(e){var t,n=Nn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=qw(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=qw(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$e",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gw=function(){function e(t){$(this,e),this.Le=t}return X(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.$e()}}]),e}(),Hw=function(){function e(t){$(this,e),this.Le=t}return X(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),Ww=function(){function e(){$(this,e),this.Le=new Kw,this.qe=new Gw(this.Le),this.Ue=new Hw(this.Le)}return X(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),Qw=function(){function e(t,n,r,i){$(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return X(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $w(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Yw(e.arrayValue,t.arrayValue))?n:0!==(n=Yw(e.directionalValue,t.directionalValue))?n:qm.comparator(e.documentKey,t.documentKey)}function Yw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Xw=function(){function e(t){$(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=Nn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return X(e,[{key:"We",value:function(e){km(e.collectionGroup===this.collectionId);var t=Gm(e);if(void 0!==t&&!this.He(t))return!1;for(var n=Hm(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=Nn(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Jw(e){var t,n;if(km(e instanceof ig||e instanceof ag),e instanceof ig){if(e instanceof kg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return ig.create(e.field,"==",t)})))||[];return ag.create(r,"or")}return e}var i=e.filters.map((function(e){return Jw(e)}));return ag.create(i,e.op)}function Zw(e){if(0===e.getFilters().length)return[];var t=rx(Jw(e));return km(nx(t)),ex(t)||tx(t)?[t]:t.getFilters()}function ex(e){return e instanceof ig}function tx(e){return e instanceof ag&&sg(e)}function nx(e){return ex(e)||tx(e)||function(e){if(e instanceof ag&&ug(e)){var t,n=Nn(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ex(r)&&!tx(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function rx(e){if(km(e instanceof ig||e instanceof ag),e instanceof ig)return e;if(1===e.filters.length)return rx(e.filters[0]);var t=e.filters.map((function(e){return rx(e)})),n=ag.create(t,e.op);return nx(n=ox(n))?n:(km(n instanceof ag),km(og(n)),km(n.filters.length>1),n.filters.reduce((function(e,t){return ix(e,t)})))}function ix(e,t){var n;return km(e instanceof ig||e instanceof ag),km(t instanceof ig||t instanceof ag),n=e instanceof ig?t instanceof ig?function(e,t){return ag.create([e,t],"and")}(e,t):ax(e,t):t instanceof ig?ax(t,e):function(e,t){if(km(e.filters.length>0&&t.filters.length>0),og(e)&&og(t))return hg(e,t.getFilters());var n=ug(e)?e:t,r=ug(e)?t:e,i=n.filters.map((function(e){return ix(e,r)}));return ag.create(i,"or")}(e,t),ox(n)}function ax(e,t){if(og(t))return hg(t,e.getFilters());var n=t.filters.map((function(t){return ix(e,t)}));return ag.create(n,"or")}function ox(e){if(km(e instanceof ig||e instanceof ag),e instanceof ig)return e;var t=e.getFilters();if(1===t.length)return ox(t[0]);if(cg(e))return e;var n=t.map((function(e){return ox(e)})),r=[];return n.forEach((function(t){t instanceof ig?r.push(t):t instanceof ag&&(t.op===e.op?r.push.apply(r,u(t.filters)):r.push(t))})),1===r.length?r[0]:ag.create(r,e.op)}var ux=function(){function e(){$(this,e),this.Ze=new sx}return X(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),ry.resolve()}},{key:"getCollectionParents",value:function(e,t){return ry.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ry.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ry.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ry.resolve(null)}},{key:"getIndexType",value:function(e,t){return ry.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ry.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ry.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ry.resolve(Xm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ry.resolve(Xm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ry.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ry.resolve()}}]),e}(),sx=function(){function e(){$(this,e),this.index={}}return X(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tg(Vm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Tg(Vm.comparator)).toArray()}}]),e}(),cx=new Uint8Array(0),lx=function(){function e(t,n){$(this,e),this.user=t,this.databaseId=n,this.Xe=new sx,this.tn=new qk((function(e){return Mg(e)}),(function(e,t){return jg(e,t)})),this.uid=t.uid||""}return X(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Gb(i)};return fx(e).put(a)}return ry.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Mm(t),""],!1,!0);return fx(e).W(r).next((function(e){var r,i=Nn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Qb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=dx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=px(e);return a.next((function(e){o.put(Lw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=dx(e),r=px(e),i=hx(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hx(e),i=!0,a=new Map;return ry.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=eb(),o=[];return ry.forEach(a,(function(i,a){var u;pm("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Mg(t)));var s=function(e,t){var n=Gm(t);if(void 0===n)return null;var r,i=Nn(Ug(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Nn(Hm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Nn(Ug(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Nn(Hm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Vg(e,o.fieldPath,e.startAt):Bg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new eg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Nn(Hm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Bg(e,o.fieldPath,e.endAt):Vg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new eg(r,i)}(a,i),h=n.sn(i,a,l),d=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ry.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=qm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ry.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Zw(ag.create(e.filters,"and")).map((function(t){return Lg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var s=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(){var c=t?s.un(t[d/l]):cx,h=s.cn(e,c,n[d%l],r),p=s.an(e,c,i[d%l],a),v=o.map((function(t){return s.cn(e,c,t,!0)}));f.push.apply(f,u(s.createRange(h,p,v)))},d=0;d<c;++d)h();return f}},{key:"cn",value:function(e,t,n,r){var i=new Qw(e,qm.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new Qw(e,qm.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new Xw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Nn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return ry.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Tg(zm.comparator),r=!1,i=Nn(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Nn(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Nn(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new Ww,i=Nn(Hm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);Bw.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new Ww;return Bw.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new Ww;return Bw.Ee.ae(zy(this.databaseId,t),n.Ke(function(e){var t=Hm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ww);var i,a=0,o=Nn(Hm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Nn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&Ky(c))r=this.dn(r,s,c);else{var h=f.Ke(s.kind);Bw.Ee.ae(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=u(e),a=[],o=Nn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,l=Nn(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new Ww;h.seed(f.Be()),Bw.Ee.ae(c,h.Ke(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ig&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=dx(e),i=px(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ry.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Qm(t.sequenceNumber,new Xm(Cw(t.readTime),new qm(Qb(t.documentKey)),t.largestBatchId)):Qm.empty(),r=e.fields.map((function(e){var t=v(e,2),n=t[0],r=t[1];return new Wm(zm.fromServerFormat(n),r)}));return new Km(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=dx(e),a=px(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ry.forEach(t,(function(t){return a.put(Lw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ry.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ry.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ry.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?ry.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return hx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return hx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=hx(e),i=new Tg($w);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new Qw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new Tg($w),r=this.hn(t,e);if(null==r)return n;var i=Gm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ky(a)){var o,u=Nn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Qw(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Qw(t.indexId,e.key,cx,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;pm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ng(a),s=Ng(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ng(o)):l?(i(u),u=Ng(a)):(u=Ng(a),s=Ng(o))}}(r,i,$w,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),ry.waitFor(o)}},{key:"wn",value:function(e){var t=1;return px(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return $w(e,t)})).filter((function(e,t,n){return!t||0!==$w(e,n[t-1])}));var r=[];r.push(e);var i,a=Nn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=$w(o,e),s=$w(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,cx,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,cx,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Tn",value:function(e,t){return $w(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(vx)}},{key:"getMinOffset",value:function(e,t){var n=this;return ry.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||gm()}))})).next(vx)}}]),e}();function fx(e){return kw(e,"collectionParents")}function hx(e){return kw(e,"indexEntries")}function dx(e){return kw(e,"indexConfiguration")}function px(e){return kw(e,"indexState")}function vx(e){km(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Jm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Xm(t.readTime,t.documentKey,n)}var mx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yx=function(){function e(t,n,r){$(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return X(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function gx(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){km(1===u)})));var c,l=[],f=Nn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ry.waitFor(a).next((function(){return l}))}function kx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gm();t=e.noDocument}return JSON.stringify(t).length}yx.DEFAULT_COLLECTION_PERCENTILE=10,yx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yx.DEFAULT=new yx(41943040,yx.DEFAULT_COLLECTION_PERCENTILE,yx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yx.DISABLED=new yx(-1,0,0);var bx=function(){function e(t,n,r,i){$(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return X(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xx(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ix(e),o=xx(e);return o.add({}).next((function(u){km("number"==typeof u);var s,c=new bw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Rb(e.oe,t)})),i=n.mutations.map((function(t){return Rb(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],h=new Tg((function(e,t){return Pm(e.canonicalString(),t.canonicalString())})),d=Nn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Xb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Jb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),ry.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return xx(e).get(t).next((function(e){return e?(km(e.userId===n.userId),Nw(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?ry.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return xx(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(km(t.batchId>=r),a=Nw(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xx(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xx(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Nw(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Yb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ix(e).X({range:i},(function(r,i,o){var u=v(r,3),s=u[0],c=u[1],l=u[2],f=Qb(c);if(s===n.userId&&t.path.isEqual(f))return xx(e).get(l).next((function(e){if(!e)throw gm();km(e.userId===n.userId),a.push(Nw(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tg(Pm),i=[];return t.forEach((function(t){var a=Yb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Ix(e).X({range:o},(function(e,i,a){var o=v(e,3),u=o[0],s=o[1],c=o[2],l=Qb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ry.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Yb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Tg(Pm);return Ix(e).X({range:o},(function(e,t,a){var o=v(e,3),s=o[0],c=o[1],l=o[2],f=Qb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xx(e).get(t).next((function(e){if(null===e)throw gm();km(e.userId===n.userId),r.push(Nw(n.Tt,e))})))})),ry.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return gx(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Pn(t.batchId)})),ry.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Pn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ry.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ix(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Qb(e[1]);i.push(a)}else r.done()})).next((function(){km(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wx(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return _x(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return km(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wx(e,t,n){var r=Yb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ix(e).X({range:a,Z:!0},(function(e,n,r){var a=v(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function xx(e){return kw(e,"mutations")}function Ix(e){return kw(e,"documentMutations")}function _x(e){return kw(e,"mutationQueues")}var Sx=function(){function e(t){$(this,e),this.bn=t}return X(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),Ex=function(){function e(t,n){$(this,e),this.referenceDelegate=t,this.Tt=n}return X(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new Sx(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return Fm.fromTimestamp(new jm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Tx(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return km(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Tx(e).X((function(o,u){var s=Aw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ry.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Tx(e).X((function(e,n){var r=Aw(n);t(r)}))}},{key:"Dn",value:function(e){return Cx(e).get("targetGlobalKey").next((function(e){return km(null!==e),e}))}},{key:"Cn",value:function(e,t){return Cx(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return Tx(e).put(Rw(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Mg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tx(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Aw(n);jg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Nx(e);return t.forEach((function(t){var o=Gb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ry.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Nx(e);return ry.forEach(t,(function(t){var a=Gb(t.path);return ry.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Nx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Nx(e),i=eb();return r.X({range:n,Z:!0},(function(e,t,n){var r=Qb(e[1]),a=new qm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Gb(t.path),r=IDBKeyRange.bound([n],[Mm(n)],!1,!0),i=0;return Nx(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=v(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return Tx(e).get(t).next((function(e){return e?Aw(e):null}))}}]),e}();function Tx(e){return kw(e,"targets")}function Cx(e){return kw(e,"targetGlobal")}function Nx(e){return kw(e,"targetDocuments")}function Ax(e,t){var n=v(e,2),r=n[0],i=n[1],a=v(t,2),o=a[0],u=a[1],s=Pm(r,o);return 0===s?Pm(i,u):s}var Rx=function(){function e(t){$(this,e),this.kn=t,this.buffer=new Tg(Ax),this.$n=0}return X(e,[{key:"Mn",value:function(){return++this.$n}},{key:"On",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ax(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Dx=function(){function e(t,n,r){$(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Fn=null}return X(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}},{key:"started",get:function(){return null!==this.Fn}},{key:"Bn",value:function(e){var t=this;pm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!sy(e.t0)){e.next=12;break}pm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ty(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ox=function(){function e(t,n){$(this,e),this.Ln=t,this.params=n}return X(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ry.resolve(vy.at);var r=new Rx(t);return this.Ln.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pm("LruGarbageCollector","Garbage collection skipped; disabled"),ry.resolve(mx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),mx):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(pm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),dm()<=br.DEBUG&&pm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ry.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Px=function(){function e(t,n){$(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ox(e,t)}(this,n)}return X(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Lx(e,n)}},{key:"removeReference",value:function(e,t,n){return Lx(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Lx(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return _x(e).tt((function(r){return wx(e,r,t).next((function(e){return e&&(n=!0),ry.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Fm.min()),Nx(e).delete([0,Gb(o.path)])}))}));i.push(s)}})).next((function(){return ry.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Lx(e,t)}},{key:"Qn",value:function(e,t){var n,r=Nx(e),i=vy.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=v(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==vy.at&&t(new qm(Qb(n)),i),i=s,n=u):i=vy.at})).next((function(){i!==vy.at&&t(new qm(Qb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Lx(e,t){return Nx(e).put(function(e,t){return{targetId:0,path:Gb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Mx=function(){function e(){$(this,e),this.changes=new qk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return X(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Og.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ry.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jx=function(){function e(t){$(this,e),this.Tt=t}return X(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Bx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Bx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ew(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Og.newInvalidDocument(t);return Bx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zx(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Og.newInvalidDocument(t)};return Bx(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zx(t))},(function(e,i){r={document:n.Wn(t,i),size:kx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Gk();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=Gk(),i=new _g(qm.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,kx(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return ry.resolve();var r=new Tg(Kx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(zx(r.first()),zx(r.last())),a=r.getIterator(),o=a.getNext();return Bx(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=qm.fromSegments([].concat(u(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Kx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(zx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Ew(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bx(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Gk(),o=Nn(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(qm.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(nk(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Gk(),o=qx(t,n),u=qx(t,Xm.max());return Bx(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(qm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ux(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Vx(e).get("remoteDocumentGlobalKey").next((function(e){return km(!!e),e}))}},{key:"zn",value:function(e,t){return Vx(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Nb(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=qm.fromSegments(t.noDocument.path),i=Cw(t.noDocument.readTime);n=Og.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return gm();var a=qm.fromSegments(t.unknownDocument.path),o=Cw(t.unknownDocument.version);n=Og.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new jm(e[0],e[1]);return Fm.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(Fm.min()))return n}return Og.newInvalidDocument(e)}}]),e}();function Fx(e){return new jx(e)}var Ux=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new qk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return X(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Tg((function(e,t){return Pm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Sw(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=kx(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Sw(t.Xn.Tt,o.convertToNoDocument(Fm.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Mx);function Vx(e){return kw(e,"remoteDocumentGlobal")}function Bx(e){return kw(e,"remoteDocumentsV14")}function zx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qx(e,t){var n=t.documentKey.path.toArray();return[e,Ew(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Kx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Pm(n[a],r[a]))return i;return(i=Pm(n.length,r.length))||((i=Pm(n[n.length-2],r[r.length-2]))||Pm(n[n.length-1],r[r.length-1]))}var Gx=X((function e(t,n){$(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Hx=function(){function e(t,n,r,i){$(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return X(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ck(r.mutation,e,Ag.empty(),jm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,eb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eb(),i=$k();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Wk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=$k();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,eb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Gk(),a=Xk(),o=Xk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Dk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ck(o.mutation,t,o.mutation.getFieldMask(),jm.now())):a.set(t.key,Ag.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Gx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Xk(),i=new _g((function(e,t){return e-t})),a=eb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Nn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ag.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||eb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Yk();c.forEach((function(e){if(!a.has(e)){var n=Ek(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ry.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return qm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ry.resolve($k()),u=-1,s=a;return o.next((function(t){return ry.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ry.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,eb())})).next((function(e){return{batchId:u,changes:Qk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new qm(t)).next((function(e){var t=Wk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Wk();return this.indexManager.getCollectionParents(e,i).next((function(o){return ry.forEach(o,(function(o){var u=function(e,t){return new zg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Og.newInvalidDocument(r)))}));var n=Wk();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Ck(a.mutation,i,Ag.empty(),jm.now()),nk(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Wx=function(){function e(t){$(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return X(e,[{key:"getBundleMetadata",value:function(e,t){return ry.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:kb(n.createTime)}),ry.resolve()}},{key:"getNamedQuery",value:function(e,t){return ry.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Dw(e.bundledQuery),readTime:kb(e.readTime)}}(t)),ry.resolve()}}]),e}(),Qx=function(){function e(){$(this,e),this.overlays=new _g(qm.comparator),this.ss=new Map}return X(e,[{key:"getOverlay",value:function(e,t){return ry.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=$k();return ry.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),ry.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),ry.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=$k(),i=t.length+1,a=new qm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ry.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new _g((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=$k(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=$k(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ry.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new xw(t,n));var a=this.ss.get(t);void 0===a&&(a=eb(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),$x=function(){function e(){$(this,e),this.rs=new Tg(Yx.os),this.us=new Tg(Yx.cs)}return X(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Yx(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new Yx(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new qm(new Vm([])),r=new Yx(n,e),i=new Yx(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new qm(new Vm([])),n=new Yx(t,e),r=new Yx(t,e+1),i=eb();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Yx(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Yx=function(){function e(t,n){$(this,e),this.key=t,this.gs=n}return X(e,null,[{key:"os",value:function(e,t){return qm.comparator(e.key,t.key)||Pm(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Pm(e.gs,t.gs)||qm.comparator(e.key,t.key)}}]),e}(),Xx=function(){function e(t,n){$(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Tg(Yx.os)}return X(e,[{key:"checkEmpty",value:function(e){return ry.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new bw(i,t,n,r);this.mutationQueue.push(a);var o,u=Nn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new Yx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ry.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ry.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return ry.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ry.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return ry.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Yx(t,0),i=new Yx(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),ry.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tg(Pm);return t.forEach((function(e){var t=new Yx(e,0),i=new Yx(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),ry.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;qm.isDocumentKey(i)||(i=i.child(""));var a=new Yx(new qm(i),0),o=new Tg(Pm);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),ry.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;km(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return ry.forEach(t.mutations,(function(i){var a=new Yx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"Pn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Yx(t,0),r=this.ps.firstAfterOrEqual(n);return ry.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ry.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Jx=function(){function e(t){$(this,e),this.Rs=t,this.docs=new _g(qm.comparator),this.size=0}return X(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ry.resolve(n?n.document.mutableCopy():Og.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Gk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Og.newInvalidDocument(e))})),ry.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Gk(),a=t.path,o=new qm(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Jm(Ym(l),n)<=0||(r.has(l.key)||nk(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ry.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){gm()}},{key:"Ps",value:function(e,t){return ry.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Zx(this)}},{key:"getSize",value:function(e){return ry.resolve(this.size)}}]),e}(),Zx=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this)).Xn=e,r}return X(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),ry.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(Mx),eI=function(){function e(t){$(this,e),this.persistence=t,this.vs=new qk((function(e){return Mg(e)}),jg),this.lastRemoteSnapshotVersion=Fm.min(),this.highestTargetId=0,this.bs=0,this.Vs=new $x,this.targetCount=0,this.Ss=Sx.Vn()}return X(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),ry.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ry.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ry.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),ry.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ry.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new Sx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,ry.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),ry.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,ry.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ry.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ry.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return ry.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),ry.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ry.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),ry.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return ry.resolve(n)}},{key:"containsKey",value:function(e,t){return ry.resolve(this.Vs.containsKey(t))}}]),e}(),tI=function(){function e(t,n){var r=this;$(this,e),this.Ds={},this.overlays={},this.Cs=new vy(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new eI(this),this.indexManager=new ux,this.remoteDocumentCache=new Jx((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new _w(n),this.$s=new Wx(this.Tt)}return X(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Qx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new Xx(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;pm("MemoryPersistence","Starting transaction:",e);var i=new nI(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e,t){return ry.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nI=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return X(n)}(ey),rI=function(){function e(t){$(this,e),this.persistence=t,this.Bs=new $x,this.Ls=null}return X(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw gm()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),ry.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),ry.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),ry.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ry.forEach(this.Us,(function(r){var i=qm.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,Fm.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return ry.or([function(){return ry.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Fs(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),iI=function(){function e(t){$(this,e),this.Tt=t}return X(e,[{key:"F",value:function(e,t,n,r){var i=this,a=new iy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$b,{unique:!0}),e.createObjectStore("documentMutations")}(e),aI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ry.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),aI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$b,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ry.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:lw});t.createIndex("collectionPathOverlayIndex",fw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Zb});t.createIndex("documentKeyIndex",ew),t.createIndex("collectionGroupIndex",tw)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ow}).createIndex("sequenceNumberIndex",uw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:sw}).createIndex("documentKeyIndex",cw,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=kx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ry.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ry.forEach(r,(function(r){km(r.userId===n.userId);var i=Nw(t.Tt,r);return gx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Vm(n),o=function(e){return[0,Gb(e)]}(a);r.push(t.get(o).next((function(n){return n?ry.resolve():function(n){return t.put({targetId:0,path:Gb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ry.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:aw});var n=t.store("collectionParents"),r=new sx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gb(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new Vm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=v(e,3),r=(n[0],n[1]),a=(n[2],Qb(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Aw(r),a=Rw(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new qm(Vm.fromString(i.document.name).popFirst(5)):i.noDocument?qm.fromSegments(i.noDocument.path):i.unknownDocument?qm.fromSegments(i.unknownDocument.path):gm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ry.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=Fx(this.Tt),a=new tI(rI.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:eb();Nw(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ry.forEach(r,(function(e,r){var o=new lm(r),u=Uw.ue(n.Tt,o),s=a.getIndexManager(o),c=bx.ue(o,n.Tt,s,a.referenceDelegate);return new Hx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new gw(t,vy.at),e).next()}))}))}}]),e}();function aI(e){e.createObjectStore("targetDocuments",{keyPath:rw}).createIndex("documentTargetsIndex",iw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nw,{unique:!0}),e.createObjectStore("targetGlobal")}var oI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if($(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new xm(wm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Px(this,i),this.oi=n+"main",this.Tt=new _w(s),this.ui=new ay(this.oi,this.ti,new iI(this.Tt)),this.Ns=new Ex(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Fx(this.Tt),this.$s=new Mw,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&vm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return X(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new xm(wm.FAILED_PRECONDITION,oI);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new vy(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=vr(dr().mark((function n(r){return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=vr(dr().mark((function t(n){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(sy(t))return pm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return sI(e).get("owner").next((function(e){return ry.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return cI(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=vr(dr().mark((function e(){var t,n,r,i,a=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=kw(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ry.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=Nn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?ry.resolve(!0):sI(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new xm(wm.FAILED_PRECONDITION,oI);return!1}}return!(!t.networkEnabled||!t.inForeground)||cI(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&pm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=vr(dr().mark((function e(){var t=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.Pi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.bi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new gw(e,vy.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cI(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return bx.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new lx(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Uw.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;pm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?yw:14===i?mw:13===i?vw:12===i?pw:11===i?dw:void gm();return this.ui.runTransaction(e,o,u,(function(i){return a=new gw(i,r.Cs?r.Cs.next():vy.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw vm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new xm(wm.FAILED_PRECONDITION,Zm);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return sI(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new xm(wm.FAILED_PRECONDITION,oI)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sI(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=sI(e);return n.get("owner").next((function(e){return t.yi(e)?(pm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ry.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(vm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.Pi();var e=/(?:Version|Mobile)\/1[456]/;!$n()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"bi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return pm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return vm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Pi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(kh){vm("Failed to set zombie client id.",kh)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(kh){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return ay.C()}}]),e}();function sI(e){return kw(e,"owner")}function cI(e){return kw(e,"clientMetadata")}function lI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fI=function(){function e(t,n,r,i){$(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return X(e,null,[{key:"Ni",value:function(t,n){var r,i=eb(),a=eb(),o=Nn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hI=function(){function e(){$(this,e),this.ki=!1}return X(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Fi(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(Gg(t))return ry.resolve(null);var r=Yg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Jg(t,null,"F"),r=Yg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=eb.apply(void 0,u(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Jg(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Gg(t)||r.isEqual(Fm.min())?this.Fi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.Fi(e,t):(dm()<=br.DEBUG&&pm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tk(t)),i.qi(e,o,t,$m(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Tg(ik(e));return t.forEach((function(t,r){nk(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fi",value:function(e,t){return dm()<=br.DEBUG&&pm("QueryEngine","Using full collection scan to execute query:",tk(t)),this.$i.getDocumentsMatchingQuery(e,t,Xm.min())}},{key:"qi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),dI=function(){function e(t,n,r,i){$(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new _g(Pm),this.Gi=new qk((function(e){return Mg(e)}),jg),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(r)}return X(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hx(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function pI(e,t,n,r){return new dI(e,t,n,r)}function vI(e,t){return mI.apply(this,arguments)}function mI(){return mI=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=eb(),s=Nn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Nn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Nn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Nn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e,t){var n=bm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ry.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);km(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=eb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function gI(e){var t=bm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function kI(e,t){var n=bm(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Sy.EMPTY_BYTE_STRING,Fm.min()).withLastLimboFreeSnapshotVersion(Fm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=Gk(),s=eb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bI(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(Fm.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ry.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function bI(e,t,n){var r=eb(),i=eb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Gk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Fm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):pm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function wI(e,t){var n=bm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function xI(e,t){var n=bm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,ry.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new Iw(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function II(e,t,n){return _I.apply(this,arguments)}function _I(){return _I=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bm(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),sy(e.t1)){e.next=12;break}throw e.t1;case 12:pm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),_I.apply(this,arguments)}function SI(e,t,n){var r=bm(e),i=Fm.min(),a=eb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=bm(e),i=r.Gi.get(n);return void 0!==i?ry.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Yg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:Fm.min(),n?a:eb())})).next((function(e){return CI(r,rk(t),e),{documents:e,Yi:a}}))}))}function EI(e,t){var n=bm(e),r=bm(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function TI(e,t){var n=bm(e),r=n.Qi.get(t)||Fm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,$m(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return CI(n,t,e),e}))}function CI(e,t,n){var r=e.Qi.get(t)||Fm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function NI(e,t,n,r){return AI.apply(this,arguments)}function AI(){return AI=vr(dr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=bm(t),o=eb(),u=Gk(),s=Nn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Zi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Xi(l)).setReadTime(n.tr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,xI(a,function(e){return Yg(Kg(Vm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function RI(e,t){return DI.apply(this,arguments)}function DI(){return DI=vr(dr().mark((function e(t,n){var r,i,a,o=arguments;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:eb(),e.next=3,xI(t,Yg(Dw(n.bundledQuery)));case 3:return i=e.sent,a=bm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=kb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$s.saveNamedQuery(e,n);var o=i.withResumeToken(Sy.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function OI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function PI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function LI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var MI=function(){function e(t,n,r,i){$(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return X(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new xm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(vm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),jI=function(){function e(t,n,r){$(this,e),this.targetId=t,this.state=n,this.error=r}return X(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xm(i.error.code,i.error.message))),a?new e(t,i.state,r):(vm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),FI=function(){function e(t,n){$(this,e),this.clientId=t,this.activeTargetIds=n}return X(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=nb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Iy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(vm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),UI=function(){function e(t,n){$(this,e),this.clientId=t,this.onlineState=n}return X(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),VI=function(){function e(){$(this,e),this.activeTargetIds=nb()}return X(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),BI=function(){function e(t,n,r,i,a){$(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new _g(Pm),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=OI(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new VI),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return X(e,[{key:"start",value:function(){var e=vr(dr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=Nn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(OI(this.persistenceKey,i)))&&(o=FI.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(s=this.Ir(u))&&this.Tr(s),c=Nn(this.hr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.cr(f)}catch(d){c.e(d)}finally{c.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(LI(this.persistenceKey,e));if(n){var r=jI.er(e,n);r&&(t=r.state)}}return this.Pr.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Pr.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Pr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(LI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return pm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){pm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){pm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(pm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void vm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(vr(dr().mark((function e(){var r,i,a,o,u,s,c;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.$r(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}s=function(e){var t=vy.at;if(null!=e)try{var n=JSON.parse(e);km("number"==typeof n),t=n}catch(e){vm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==vy.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Pr",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.Pr.nr())}},{key:"Ar",value:function(e,t,n){var r=new MI(this.currentUser,e,t,n),i=PI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=PI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=LI(this.persistenceKey,e),i=new jI(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return FI.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return MI.er(new lm(i),r,t)}},{key:"$r",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return jI.er(r,t)}},{key:"Ir",value:function(e){return UI.er(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:pm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=nb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zI=function(){function e(){$(this,e),this.Ur=new VI,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return X(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new VI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qI=function(){function e(){$(this,e)}return X(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),KI=function(){function e(){var t=this;$(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return X(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){pm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Nn(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){pm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Nn(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),GI=null;function HI(){return null===GI?GI=268435456+Math.round(2147483648*Math.random()):GI++,"0x"+GI.toString(16)}var WI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},QI=function(){function e(t){$(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return X(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),$I="WebChannelConnection",YI=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return X(n,[{key:"wo",value:function(e,t,n,r){var i=HI();return new Promise((function(a,o){var u=new sm;u.setWithCredentials(!0),u.listenOnce(rm.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case nm.NO_ERROR:var t=u.getResponseJson();pm($I,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case nm.TIMEOUT:pm($I,"RPC '".concat(e,"' ").concat(i," timed out")),o(new xm(wm.DEADLINE_EXCEEDED,"Request time out"));break;case nm.HTTP_ERROR:var n=u.getStatus();if(pm($I,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wm).indexOf(t)>=0?t:wm.UNKNOWN}(s.status);o(new xm(c,s.message))}else o(new xm(wm.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new xm(wm.UNAVAILABLE,"Connection failed."));break;default:gm()}}finally{pm($I,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);pm($I,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=HI(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=em(),o=tm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new om({})),this._o(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");pm($I,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,h=new QI({Yr:function(t){f?pm($I,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(pm($I,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),pm($I,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,um.EventType.OPEN,(function(){f||pm($I,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,um.EventType.CLOSE,(function(){f||(f=!0,pm($I,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.oo())})),d(c,um.EventType.ERROR,(function(t){f||(f=!0,mm($I,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.oo(new xm(wm.UNAVAILABLE,"The operation could not be completed")))})),d(c,um.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];km(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){pm($I,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Mk[e];if(void 0!==t)return zk(t)}(u),l=o.message;void 0===s&&(s=wm.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.oo(new xm(s,l)),c.close()}else pm($I,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.uo(i)}})),d(o,im.STAT_EVENT,(function(t){t.stat===am.PROXY?pm($I,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===am.NOPROXY&&pm($I,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.ro()}),0),h}}]),n}(function(){function e(t){$(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return X(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=HI(),o=this.fo(e,t);pm("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this._o(u,r,i),this.wo(e,o,u,n).then((function(t){return pm("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw mm("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=WI[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function XI(){return"undefined"!=typeof window?window:null}function JI(){return"undefined"!=typeof document?document:null}function ZI(e){return new vb(e,!0)}var e_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;$(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return X(e,[{key:"reset",value:function(){this.Eo=0}},{key:"Po",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&pm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),t_=function(){function e(t,n,r,i,a,o,u,s){$(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new e_(t,n)}return X(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===wm.RESOURCE_EXHAUSTED?(vm(n.toString()),vm("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===wm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=v(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new xm(wm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.ko.vo(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return pm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(pm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),n_=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a,o,u){var s;return $(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return X(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(km(void 0===t||"string"==typeof t),Sy.fromBase64String(t||"")):(km(void 0===t||t instanceof Uint8Array),Sy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?wm.UNKNOWN:zk(e.code);return new xm(t,e.message||"")}(o);n=new ub(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ib(e,s.document.name),l=kb(s.document.updateTime),f=s.document.createTime?kb(s.document.createTime):Fm.min(),h=new Rg({mapValue:{fields:s.document.fields}}),d=Og.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new ab(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Ib(e,m.document),g=m.readTime?kb(m.readTime):Fm.min(),k=Og.newNoDocument(y,g),b=m.removedTargetIds||[];n=new ab([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Ib(e,w.document),I=w.removedTargetIds||[];n=new ab([],I,x,null)}else{if(!("filter"in t))return gm();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new Vk(S),T=_.targetId;n=new ob(T,E)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return Fm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fm.min():t.readTime?kb(t.readTime):Fm.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=Eb(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=Fg(r)?{documents:Ob(e,r)}:{query:Pb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yb(e,t.resumeToken):t.snapshotVersion.compareTo(Fm.min())>0&&(n.readTime=mb(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=Eb(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(t_),r_=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a,o,u){var s;return $(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return X(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Hi(Dn(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(km(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(km(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kb(e.updateTime):kb(t);return n.isEqual(Fm.min())&&(n=kb(t)),new xk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kb(e.commitTime);return this.listener.eu(n,t)}return km(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=Eb(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rb(t.Tt,e)}))};this.qo(n)}}]),n}(t_),i_=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a){var o;return $(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return X(n,[{key:"ru",value:function(){if(this.iu)throw new xm(wm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=v(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xm(wm.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=v(a,2),u=o[0],s=o[1];return i.connection.mo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new xm(wm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return X((function e(){$(this,e)}))}());var a_=function(){function e(t,n){$(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return X(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(vm(t),this.cu=!1):pm("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),o_=X((function e(t,n,r,i,a){var o=this;$(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=y_(o),!e.t0){e.next=5;break}return pm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=bm(t)).mu.add(4),e.next=4,c_(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,u_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new a_(r,i)}));function u_(e){return s_.apply(this,arguments)}function s_(){return s_=vr(dr().mark((function e(t){var n,r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y_(t)){e.next=18;break}n=Nn(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),s_.apply(this,arguments)}function c_(e){return l_.apply(this,arguments)}function l_(){return l_=vr(dr().mark((function e(t){var n,r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nn(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),l_.apply(this,arguments)}function f_(e,t){var n=bm(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),m_(n)?v_(n):H_(n).Mo()&&d_(n,t))}function h_(e,t){var n=bm(e),r=H_(n);n.wu.delete(t),r.Mo()&&p_(n,t),0===n.wu.size&&(r.Mo()?r.Bo():y_(n)&&n.pu.set("Unknown"))}function d_(e,t){e.Iu.Ot(t.targetId),H_(e).Jo(t)}function p_(e,t){e.Iu.Ot(t),H_(e).Yo(t)}function v_(e){e.Iu=new cb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),H_(e).start(),e.pu.au()}function m_(e){return y_(e)&&!H_(e).$o()&&e.wu.size>0}function y_(e){return 0===bm(e).mu.size}function g_(e){e.Iu=void 0}function k_(e){return b_.apply(this,arguments)}function b_(){return b_=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){d_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return x_=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g_(t),m_(t)?(t.pu.fu(n),v_(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function I_(e,t,n){return __.apply(this,arguments)}function __(){return __=vr(dr().mark((function e(t,n,r){var i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof ub&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Nn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),pm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,S_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ab?t.Iu.Qt(n):n instanceof ob?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(Fm.min())){e.next=29;break}return e.prev=14,e.next=17,gI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(Sy.EMPTY_BYTE_STRING,n.snapshotVersion)),p_(e,t);var r=new Iw(n.target,t,1,n.sequenceNumber);d_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),pm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,S_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),__.apply(this,arguments)}function S_(e,t,n){return E_.apply(this,arguments)}function E_(){return E_=vr(dr().mark((function e(t,n,r){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sy(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,c_(t);case 5:t.pu.set("Offline"),r||(r=function(){return gI(t.localStore)}),t.asyncQueue.enqueueRetryable(vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,u_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function T_(e,t){return t().catch((function(n){return S_(e,n,t)}))}function C_(e){return N_.apply(this,arguments)}function N_(){return N_=vr(dr().mark((function e(t){var n,r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bm(t),r=W_(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!A_(n)){e.next=19;break}return e.prev=3,e.next=6,wI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,R_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,S_(n,e.t0);case 17:e.next=2;break;case 19:D_(n)&&O_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),N_.apply(this,arguments)}function A_(e){return y_(e)&&e._u.length<10}function R_(e,t){e._u.push(t);var n=W_(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function D_(e){return y_(e)&&!W_(e).$o()&&e._u.length>0}function O_(e){W_(e).start()}function P_(e){return L_.apply(this,arguments)}function L_(){return L_=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W_(t).su();case 1:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e){return j_.apply(this,arguments)}function j_(){return j_=vr(dr().mark((function e(t){var n,r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=W_(t),r=Nn(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function F_(e,t,n){return U_.apply(this,arguments)}function U_(){return U_=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=ww.from(i,n,r),e.next=3,T_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,C_(t);case 5:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(e,t){return B_.apply(this,arguments)}function B_(){return B_=vr(dr().mark((function e(t,n){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&W_(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bk(i=n.code)||i===wm.ABORTED){e.next=7;break}return r=t._u.shift(),W_(t).Fo(),e.next=5,T_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,C_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:D_(t)&&O_(t);case 5:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function z_(e,t){return q_.apply(this,arguments)}function q_(){return q_=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=bm(t)).asyncQueue.verifyOperationInProgress(),pm("RemoteStore","RemoteStore received new credentials"),i=y_(r),r.mu.add(3),e.next=6,c_(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,u_(r);case 12:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function K_(e,t){return G_.apply(this,arguments)}function G_(){return G_=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bm(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,u_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,c_(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function H_(e){return e.Tu||(e.Tu=function(e,t,n){var r=bm(e);return r.ru(),new n_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:k_.bind(null,e),no:w_.bind(null,e),Ho:I_.bind(null,e)}),e.gu.push(function(){var t=vr(dr().mark((function t(n){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.Fo(),m_(e)?v_(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:g_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function W_(e){return e.Eu||(e.Eu=function(e,t,n){var r=bm(e);return r.ru(),new r_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:P_.bind(null,e),no:V_.bind(null,e),nu:M_.bind(null,e),eu:F_.bind(null,e)}),e.gu.push(function(){var t=vr(dr().mark((function t(n){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.Fo(),t.next=4,C_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(pm("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var Q_=function(){function e(t,n,r,i,a){$(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Im,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return X(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xm(wm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $_(e,t){if(vm("AsyncQueue","".concat(t,": ").concat(e)),sy(e))return new xm(wm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Y_=function(){function e(t){$(this,e),this.comparator=t?function(e,n){return t(e,n)||qm.comparator(e.key,n.key)}:function(e,t){return qm.comparator(e.key,t.key)},this.keyedMap=Wk(),this.sortedSet=new _g(this.comparator)}return X(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),X_=function(){function e(){$(this,e),this.Au=new _g(qm.comparator)}return X(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):gm():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),J_=function(){function e(t,n,r,i,a,o,u,s,c){$(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return X(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Y_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Z_=X((function e(){$(this,e),this.Pu=void 0,this.listeners=[]})),eS=X((function e(){$(this,e),this.queries=new qk((function(e){return ek(e)}),Zg),this.onlineState="Unknown",this.vu=new Set}));function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=vr(dr().mark((function e(t,n){var r,i,a,o,u;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Z_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Pu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=$_(e.t0,"Initialization of query '".concat(tk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Pu&&n.Vu(o.Pu)&&uS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=vr(dr().mark((function e(t,n){var r,i,a,o,u;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){var n,r=bm(e),i=!1,a=Nn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Nn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Pu=o}}}catch(f){a.e(f)}finally{a.f()}i&&uS(r)}function oS(e,t,n){var r=bm(e),i=r.queries.get(t);if(i){var a,o=Nn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function uS(e){e.vu.forEach((function(e){e.next()}))}var sS=function(){function e(t,n,r){$(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return X(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Nn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new J_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.$u||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=J_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),cS=function(){function e(t,n){$(this,e),this.Mu=t,this.byteLength=n}return X(e,[{key:"Ou",value:function(){return"metadata"in this.Mu}}]),e}(),lS=function(){function e(t){$(this,e),this.Tt=t}return X(e,[{key:"Zi",value:function(e){return Ib(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Nb(this.Tt,e.document,!1):Og.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return kb(e)}}]),e}(),fS=function(){function e(t,n,r){$(this,e),this.Fu=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hS(t)}return X(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=Vm.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new lS(this.Tt),i=Nn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=Nn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||eb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=vr(dr().mark((function e(){var t,n,r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NI(this.localStore,new lS(this.Tt),this.documents,this.Fu.id);case 2:t=e.sent,n=this.Lu(this.documents),r=Nn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,RI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function hS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var dS=X((function e(t){$(this,e),this.key=t})),pS=X((function e(t){$(this,e),this.key=t})),vS=function(){function e(t,n){$(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=eb(),this.mutatedKeys=eb(),this.ju=ik(t),this.zu=new Y_(this.ju)}return X(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new X_,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=nk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gm()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new J_(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new X_,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=eb(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new pS(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new dS(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=eb();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return J_.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),mS=X((function e(t,n,r){$(this,e),this.query=t,this.targetId=n,this.view=r})),yS=X((function e(t){$(this,e),this.key=t,this.ic=!1})),gS=function(){function e(t,n,r,i,a,o){$(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new qk((function(e){return ek(e)}),Zg),this.uc=new Map,this.cc=new Set,this.ac=new _g(qm.comparator),this.hc=new Map,this.lc=new $x,this.fc={},this.dc=new Map,this._c=Sx.Sn(),this.onlineState="Unknown",this.wc=void 0}return X(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=vr(dr().mark((function e(t,n){var r,i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hE(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,xI(r.localStore,Yg(n));case 8:return u=e.sent,r.isPrimaryClient&&f_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,wS(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t,n,r,i){return xS.apply(this,arguments)}function xS(){return xS=vr(dr().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=vr(dr().mark((function e(t,n,r,i){var a,o,u;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,SI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(zS(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,SI(t.localStore,n,!0);case 3:return o=e.sent,u=new vS(n,o.Yi),s=u.Hu(o.documents),c=ib.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),zS(t,r,l.tc),f=new mS(n,r,u),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function IS(e,t){return _S.apply(this,arguments)}function _S(){return _S=vr(dr().mark((function e(t,n){var r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bm(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!Zg(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,II(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),h_(r.remoteStore,i.targetId),VS(r,i.targetId)})).catch(ty);case 9:e.next=14;break;case 11:return VS(r,i.targetId),e.next=14,II(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function SS(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=vr(dr().mark((function e(t,n,r){var i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=bm(e),a=jm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),eb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Gk(),s=eb();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Nn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Nk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Dk(c.key,l,Dg(l.value.mapValue),Ik.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Qk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new _g(Pm)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,GS(i,a.changes);case 9:return e.next=11,C_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=$_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ES.apply(this,arguments)}function TS(e,t){return CS.apply(this,arguments)}function CS(){return CS=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),e.prev=1,e.next=4,kI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(km(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?km(n.ic):e.removedDocuments.size>0&&(km(n.ic),n.ic=!1))})),e.next=8,GS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ty(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),CS.apply(this,arguments)}function NS(e,t,n){var r=bm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=bm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Nn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&uS(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function AS(e,t,n){return RS.apply(this,arguments)}function RS(){return RS=vr(dr().mark((function e(t,n,r){var i,a,o,u,s,c;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=bm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new _g(qm.comparator)).insert(o,Og.newNoDocument(o,Fm.min())),s=eb().add(o),c=new rb(Fm.min(),new Map,new Tg(Pm),u,s),e.next=9,TS(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),KS(i),e.next=16;break;case 14:return e.next=16,II(i.localStore,n,!1).then((function(){return VS(i,n,r)})).catch(ty);case 16:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function DS(e,t){return OS.apply(this,arguments)}function OS(){return OS=vr(dr().mark((function e(t,n){var r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),i=n.batch.batchId,e.prev=1,e.next=4,yI(r.localStore,n);case 4:return a=e.sent,US(r,i,null),FS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,GS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ty(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),OS.apply(this,arguments)}function PS(e,t,n){return LS.apply(this,arguments)}function LS(){return LS=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bm(t),e.prev=1,e.next=4,function(e,t){var n=bm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return km(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,US(i,n,r),FS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,GS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ty(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),LS.apply(this,arguments)}function MS(e,t){return jS.apply(this,arguments)}function jS(){return jS=vr(dr().mark((function e(t,n){var r,i,a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y_((r=bm(t)).remoteStore)||pm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=bm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=$_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),jS.apply(this,arguments)}function FS(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function US(e,t,n){var r=bm(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function VS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Nn(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||BS(e,t)}))}function BS(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(h_(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),KS(e))}function zS(e,t,n){var r,i=Nn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dS?(e.lc.addReference(a.key,t),qS(e,a)):a instanceof pS?(pm("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||BS(e,a.key)):gm()}}catch(o){i.e(o)}finally{i.f()}}function qS(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(pm("SyncEngine","New document in limbo: "+n),e.cc.add(r),KS(e))}function KS(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new qm(Vm.fromString(t)),r=e._c.next();e.hc.set(r,new yS(n)),e.ac=e.ac.insert(n,r),f_(e.remoteStore,new Iw(Yg(Kg(n.path)),r,2,vy.at))}}function GS(e,t,n){return HS.apply(this,arguments)}function HS(){return HS=vr(dr().mark((function e(t,n,r){var i,a,o,u;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bm(t),a=[],o=[],u=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){u.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=fI.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.rc.Ho(a),e.next=9,function(){var e=vr(dr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ry.forEach(n,(function(t){return ry.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ry.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),sy(e.t0)){e.next=10;break}throw e.t0;case 10:pm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Nn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ki.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function WS(e,t){return QS.apply(this,arguments)}function QS(){return QS=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=bm(t)).currentUser.isEqual(n)){e.next=11;break}return pm("SyncEngine","User change. New user:",n.toKey()),e.next=5,vI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new xm(wm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,GS(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function $S(e,t){var n=bm(e),r=n.hc.get(t);if(r&&r.ic)return eb().add(r.key);var i=eb(),a=n.uc.get(t);if(!a)return i;var o,u=Nn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function YS(e,t){return XS.apply(this,arguments)}function XS(){return XS=vr(dr().mark((function e(t,n){var r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),e.next=3,SI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&zS(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function JS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=vr(dr().mark((function e(t,n){var r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),e.abrupt("return",TI(r.localStore,n).then((function(e){return GS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eE(e,t,n,r){return tE.apply(this,arguments)}function tE(){return tE=vr(dr().mark((function e(t,n,r,i){var a,o;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=bm(t),e.next=3,function(e,t){var n=bm(e),r=bm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ry.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,C_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(US(a,n,i||null),FS(a,n),function(e,t){bm(bm(e).mutationQueue).Pn(t)}(a.localStore,n)):gm();case 11:return e.next=13,GS(a,o);case 13:e.next=16;break;case 15:pm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=vr(dr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hE(r=bm(t)),dE(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,iE(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,K_(r.remoteStore,!0);case 9:o=Nn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,f_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return c=[],l=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return VS(r,t),II(r.localStore,t,!0)})),h_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,iE(r,c);case 21:return function(e){var t=bm(e);t.hc.forEach((function(e,n){h_(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new _g(qm.comparator)}(r),r.wc=!1,e.next=25,K_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t,n){return aE.apply(this,arguments)}function aE(){return aE=vr(dr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=bm(t),a=[],o=[],u=Nn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.uc.get(c))||0===f.length){e.next=34;break}return e.next=11,xI(i.localStore,Yg(f[0]));case 11:l=e.sent,h=Nn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.oc.get(p),e.next=20,YS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,EI(i.localStore,c);case 36:return y=e.sent,e.next=39,xI(i.localStore,y);case 39:return l=e.sent,e.next=42,wS(i,oE(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),aE.apply(this,arguments)}function oE(e){return qg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uE(e){var t=bm(e);return bm(bm(t.localStore).persistence).Si()}function sE(e,t,n,r){return cE.apply(this,arguments)}function cE(){return cE=vr(dr().mark((function e(t,n,r,i){var a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=bm(t)).wc){e.next=3;break}return e.abrupt("return",void pm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,TI(a.localStore,rk(o[0]));case 10:return u=e.sent,s=rb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Sy.EMPTY_BYTE_STRING),e.next=14,GS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,II(a.localStore,n,!0);case 17:return VS(a,n,i),e.abrupt("break",20);case 19:gm();case 20:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t,n){return fE.apply(this,arguments)}function fE(){return fE=vr(dr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=hE(t)).wc){e.next=45;break}a=Nn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.uc.has(u)){e.next=10;break}return pm("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,EI(i.localStore,u);case 12:return s=e.sent,e.next=15,xI(i.localStore,s);case 15:return c=e.sent,e.next=18,wS(i,oE(s),c.targetId,!1,c.resumeToken);case 18:f_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Nn(r),e.prev=30,h=dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,II(i.localStore,t,!1).then((function(){h_(i.remoteStore,t),VS(i,t)})).catch(ty);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),fE.apply(this,arguments)}function hE(e){var t=bm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$S.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AS.bind(null,t),t.rc.Ho=aS.bind(null,t.eventManager),t.rc.gc=oS.bind(null,t.eventManager),t}function dE(e){var t=bm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PS.bind(null,t),t}function pE(e,t,n){var r=bm(e);(function(){var e=vr(dr().mark((function e(t,n,r){var i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=bm(e),r=kb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(hS(i)),a=new fS(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,GS(t,s.Uu,void 0);case 31:return e.next=33,function(e,t){var n=bm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(mm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var vE=function(){function e(){$(this,e),this.synchronizeTabs=!1}return X(e,[{key:"initialize",value:function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=ZI(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return pI(this.persistence,new hI,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new tI(rI.qs,this.Tt)}},{key:"Ic",value:function(e){return new zI}},{key:"terminate",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mE=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).Pc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return X(n,[{key:"initialize",value:function(){var e=vr(dr().mark((function e(t){var r=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Dn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Pc.initialize(this,t);case 4:return e.next=6,dE(this.Pc.syncEngine);case 6:return e.next=8,C_(this.Pc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return pI(this.persistence,new hI,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Dx(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new py(t,this.persistence);return new dy(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=lI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yx.withCacheSize(this.cacheSizeBytes):yx.DEFAULT;return new uI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,XI(),JI(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new zI}}]),n}(vE),yE=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,r,!1)).Pc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return X(n,[{key:"initialize",value:function(){var e=vr(dr().mark((function e(t){var r,i=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hi(Dn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Pc.syncEngine,e.t0=this.sharedClientState instanceof BI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:eE.bind(null,r),Lr:sE.bind(null,r),qr:lE.bind(null,r),Si:uE.bind(null,r),Fr:JS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nE(i.Pc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=XI();if(!BI.C(t))throw new xm(wm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new BI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(mE),gE=function(){function e(){$(this,e)}return X(e,[{key:"initialize",value:function(){var e=vr(dr().mark((function e(t,n){var r=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return NS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=WS.bind(null,this.syncEngine),e.next=12,K_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new eS}},{key:"createDatastore",value:function(e){var t,n=ZI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new YI(t));return function(e,t,n,r){return new i_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return NS(o.syncEngine,e,0)},a=KI.C()?new KI:new qI,new o_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new gS(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bm(t),pm("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,c_(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return vr(dr().mark((function r(){var i;return dr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var bE=function(){function e(t){$(this,e),this.observer=t,this.muted=!1}return X(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):vm("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),wE=function(){function e(t,n){var r=this;$(this,e),this.Vc=t,this.Tt=n,this.metadata=new Im,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return X(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=vr(dr().mark((function e(){var t,n,r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new cS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=vr(dr().mark((function e(){var t,n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=vr(dr().mark((function e(){var t,n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xE=function(){function e(t){$(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return X(e,[{key:"lookup",value:function(){var e=vr(dr().mark((function e(t){var n,r=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new xm(wm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=vr(dr().mark((function e(t,n){var r,i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),i=Eb(r.Tt)+"/documents",a={documents:n.map((function(e){return xb(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Ab(r.Tt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());km(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Fk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=vr(dr().mark((function e(){var t,n=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=qm.fromPath(t);n.mutations.push(new Uk(r,n.precondition(r)))})),e.next=7,function(){var e=vr(dr().mark((function e(t,n){var r,i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bm(t),i=Eb(r.Tt)+"/documents",a={writes:n.map((function(e){return Rb(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gm();t=Fm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xm(wm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fm.min())?Ik.exists(!1):Ik.updateTime(t):Ik.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fm.min()))throw new xm(wm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ik.updateTime(t)}return Ik.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),IE=function(){function e(t,n,r,i,a){$(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new e_(this.asyncQueue,"transaction_retry")}return X(e,[{key:"run",value:function(){this.Mc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.ko.vo(vr(dr().mark((function t(){var n,r;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new xE(e.datastore),(r=e.Fc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Fc",value:function(e){try{var t=this.updateFunction(e);return!wy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Bk(t)}return!1}}]),e}(),_E=function(){function e(t,n,r,i){var a=this;$(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lm.UNAUTHENTICATED,this.clientId=Om.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return pm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return X(e,[{key:"getConfiguration",value:function(){var e=vr(dr().mark((function e(){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new xm(wm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Im;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(vr(dr().mark((function n(){var r;return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function SE(e,t){return EE.apply(this,arguments)}function EE(){return EE=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),pm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function TE(e,t){return CE.apply(this,arguments)}function CE(){return CE=vr(dr().mark((function e(t,n){var r,i;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,NE(t);case 3:return r=e.sent,pm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return z_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return z_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function NE(e){return AE.apply(this,arguments)}function AE(){return AE=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return pm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,SE(t,new vE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function RE(e){return DE.apply(this,arguments)}function DE(){return DE=vr(dr().mark((function e(t){return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return pm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,TE(t,new gE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function OE(e){return NE(e).then((function(e){return e.persistence}))}function PE(e){return NE(e).then((function(e){return e.localStore}))}function LE(e){return RE(e).then((function(e){return e.remoteStore}))}function ME(e){return RE(e).then((function(e){return e.syncEngine}))}function jE(e){return RE(e).then((function(e){return e.datastore}))}function FE(e){return UE.apply(this,arguments)}function UE(){return UE=vr(dr().mark((function e(t){var n,r;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=kS.bind(null,n.syncEngine),r.onUnlisten=IS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Im;return e.asyncQueue.enqueueAndForget(vr(dr().mark((function i(){return dr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bE({next:function(a){t.enqueueAndForget((function(){return rS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new xm(wm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new xm(wm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new sS(Kg(n.path),a,{includeMetadataChanges:!0,$u:!0});return tS(e,o)},i.next=3,FE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function BE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Im;return e.asyncQueue.enqueueAndForget(vr(dr().mark((function i(){return dr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bE({next:function(n){t.enqueueAndForget((function(){return rS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new xm(wm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new sS(n,a,{includeMetadataChanges:!0,$u:!0});return tS(e,o)},i.next=3,FE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var zE=new Map;function qE(e,t,n){if(!n)throw new xm(wm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function KE(e,t,n,r){if(!0===t&&!0===r)throw new xm(wm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function GE(e){if(!qm.isDocumentKey(e))throw new xm(wm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function HE(e){if(qm.isDocumentKey(e))throw new xm(wm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function WE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":gm()}function QE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xm(wm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=WE(e);throw new xm(wm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function $E(e,t){if(t<=0)throw new xm(wm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var YE=function(){function e(t){var n;if($(this,e),void 0===t.host){if(void 0!==t.ssl)throw new xm(wm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xm(wm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,KE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return X(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),XE=function(){function e(t,n,r,i){$(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1}return X(e,[{key:"app",get:function(){if(!this._app)throw new xm(wm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new xm(wm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Sm;switch(e.type){case"gapi":var t=e.client;return new Nm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new xm(wm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=zE.get(e);t&&(pm("ComponentProvider","Removing Datastore"),zE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function JE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=QE(e,XE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&mm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=lm.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vn(JSON.stringify({alg:"none",type:"JWT"})),Vn(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new xm(wm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lm(s)}e._authCredentials=new Em(new _m(o,u))}}var ZE=function(){function e(t,n,r){$(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return X(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new tT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),eT=function(){function e(t,n,r){$(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return X(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),tT=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this,e,r,Kg(i)))._path=i,a.type="collection",a}return X(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ZE(this.firestore,null,new qm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(eT);function nT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hr(e),qE("collection","path",t),e instanceof XE){var a=Vm.fromString.apply(Vm,[t].concat(r));return HE(a),new tT(e,null,a)}if(!(e instanceof ZE||e instanceof tT))throw new xm(wm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Vm.fromString.apply(Vm,[t].concat(r)));return HE(o),new tT(e.firestore,null,o)}function rT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hr(e),1===arguments.length&&(t=Om.R()),qE("doc","path",t),e instanceof XE){var a=Vm.fromString.apply(Vm,[t].concat(r));return GE(a),new ZE(e,null,new qm(a))}if(!(e instanceof ZE||e instanceof tT))throw new xm(wm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Vm.fromString.apply(Vm,[t].concat(r)));return GE(o),new ZE(e.firestore,e instanceof tT?e.converter:null,new qm(o))}function iT(e,t){return e=hr(e),t=hr(t),(e instanceof ZE||e instanceof tT)&&(t instanceof ZE||t instanceof tT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function aT(e,t){return e=hr(e),t=hr(t),e instanceof eT&&t instanceof eT&&e.firestore===t.firestore&&Zg(e._query,t._query)&&e.converter===t.converter}var oT=function(){function e(){var t=this;$(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new e_(this,"async_queue_retry"),this.Hc=function(){var e=JI();e&&pm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=JI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return X(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=JI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Im;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=vr(dr().mark((function e(){var t=this;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),sy(e.t0)){e.next=12;break}throw e.t0;case 12:pm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=Q_.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&gm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=vr(dr().mark((function e(){var t;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=Nn(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Nn(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function uT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Nn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var sT=function(){function e(){$(this,e),this._progressObserver={},this._taskCompletionResolver=new Im,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return X(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),cT=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a){var o;return $(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new oT,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return X(n,[{key:"_terminate",value:function(){return this._firestoreClient||fT(this),this._firestoreClient.terminate()}}]),n}(XE);function lT(e){return e._firestoreClient||fT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new my(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new _E(e._authCredentials,e._appCheckCredentials,e._queue,r)}function hT(e,t,n){var r=new Im;return e.asyncQueue.enqueue(vr(dr().mark((function i(){var a;return dr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,SE(e,n);case 3:return i.next=5,TE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===wm.FAILED_PRECONDITION||e.code===wm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:mm("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function dT(e){return function(e){return e.asyncQueue.enqueue(vr(dr().mark((function t(){var n,r;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OE(e);case 2:return n=t.sent,t.next=5,LE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=bm(e);return t.mu.delete(0),u_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(lT(e=QE(e,cT)))}function pT(e){return function(e){return e.asyncQueue.enqueue(vr(dr().mark((function t(){var n,r;return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OE(e);case 2:return n=t.sent,t.next=5,LE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=bm(t)).mu.add(0),e.next=4,c_(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(lT(e=QE(e,cT)))}function vT(e,t){var n=lT(e=QE(e,cT)),r=new sT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new wE(e,t)}(function(e,t){if(e instanceof Uint8Array)return kE(e,t);if(e instanceof ArrayBuffer)return kE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ZI(t));e.asyncQueue.enqueueAndForget(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pE,t.next=3,ME(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function mT(e,t){return function(e,t){return e.asyncQueue.enqueue(vr(dr().mark((function n(){return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=bm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$s.getNamedQuery(e,t)}))},n.next=3,PE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(lT(e=QE(e,cT)),t).then((function(t){return t?new eT(e,null,t.query):null}))}function yT(e){if(e._initialized||e._terminated)throw new xm(wm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gT=function(){function e(t){$(this,e),this._byteString=t}return X(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Sy.fromBase64String(t))}catch(t){throw new xm(wm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Sy.fromUint8Array(t))}}]),e}(),kT=function(){function e(){$(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new xm(wm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zm(n)}return X(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var bT=X((function e(t){$(this,e),this._methodName=t})),wT=function(){function e(t,n){if($(this,e),!isFinite(t)||t<-90||t>90)throw new xm(wm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xm(wm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return X(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pm(this._lat,e._lat)||Pm(this._long,e._long)}}]),e}(),xT=/^__.*__$/,IT=function(){function e(t,n,r){$(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return X(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rk(e,this.data,t,this.fieldTransforms)}}]),e}(),_T=function(){function e(t,n,r){$(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return X(e,[{key:"toMutation",value:function(e,t){return new Dk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ST(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gm()}}var ET=function(){function e(t,n,r,i,a,o){$(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return X(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return HT(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(ST(this.ra)&&xT.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),TT=function(){function e(t,n,r){$(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||ZI(t)}return X(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ET({ra:e,methodName:t,_a:n,path:zm.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function CT(e){var t=e._freezeSettings(),n=ZI(e._databaseId);return new TT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function NT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);zT("Data must be an object, but it was:",o,r);var u,s,c=VT(r,o);if(a.merge)u=new Ag(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Nn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=qT(t,l.value,n);if(!o.contains(d))throw new xm(wm.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));WT(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Ag(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new IT(new Rg(c),u,s)}var AT=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bT);function RT(e,t,n){return new ET({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var DT=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"_toFieldTransform",value:function(e){return new wk(e.path,new dk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bT),OT=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e)).ma=r,i}return X(n,[{key:"_toFieldTransform",value:function(e){var t=RT(this,e,!0),n=this.ma.map((function(e){return UT(e,t)})),r=new pk(n);return new wk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bT),PT=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e)).ma=r,i}return X(n,[{key:"_toFieldTransform",value:function(e){var t=RT(this,e,!0),n=this.ma.map((function(e){return UT(e,t)})),r=new mk(n);return new wk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bT),LT=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e)).ga=r,i}return X(n,[{key:"_toFieldTransform",value:function(e){var t=new gk(e.Tt,sk(e.Tt,this.ga));return new wk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bT);function MT(e,t,n,r){var i=e.wa(1,t,n);zT("Data must be an object, but it was:",i,r);var a=[],o=Rg.empty();ky(r,(function(e,r){var u=GT(t,e,n);r=hr(r);var s=i.ha(u);if(r instanceof AT)a.push(u);else{var c=UT(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ag(a);return new _T(o,u,i.fieldTransforms)}function jT(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[qT(t,r,n)],s=[i];if(a.length%2!=0)throw new xm(wm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(qT(t,a[c])),s.push(a[c+1]);for(var l=[],f=Rg.empty(),h=u.length-1;h>=0;--h)if(!WT(l,u[h])){var d=u[h],p=s[h];p=hr(p);var v=o.ha(d);if(p instanceof AT)l.push(d);else{var m=UT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ag(l);return new _T(f,y,o.fieldTransforms)}function FT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return UT(n,e.wa(r?4:3,t))}function UT(e,t){if(BT(e=hr(e)))return zT("Unsupported field value:",t,e),VT(e,t);if(e instanceof bT)return function(e,t){if(!ST(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Nn(e);try{for(a.s();!(n=a.n()).done;){var o=UT(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=hr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sk(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=jm.fromDate(e);return{timestampValue:mb(t.Tt,n)}}if(e instanceof jm){var r=new jm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mb(t.Tt,r)}}if(e instanceof wT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gT)return{bytesValue:yb(t.Tt,e._byteString)};if(e instanceof ZE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:bb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(WE(e)))}(e,t)}function VT(e,t){var n={};return by(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ky(e,(function(e,r){var i=UT(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function BT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jm||e instanceof wT||e instanceof gT||e instanceof ZE||e instanceof bT)}function zT(e,t,n){if(!BT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=WE(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function qT(e,t,n){if((t=hr(t))instanceof kT)return t._internalPath;if("string"==typeof t)return GT(e,t);throw HT("Field path arguments must be of type string or ",e,!1,void 0,n)}var KT=new RegExp("[~\\*/\\[\\]]");function GT(e,t,n){if(t.search(KT)>=0)throw HT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ln(kT,u(t.split(".")))._internalPath}catch(r){throw HT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function HT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new xm(wm.INVALID_ARGUMENT,u+e+s)}function WT(e,t){return e.some((function(e){return e.isEqual(t)}))}var QT=function(){function e(t,n,r,i,a){$(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return X(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ZE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new $T(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(YT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),$T=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"data",value:function(){return Hi(Dn(n.prototype),"data",this).call(this)}}]),n}(QT);function YT(e,t){return"string"==typeof t?GT(e,t):t instanceof kT?t._internalPath:t._delegate._internalPath}function XT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new xm(wm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JT=X((function e(){$(this,e)})),ZT=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n)}(JT);function eC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof JT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof nC})).length,n=e.filter((function(e){return e instanceof tC})).length;if(t>1||t>0&&n>0)throw new xm(wm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Nn(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var tC=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return X(n,[{key:"_apply",value:function(e){var t=this._parse(e);return pC(e._query,t),new eT(e.firestore,e.converter,Xg(e._query,t))}},{key:"_parse",value:function(e){var t=CT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new xm(wm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dC(o,a);var s,c=[],l=Nn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(hC(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=hC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dC(o,a),u=FT(n,"where",o,"in"===a||"not-in"===a);return ig.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZT);var nC=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return X(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ag.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Nn(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;pC(r,a),r=Xg(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new eT(e.firestore,e.converter,Xg(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(JT);var rC=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return X(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xm(wm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xm(wm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xg(t,n);return function(e,t){if(null===Hg(e)){var n=Wg(e);null!==n&&vC(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new eT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new zg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ZT);var iC=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return X(n,[{key:"_apply",value:function(e){return new eT(e.firestore,e.converter,Jg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZT);var aC=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return X(n,[{key:"_apply",value:function(e){var t=fC(e,this.type,this._docOrFields,this._inclusive);return new eT(e.firestore,e.converter,function(e,t){return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZT);function oC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aC._create("startAt",t,!0)}function uC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aC._create("startAfter",t,!1)}var sC=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i){var a;return $(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return X(n,[{key:"_apply",value:function(e){var t=fC(e,this.type,this._docOrFields,this._inclusive);return new eT(e.firestore,e.converter,function(e,t){return new zg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZT);function cC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sC._create("endBefore",t,!1)}function lC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sC._create("endAt",t,!0)}function fC(e,t,n,r){if(n[0]=hr(n[0]),n[0]instanceof QT)return function(e,t,n,r,i){if(!r)throw new xm(wm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Nn($g(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(zy(t,r.key));else{var c=r.data.field(s.field);if(Ay(c))throw new xm(wm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new xm(wm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new eg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=CT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new xm(wm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new xm(wm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Qg(e)&&-1!==c.indexOf("/"))throw new xm(wm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Vm.fromString(c));if(!qm.isDocumentKey(l))throw new xm(wm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new qm(l);u.push(zy(t,f))}else{var h=FT(n,r,c);u.push(h)}}return new eg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hC(e,t,n){if("string"==typeof(n=hr(n))){if(""===n)throw new xm(wm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qg(t)&&-1!==n.indexOf("/"))throw new xm(wm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Vm.fromString(n));if(!qm.isDocumentKey(r))throw new xm(wm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return zy(e,new qm(r))}if(n instanceof ZE)return zy(e,n._key);throw new xm(wm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(WE(n),"."))}function dC(e,t){if(!Array.isArray(e)||0===e.length)throw new xm(wm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pC(e,t){if(t.isInequality()){var n=Wg(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new xm(wm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Hg(e);null!==i&&vC(e,r,i)}var a=function(e,t){var n,r=Nn(e);try{for(r.s();!(n=r.n()).done;){var i,a=Nn(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new xm(wm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new xm(wm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function vC(e,t,n){if(!n.isEqual(t))throw new xm(wm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mC=function(){function e(){$(this,e)}return X(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ly(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ny(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ky(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new wT(Cy(e.latitude),Cy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ry(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ty(e);return new jm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Vm.fromString(e);km(Kb(n));var r=new yy(n.get(1),n.get(3)),i=new qm(n.popFirst(5));return r.isEqual(t)||vm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gC=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this)).firestore=e,r}return X(n,[{key:"convertBytes",value:function(e){return new gT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZE(this.firestore,null,t)}}]),n}(mC);var kC=function(){function e(t,n){$(this,e),this.hasPendingWrites=t,this.fromCache=n}return X(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),bC=function(e){Rn(n,e);var t=Pn(n);function n(e,r,i,a,o,u){var s;return $(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return X(n,[{key:"exists",value:function(){return Hi(Dn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new wC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(YT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(QT),wC=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hi(Dn(n.prototype),"data",this).call(this,e)}}]),n}(bC),xC=function(){function e(t,n,r,i){$(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kC(i.hasPendingWrites,i.fromCache),this.query=r}return X(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wC(n._firestore,n._userDataWriter,r.key,r,new kC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xm(wm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new wC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:IC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function IC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gm()}}function _C(e,t){return e instanceof bC&&t instanceof bC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xC&&t instanceof xC&&e._firestore===t._firestore&&aT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var SC=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this)).firestore=e,r}return X(n,[{key:"convertBytes",value:function(e){return new gT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZE(this.firestore,null,t)}}]),n}(mC);function EC(e){e=QE(e,ZE);var t=QE(e.firestore,cT),n=lT(t),r=new SC(t);return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(vr(dr().mark((function r(){return dr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vr(dr().mark((function e(t,n,r){var i,a;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=bm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new xm(wm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=$_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,PE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new bC(t,r,e._key,n,new kC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function TC(e){e=QE(e,eT);var t=QE(e.firestore,cT),n=lT(t),r=new SC(t);return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(vr(dr().mark((function r(){return dr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vr(dr().mark((function e(t,n,r){var i,a,o,u,s;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,SI(t,n,!0);case 3:i=e.sent,a=new vS(n,i.Yi),o=a.Hu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=$_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,PE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new xC(t,r,e,n)}))}function CC(e,t,n){e=QE(e,ZE);var r=QE(e.firestore,cT),i=yC(e.converter,t,n);return DC(r,[NT(CT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ik.none())])}function NC(e,t,n){e=QE(e,ZE);for(var r=QE(e.firestore,cT),i=CT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return DC(r,[("string"==typeof(t=hr(t))||t instanceof kT?jT(i,"updateDoc",e._key,t,n,o):MT(i,"updateDoc",e._key,t)).toMutation(e._key,Ik.exists(!0))])}function AC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=hr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||uT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(uT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ZE)l=QE(e.firestore,cT),f=Kg(e._key.path),c={next:function(t){n[s]&&n[s](OC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=QE(e,eT);l=QE(p.firestore,cT),f=p._query;var v=new SC(l);c={next:function(e){n[s]&&n[s](new xC(l,v,p,e))},error:n[s+1],complete:n[s+2]},XT(e._query)}return function(e,t,n,r){var i=new bE(r),a=new sS(t,i,n);return e.asyncQueue.enqueueAndForget(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tS,t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rS,t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lT(l),f,h,c)}function RC(e,t){return function(e,t){var n=new bE(t);return e.asyncQueue.enqueueAndForget(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){bm(e).vu.add(t),t.next()},t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(vr(dr().mark((function t(){return dr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){bm(e).vu.delete(t)},t.next=3,FE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lT(e=QE(e,cT)),uT(t)?t:{next:t})}function DC(e,t){return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(vr(dr().mark((function r(){return dr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=SS,r.next=3,ME(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(lT(e),t)}function OC(e,t,n){var r=n.docs.get(t._key),i=new SC(e);return new bC(e,i,t._key,r,new kC(n.hasPendingWrites,n.fromCache),t.converter)}var PC={maxAttempts:5},LC=function(){function e(t,n){$(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=CT(t)}return X(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=MC(e,this._firestore),i=yC(r.converter,t,n),a=NT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ik.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=MC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=hr(t))||t instanceof kT?jT(this._dataReader,"WriteBatch.update",i._key,t,n,o):MT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ik.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=MC(e,this._firestore);return this._mutations=this._mutations.concat(new Fk(t._key,Ik.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new xm(wm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function MC(e,t){if((e=hr(e)).firestore!==t)throw new xm(wm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var jC=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,r))._firestore=e,i}return X(n,[{key:"get",value:function(e){var t=this,r=MC(e,this._firestore),i=new SC(this._firestore);return Hi(Dn(n.prototype),"get",this).call(this,e).then((function(e){return new bC(t._firestore,i,r._key,e._document,new kC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){$(this,e),this._firestore=t,this._transaction=n,this._dataReader=CT(t)}return X(e,[{key:"get",value:function(e){var t=this,n=MC(e,this._firestore),r=new gC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return gm();var i=e[0];if(i.isFoundDocument())return new QT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new QT(t._firestore,r,n._key,null,n.converter);throw gm()}))}},{key:"set",value:function(e,t,n){var r=MC(e,this._firestore),i=yC(r.converter,t,n),a=NT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=MC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=hr(t))||t instanceof kT?jT(this._dataReader,"Transaction.update",i._key,t,n,o):MT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=MC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function FC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OT("arrayUnion",t)}function UC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fm=e}(li),ri(new mr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new cT(new Tm(e.getProvider("auth-internal")),new Rm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xm(wm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),mi(cm,"3.9.0",e),mi(cm,"3.9.0","esm2017")}();var VC="@firebase/firestore-compat",BC="0.3.5";function zC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qC(){if("undefined"===typeof Uint8Array)throw new xm("unimplemented","Uint8Arrays are not available in this environment.")}function KC(){if("undefined"==typeof atob)throw new xm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var GC=function(){function e(t){$(this,e),this._delegate=t}return X(e,[{key:"toBase64",value:function(){return KC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return KC(),new e(gT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qC(),new e(gT.fromUint8Array(t))}}]),e}();function HC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Nn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var WC=function(){function e(){$(this,e)}return X(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){yT(e=QE(e,cT));var n=lT(e),r=e._freezeSettings(),i=new gE;return hT(n,i,new mE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){yT(e=QE(e,cT));var t=lT(e),n=e._freezeSettings(),r=new gE;return hT(t,r,new yE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new xm(wm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Im;return e._queue.enqueueAndForgetEvenWhileRestricted(vr(dr().mark((function n(){return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=vr(dr().mark((function e(t){var n;return dr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ay.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ay.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(lI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),QC=function(){function e(t,n,r){var i=this;$(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof yy||(this._appCompat=t)}return X(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||mm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};JE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return dT(this._delegate)}},{key:"disableNetwork",value:function(){return pT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&KE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Im;return e.asyncQueue.enqueueAndForget(vr(dr().mark((function n(){return dr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=MS,n.next=3,ME(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(lT(e=QE(e,cT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return RC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new xm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new sN(this,nT(this._delegate,e))}catch(t){throw eN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ZC(this,rT(this._delegate,e))}catch(t){throw eN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new aN(this,function(e,t){if(e=QE(e,XE),qE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xm(wm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new eT(e,null,function(e){return new zg(Vm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw eN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=QE(e,cT);var r=Object.assign(Object.assign({},PC),n);return function(e){if(e.maxAttempts<1)throw new xm(wm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Im;return e.asyncQueue.enqueueAndForget(vr(dr().mark((function i(){var a;return dr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,jE(e);case 2:a=i.sent,new IE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(lT(e),(function(n){return t(new jC(e,n))}),r)}(this._delegate,(function(n){return e(new YC(t,n))}))}},{key:"batch",value:function(){var e=this;return lT(this._delegate),new XC(new LC(this._delegate,(function(t){return DC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return vT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return mT(this._delegate,e).then((function(e){return e?new aN(t,e):null}))}}]),e}(),$C=function(e){Rn(n,e);var t=Pn(n);function n(e){var r;return $(this,n),(r=t.call(this)).firestore=e,r}return X(n,[{key:"convertBytes",value:function(e){return new GC(new gT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ZC.forKey(t,this.firestore,null)}}]),n}(mC);var YC=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new $C(t)}return X(e,[{key:"get",value:function(e){var t=this,n=cN(e);return this._delegate.get(n).then((function(e){return new rN(t._firestore,new bC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=cN(e);return n?(zC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cN(e);return this._delegate.delete(t),this}}]),e}(),XC=function(){function e(t){$(this,e),this._delegate=t}return X(e,[{key:"set",value:function(e,t,n){var r=cN(e);return n?(zC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=cN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=cN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),JC=function(){function e(t,n,r){$(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return X(e,[{key:"fromFirestore",value:function(e,t){var n=new wC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new iN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new $C(t),n),i.set(n,a)),a}}]),e}();JC.INSTANCES=new WeakMap;var ZC=function(){function e(t,n){$(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $C(t)}return X(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new sN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new sN(this.firestore,nT(this._delegate,e))}catch(t){throw eN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=hr(e))instanceof ZE&&iT(this._delegate,e)}},{key:"set",value:function(e,t){t=zC("DocumentReference.set",t);try{return t?CC(this._delegate,e,t):CC(this._delegate,e)}catch(n){throw eN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?NC(this._delegate,e):NC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw eN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return DC(QE(e.firestore,cT),[new Fk(e._key,Ik.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tN(n),a=nN(n,(function(t){return new rN(e.firestore,new bC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return AC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?EC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=QE(e,ZE);var t=QE(e.firestore,cT);return VE(lT(t),e._key,{source:"server"}).then((function(n){return OC(t,e,n)}))}(this._delegate):function(e){e=QE(e,ZE);var t=QE(e.firestore,cT);return VE(lT(t),e._key).then((function(n){return OC(t,e,n)}))}(this._delegate),t.then((function(e){return new rN(n.firestore,new bC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(JC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new xm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new ZE(n._delegate,r,new qm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new ZE(n._delegate,r,t))}}]),e}();function eN(e,t,n){return e.message=e.message.replace(t,n),e}function tN(e){var t,n=Nn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!HC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function nN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=HC(e[0])?e[0]:HC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rN=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n}return X(e,[{key:"ref",get:function(){return new ZC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return _C(this._delegate,e._delegate)}}]),e}(),iN=function(e){Rn(n,e);var t=Pn(n);function n(){return $(this,n),t.apply(this,arguments)}return X(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||gm()}(void 0!==t),t}}]),n}(rN),aN=function(){function e(t,n){$(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $C(t)}return X(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,eC(this._delegate,function(e,t,n){var r=t,i=YT("where",e);return tC._create(i,r,n)}(t,n,r)))}catch(i){throw eN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,eC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=YT("orderBy",e);return rC._create(n,t)}(t,n)))}catch(r){throw eN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,eC(this._delegate,function(e){return $E("limit",e),iC._create("limit",e,"F")}(t)))}catch(n){throw eN(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,eC(this._delegate,function(e){return $E("limitToLast",e),iC._create("limitToLast",e,"L")}(t)))}catch(n){throw eN(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,eC(this._delegate,oC.apply(void 0,arguments)))}catch(t){throw eN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,eC(this._delegate,uC.apply(void 0,arguments)))}catch(t){throw eN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,eC(this._delegate,cC.apply(void 0,arguments)))}catch(t){throw eN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,eC(this._delegate,lC.apply(void 0,arguments)))}catch(t){throw eN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return aT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?TC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=QE(e,eT);var t=QE(e.firestore,cT),n=lT(t),r=new SC(t);return BE(n,e._query,{source:"server"}).then((function(n){return new xC(t,r,e,n)}))}(this._delegate):function(e){e=QE(e,eT);var t=QE(e.firestore,cT),n=lT(t),r=new SC(t);return XT(e._query),BE(n,e._query).then((function(n){return new xC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new uN(n.firestore,new xC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=tN(n),a=nN(n,(function(t){return new uN(e.firestore,new xC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return AC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(JC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),oN=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n}return X(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new iN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),uN=function(){function e(t,n){$(this,e),this._firestore=t,this._delegate=n}return X(e,[{key:"query",get:function(){return new aN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new iN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new oN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new iN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return _C(this._delegate,e._delegate)}}]),e}(),sN=function(e){Rn(n,e);var t=Pn(n);function n(e,r){var i;return $(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return X(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ZC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ZC(this.firestore,void 0===e?rT(this._delegate):rT(this._delegate,e))}catch(t){throw eN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=QE(e.firestore,cT),r=rT(e),i=yC(e.converter,t);return DC(n,[NT(CT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ik.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ZC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return iT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(JC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(aN);function cN(e){return QE(e,ZE)}var lN=function(){function e(){$(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ln(kT,n)}return X(e,[{key:"isEqual",value:function(e){return(e=hr(e))instanceof kT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(zm.keyField().canonicalString())}}]),e}(),fN=function(){function e(t){$(this,e),this._delegate=t}return X(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new DT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new AT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=FC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=UC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new LT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hN={Firestore:QC,GeoPoint:wT,Timestamp:jm,Blob:GC,Transaction:YC,WriteBatch:XC,DocumentReference:ZC,DocumentSnapshot:rN,Query:aN,QueryDocumentSnapshot:iN,QuerySnapshot:uN,CollectionReference:sN,FieldPath:lN,FieldValue:fN,setLogLevel:function(e){!function(e){hm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new mr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hN)))}(e,(function(e,t){return new QC(e,t,new WC)})),e.registerVersion(VC,BC)}(Gi);var dN=Gi.initializeApp({apiKey:"AIzaSyB2xydXWwngzabn7boTeVM4WElLgomemzY",authDomain:"ccs-store-633ff.firebaseapp.com",projectId:"ccs-store-633ff",storageBucket:"ccs-store-633ff.appspot.com",messagingSenderId:"386933472211",appId:"1:386933472211:web:1578358f863d97e95c4d26",measurementId:"G-DYGTRVSZC3"}),pN=(dN.firestore(),dN.auth(),n(329));function vN(e){console.log("Login Component loacl Storage ",localStorage.getItem("cart"));var n=JSON.parse(localStorage.getItem("cart"))||[];console.log("Local Cart Item after parsing ",n);var r=rn(),i=v((0,t.useState)(""),2),a=i[0],o=i[1],u=v((0,t.useState)(""),2),s=u[0],c=u[1];return(0,gn.jsxs)("div",{className:"login",children:[(0,gn.jsxs)("div",{className:"login_left",children:[(0,gn.jsx)("h2",{children:"New Customer"}),(0,gn.jsx)("small",{children:"Register Account"}),(0,gn.jsx)("p",{children:"By creating an account you will be able to shop faster, be up to date on an order's status, and keep track of the orders you have previously made."}),(0,gn.jsx)(hn,{to:"register",children:(0,gn.jsx)("button",{children:"Continue"})})]}),(0,gn.jsxs)("div",{className:"login_right",children:[(0,gn.jsx)("h2",{children:"Returning Customer"}),(0,gn.jsx)("small",{children:"I am a returning customer"}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"E-Mail Address"})}),(0,gn.jsx)("input",{type:"text",placeholder:"example@xyz.com",value:a,onChange:function(e){return o(e.target.value)}}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Password"})}),(0,gn.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:function(e){return c(e.target.value)}}),(0,gn.jsx)("br",{}),(0,gn.jsx)("div",{children:(0,gn.jsx)("small",{children:"Forgotten password"})}),(0,gn.jsx)("button",{type:"submit",onClick:function(e){if(function(){var e=!0;return a?/\S+@\S+\.\S+/.test(a)||(alert("Invalid email format"),e=!1):(alert("Email is required"),e=!1),s||(alert("Password is required"),e=!1),e}()){e.preventDefault();var t=pN(s),i={email:a,password:t};rt.post("https://ccs-server.azurewebsites.net/userLogin",i).then((function(e){if(200===e.status&&"User Logged in Successfully!"===e.data){var t=a;yn.set("sessionId",t,{expires:1}),console.log("Login Cookies",yn.get("sessionId")),"https://ccs-server.azurewebsites.net/checkoutPayment"!=window.location.href?r.push({pathname:"/",state:{email:a}}):r.push({pathname:"/checkout",state:{email:a}}),n.forEach((function(e){var t={email:a,productId:e.id,quantity:1};console.log(e.id),console.log(a),rt.post("https://ccs-server.azurewebsites.net/addProductsCart",t).then((function(t){"Product data entered on the cart"==t.data&&console.log("Product added to cart:",e.name)})).catch((function(e){console.log(e),alert("Either email or password is not found")}))})),window.location.href="/checkout"}else console.log(e.data),alert("Invalid email or password")})).catch((function(e){console.log(e),alert("Either email or password is not correct")})),localStorage.clear()}},children:"Login"})]})]})}var mN,yN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},gN=n(329);function kN(){var e=rn(),n=v((0,t.useState)(""),2),r=n[0],i=n[1],a=v((0,t.useState)(""),2),o=a[0],u=a[1],s=v((0,t.useState)(""),2),c=s[0],l=s[1],f=v((0,t.useState)(""),2),h=f[0],d=f[1],p=v((0,t.useState)(""),2),m=p[0],y=p[1],g=v((0,t.useState)(""),2),k=g[0],b=g[1],w=v((0,t.useState)(""),2),x=w[0],I=w[1];console.log("Login Component loacl Storage ",localStorage.getItem("cart"));var _=JSON.parse(localStorage.getItem("cart"))||[];console.log("Local Cart Item after parsing ",_);return(0,gn.jsxs)("div",{className:"register",children:[(0,gn.jsx)("h1",{children:"Register"}),(0,gn.jsx)("strong",{children:"New Customer"}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"E-Mail Address"})}),(0,gn.jsx)("input",{type:"text",placeholder:"example@xyz.com",value:r,onChange:function(e){return i(e.target.value)}}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Password"})}),(0,gn.jsx)("input",{type:"password",placeholder:"Password",value:o,onChange:function(e){return u(e.target.value)}}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Name"})}),(0,gn.jsx)("input",{type:"text",placeholder:"Name",value:c,onChange:function(e){return l(e.target.value)}}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Address"})}),(0,gn.jsx)("input",{type:"text",placeholder:"Address",value:h,onChange:function(e){return d(e.target.value)}}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"City"})}),(0,gn.jsx)("input",{type:"text",placeholder:"City",value:m,onChange:function(e){return y(e.target.value)}}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Province"})}),(0,gn.jsx)("input",{type:"text",placeholder:"Province",value:k,onChange:function(e){return b(e.target.value)}}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Postal Code"})}),(0,gn.jsx)("input",{type:"text",placeholder:"Postal Code",value:x,onChange:function(e){return I(e.target.value)}}),(0,gn.jsx)("div",{className:"registerBtn",children:(0,gn.jsx)("button",{type:"submit",onClick:function(t){yn.remove("sessionId"),t.preventDefault();var n=gN(o),i={name:c,email:r,password:n,address:h,city:m,province:k,postalcode:x};rt.post("https://ccs-server.azurewebsites.net/userRegistration",i).then((function(t){if("Data inserted successfully"==t.data){console.log(t.data);var n=r;yn.set("sessionId",n,{expires:1}),console.log("Cookies",yn.get("sessionId")),_.forEach((function(e){var t={email:r,productId:e.id,quantity:1};console.log(e.id),console.log(r),rt.post("https://ccs-server.azurewebsites.net/addProductsCart",t).then((function(t){"Product data entered on the cart"==t.data&&console.log("Product added to cart:",e.name)})).catch((function(e){console.log(e),alert("Error entering in")}))}))}window.location.reload();var i=yN();if(console.log("couponCode"),console.log(i),"https://ccs-server.azurewebsites.net/checkoutPayment"!=window.location.href){e.push({pathname:"/",state:{email:r}});var a={coupon:i,email:r,isExpired:0};rt.post("https://ccs-server.azurewebsites.net/addcoupons",a).then((function(e){"Coupon Data Inserted Successfully"===e.data&&(console.log("Data entered"),alert("Congratulations! you got a $10 "))})).catch((function(e){return console.log(e)}))}})).catch((function(e){console.log(e),alert("Error registering user")})),localStorage.clear()},children:"Register"})})]})}function bN(e){return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"productInfo",children:[(0,gn.jsxs)("div",{className:"productInfo_left",children:[(0,gn.jsx)("img",{src:e.item.image}),(0,gn.jsx)("h4",{children:"Description"}),(0,gn.jsx)("p",{children:e.item.description})]}),(0,gn.jsxs)("div",{className:"productInfo_right",children:[(0,gn.jsx)("h2",{children:e.item.name}),(0,gn.jsxs)("p",{children:[(0,gn.jsx)("strong",{children:"Brand:"})," ",e.item.brand]}),(0,gn.jsxs)("p",{children:[(0,gn.jsx)("strong",{children:"Price:"})," ",e.item.price]}),(0,gn.jsx)("button",{onClick:function(){e.onButtonClick1({id:e.item.id,name:e.item.name,brand:e.item.brand,price:e.item.price,category:e.item.category,description:e.item.description,image:"".concat(e.item.name,".jpg")})},children:"Add to Cart"})]})]})})}function wN(e){return(0,gn.jsxs)("div",{className:"wishlist",children:[(0,gn.jsx)("p",{children:(0,gn.jsxs)("i",{children:["Total: ",e.wishList.length,(0,gn.jsx)("br",{}),"Please add something"]})}),e.wishList.map((function(t){return(0,gn.jsxs)("div",{className:"cardWishList",children:[(0,gn.jsx)("img",{src:t.image}),(0,gn.jsx)("p",{children:t.name}),(0,gn.jsx)("p",{children:t.price}),(0,gn.jsx)("button",{className:"addCartWish",onClick:function(){e.onButtonClick1({name:t.name,brand:t.brand,price:t.price,category:t.category,description:t.description,image:"".concat(t.name,".jpg")})},children:"Add to Cart"}),(0,gn.jsx)("button",{className:"removeWishList",onClick:function(){e.removeWishItems(t.name)},children:"Remove"})]})}))]})}var xN=new Uint8Array(16);function IN(){if(!mN&&!(mN="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mN(xN)}var _N=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var SN=function(e){return"string"===typeof e&&_N.test(e)},EN=[],TN=0;TN<256;++TN)EN.push((TN+256).toString(16).substr(1));var CN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(EN[e[t+0]]+EN[e[t+1]]+EN[e[t+2]]+EN[e[t+3]]+"-"+EN[e[t+4]]+EN[e[t+5]]+"-"+EN[e[t+6]]+EN[e[t+7]]+"-"+EN[e[t+8]]+EN[e[t+9]]+"-"+EN[e[t+10]]+EN[e[t+11]]+EN[e[t+12]]+EN[e[t+13]]+EN[e[t+14]]+EN[e[t+15]]).toLowerCase();if(!SN(n))throw TypeError("Stringified UUID is invalid");return n};var NN=function(e,t,n){var r=(e=e||{}).random||(e.rng||IN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return CN(r)};function AN(e){for(var n=v((0,t.useState)(0),2),r=n[0],i=n[1],a=v((0,t.useState)(""),2),o=a[0],u=a[1],s=e.cart.length,c=0,l=0;l<s;l++){var f=parseFloat(e.cart[l].quantity*e.cart[l].price.replace("$","").replace(",",""));c+=f}var h=13*c/100,d={email:yn.get("sessionId")};rt.post("https://ccs-server.azurewebsites.net/fetchCouponCode",d).then((function(e){console.log(e.data[0].couponDiscount),0==e.data[0].isExpired&&c>60?u(10):u(0)})).catch((function(e){return console.log(e)})),console.log("discount",o);var p=yn.get("addressOrder");console.log("Address Cookies",p);rt.get("http://localhost:5000/distance/".concat("941 Progress, Toronto ON M1G3T8","/").concat(p)).then((function(e){console.log(e.data.distance_km),i(.5*e.data.distance_km)})).catch((function(e){console.error(e)}));return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"totalPrice",children:[(0,gn.jsx)("h3",{children:"Total Price"}),(0,gn.jsxs)("p",{children:["Subtotal -"," ","$"===yn.get("currency")?"$"+c.toFixed(2):"Rs."+(60*c).toFixed(2)]}),(0,gn.jsxs)("p",{children:["Tax -"," ","$"===yn.get("currency")?"$"+h.toFixed(2):"Rs."+(60*h).toFixed(2)]}),yn.get("sessionId")?(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("p",{children:[0===o?(0,gn.jsxs)(gn.Fragment,{children:[" ",(0,gn.jsx)("strong",{children:(0,gn.jsxs)("small",{children:["To apply discount add items more than $60 or Rs.600",(0,gn.jsx)("br",{}),"Discount"]})})," "]}):(0,gn.jsxs)(gn.Fragment,{children:[(0,gn.jsx)("strong",{children:(0,gn.jsx)("small",{children:"New User Discount -"})})," "]}),"$"===yn.get("currency")?"$"+o:"Rs."+(60*o).toFixed(2)]})}):(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("small",{children:["*Register to get"," ","$"===yn.get("currency")?"$10":"Rs.600"," off"]})}),(0,gn.jsxs)("p",{children:["Delivery Fees -"," ","$"===yn.get("currency")?"$"+r.toFixed(2):"Rs."+(60*r).toFixed(2)," "]}),(0,gn.jsx)("hr",{style:{width:"180px"}}),(0,gn.jsxs)("p",{children:["Total -"," ","$"===yn.get("currency")?"$"+(h+c+r-o).toFixed(2):"Rs."+(60*(h+c+r-o)).toFixed(2)]}),(0,gn.jsx)("button",{onClick:function(){rt.post("https://ccs-server.azurewebsites.net/orderDataInsert",d).then((function(e){"Data enetered successfully in the order table"===e.data&&console.log("Data entered into the order table")})).catch((function(e){return console.log(e)})),rt.post("https://ccs-server.azurewebsites.net/deleteShoppingCart",d).then((function(e){"Shopping Cart Empty"==e.data&&console.log(e)})).catch((function(e){return console.log(e)})),rt.post("https://ccs-server.azurewebsites.net/updateCouponCode",d).then((function(e){"Updated Coupon Status"==e.data&&console.log(e)})).catch((function(e){return console.log(e)})),alert("Order Placed"),window.location.reload()},children:"Order"})]})})}function RN(){var e=rn(),n=v((0,t.useState)(""),2),r=n[0],i=n[1],a=v((0,t.useState)(""),2),o=a[0],u=a[1],s=v((0,t.useState)(""),2),c=s[0],l=s[1],f=v((0,t.useState)(""),2),h=f[0],d=f[1],p=v((0,t.useState)(""),2),m=p[0],y=p[1],g=v((0,t.useState)(""),2),k=g[0],b=g[1],w=v((0,t.useState)("false"),2),x=w[0],I=w[1],_=v((0,t.useState)(!0),2),S=_[0],E=(_[1],function(t){if(t.preventDefault(),function(){var e=!0;return/^[A-Za-z\s]+$/.test(o)||(alert("Please enter a valid name"),e=!1),c.length<5&&(alert("Please enter a valid address"),e=!1),h.length<3&&(alert("Please enter a valid city"),e=!1),m.length<2&&(alert("Please enter a valid province"),e=!1),/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/.test(k)||(alert("Please enter a valid postal code"),e=!1),e}()){var n=c+", "+h;console.log(n),yn.set("addressOrder",n),yn.get("sessionId")&&i(yn.get("sessionId"));var a={email:yn.get("sessionId"),name:o,address:c,city:h,province:m,postalcode:k};console.log("EMail of the address page",r),rt.post("https://ccs-server.azurewebsites.net/addressData",a).then((function(t){(t.data="Address Data entered Successfully")&&(console.log("address data send successfully"),e.push("/payment"))})).catch((function(e){return console.log(e)}))}});return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsx)("div",{className:"paymentPage",children:yn.get("sessionId")||!0===x?(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsx)("div",{className:"register",children:(0,gn.jsxs)("div",{style:{display:S?"block":"none"},children:[(0,gn.jsx)("h3",{children:"Billing Information"}),(0,gn.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Name"})}),(0,gn.jsx)("input",{type:"text",value:o,required:!0,onChange:function(e){u(e.target.value)},placeholder:"Name"}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Address"})}),(0,gn.jsx)("input",{type:"text",value:c,onChange:function(e){l(e.target.value)},placeholder:"Address",required:!0}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"City"})}),(0,gn.jsx)("input",{type:"text",value:h,onChange:function(e){d(e.target.value)},placeholder:"City",required:!0}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Province"})}),(0,gn.jsx)("input",{type:"text",value:m,onChange:function(e){y(e.target.value)},placeholder:"Province",required:!0}),(0,gn.jsx)("p",{children:(0,gn.jsx)("label",{children:"Postal Code"})}),(0,gn.jsx)("input",{type:"text",value:k,onChange:function(e){b(e.target.value)},placeholder:"Postal Code",required:!0}),(0,gn.jsx)("button",{type:"submit",onClick:function(e){E(e)},children:"Next"})]})]})})}):(0,gn.jsx)(gn.Fragment,{children:void 0==yn.get("sessionId")?(0,gn.jsxs)(gn.Fragment,{children:[(0,gn.jsx)("div",{children:(0,gn.jsx)("strong",{children:"*Register as a new account and get $10 off"})}),(0,gn.jsx)("small",{children:"This promotion will automatically applied at the time of payment"}),(0,gn.jsx)(vN,{}),(0,gn.jsx)("div",{className:"guestCheckout",children:(0,gn.jsxs)("label",{children:[(0,gn.jsx)("input",{type:"radio",value:"guest",onClick:function(){I(!0)}}),"Guest Checkout"]})})]}):window.location.href="/payment"})})})}function DN(){return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)("div",{className:"termsCondition",children:[(0,gn.jsx)("h2",{children:"Terms and Conditions"}),(0,gn.jsx)("p",{children:"Welcome to Website Creative Computer Services!"}),(0,gn.jsx)("p",{children:"These terms and conditions outline the rules and regulations for the Creative Computer Services's Website, located at ccs.com. By accessing this website we assume you accept these terms and conditions. Do not continue to use Creative Computer Services if you do not agree to take all of the terms and conditions stated on this page."}),(0,gn.jsx)("h4",{children:"Cookies"}),(0,gn.jsx)("p",{children:"We employ the use of cookies. By accessing Creative Computer Services Name, you agreed to use cookies in agreement with the Creative Computer Service's Privacy Policy."}),(0,gn.jsx)("p",{children:"Most interactive websites use cookies to let us retrieve the user's details for each visit. Cookies are used by our website to enable the functionality of certain areas to make it easier for people visiting our website. Some of our affiliate/advertising partners may also use cookies."})]})})}var ON=function(){return(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsx)("div",{className:"privacyPolicy",children:(0,gn.jsx)("p",{children:"The General Data Privacy Regulation (GDPR) The GDPR regulates privacy policy requirements for entities targeting users in the European Union (EU) and the European Economic Area (EEA), regardless of the company\u2019s physical location. Your business must comply with the GDPR if it targets EU consumers and meets one of the following thresholds: It offers goods or services It monitors online behavior Chapter 3, Articles 13 and 14 of the law clarify that users have the right to be fully informed about the collection and use of their personal data. Linking to a generic privacy policy is not enough under the GDPR; you also need freely given consent from users before collecting their personal information. Under the law, personal data refers to any information relating to an identifiable person, either directly or indirectly. It\u2019s important to note that different privacy laws use unique definitions for personal information, each with slight variations in meaning. Your business can communicate all relevant data gathering and processing information in compliance with the GDPR and request user consent by publishing a privacy policy on your website. The penalties for GDPR non-compliance are fines of up to 4% of your annual global turnover or \u20ac24 million ($23 million), whatever is highest. The California Consumer Protection Act (CCPA) The CCPA regulates privacy policy requirements for businesses targeting users in California, regardless of the company\u2019s physical location. Your business falls under the CCPA if it meets one of the following thresholds: It generates over $25 million in annual gross revenue It annually buys, receives, sells, or shares the personal information of 50,000 or more consumers (changing to 100,000 under the CPRA) It derives 50% or more of its annual revenue from the sale of personal consumer data Under the law, you must inform users about the personal data you collect and how it\u2019s processed. The text of the CCPA defines personal data similarly to the GDPR but excludes publicly available information, like social media posts. You must also provide a way for consumers to opt out of the sale of their data. To comply with the CCPA, you can outline your data practices with our standard privacy policy template and include a conspicuous \u201cDo Not Sell My Personal Information\u201d link. The penalties for CCPA non-compliance are fines of $2,5000 per violation or $7,500 per intentional violation."})})})};var PN=function(e){return console.log(e.orderHistory),(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsx)("div",{className:"orderHistory",children:e.orderHistory.map((function(e){return(0,gn.jsxs)("div",{className:"orderHistoryProducts",children:[(0,gn.jsx)("img",{src:"".concat(e.name,".jpg")}),(0,gn.jsx)("p",{children:e.name}),(0,gn.jsx)("p",{children:e.price}),(0,gn.jsx)("p",{children:e.date})]})}))})})};var LN=function(){var e=yn.get("sessionId");console.log("Email Cookie - ",e);var n=v((0,t.useState)([]),2),r=n[0],i=n[1];(0,t.useEffect)((function(){if(void 0!=yn.get("sessionId")||null!=yn.get("sessionId")){var t={emailData:e};rt.post("https://ccs-server.azurewebsites.net/shoppingcartItems",t).then((function(e){return s(e.data)})).catch((function(e){console.log(e)}))}else{var n=JSON.parse(localStorage.getItem("cart"));n&&s(n)}}),[]);var a=v((0,t.useState)([]),2),o=a[0],s=a[1],c=function(t){if(console.log(t),void 0!=yn.get("sessionId")||null!=yn.get("sessionId")){console.log("Email Cookie - ",e);var n={email:e,productId:t.id,quantity:t.quantity};console.log("Cart Item klsk;kl;",t),console.log("Request Data klsk;kl;",n);var r={emailData:e,productId:t.id};rt.post("https://ccs-server.azurewebsites.net/shoppingcartItemsId",r).then((function(r){console.log("fetchiihkj.kjl",r.data);var i=r.data.find((function(e){return e.id===t.id}));i?f(t.id):rt.post("https://ccs-server.azurewebsites.net/addProductsCart",n).then((function(t){if("Product data entered on the cart"==t.data){var n={emailData:e};rt.post("https://ccs-server.azurewebsites.net/shoppingcartItems",n).then((function(e){return s(e.data)})).catch((function(e){console.log(e)}))}else console.log(t.data),alert("Invalid product entered")})).catch((function(e){console.log(e),alert("Error entering in")}))}))}else{NN();var i=JSON.parse(localStorage.getItem("cart"))||[],a=i.find((function(e){return e.id===t.id}));a?a.quantity+=1:i.push(h(h({},t),{},{quantity:1})),localStorage.setItem("cart",JSON.stringify(i)),s(i)}console.log("Cart inside the function if somone add on cart: ",o)},l=o.length;console.log("Total Cart Items:",l);var f=function(t){if(void 0!=yn.get("sessionId")||null!=yn.get("sessionId")){var n={product_id:t};rt.post("https://ccs-server.azurewebsites.net/fetchProductShoppingCart",n).then((function(n){if(console.log(n.data[0].quantity),n.data[0].quantity<10){var r={product_id:t,quantity:n.data[0].quantity+1};s((function(e){var n=e.map((function(e){return e.product_id===t?h(h({},e),{},{quantity:e.quantity+1}):e}));return n})),rt.post("https://ccs-server.azurewebsites.net/updateProductShoppingCart",r).then((function(t){if("Shopping Cart Quantity updated"==t){console.log("Data updated");var n={emailData:e};rt.post("https://ccs-server.azurewebsites.net/shoppingcartItems",n).then((function(e){return s(e.data)})).catch((function(e){console.log(e)}))}})).catch((function(e){return console.log(e)}))}}))}else{var r=JSON.parse(localStorage.getItem("cart"))||[],i=r.find((function(e){return e.id===t}));i.quantity<10&&(i.quantity+=1),localStorage.setItem("cart",JSON.stringify(r)),s(r)}};(0,t.useEffect)((function(){console.log("Updated cart:",o)}),[o]),(0,t.useEffect)((function(){console.log("Updated cart:",o)}),[localStorage.getItem("cart")]);var d=v((0,t.useState)([]),2),p=d[0],m=d[1],y=function(e){console.log(e),m((function(t){return[].concat(u(t),[e])})),console.log(p)};(0,t.useEffect)((function(){console.log("Updated wishlist:",p)}),[p]);var g=v((0,t.useState)([]),2),k=g[0],b=g[1],w=function(e){console.warn("Product Name",e),b(e)},x=v((0,t.useState)([]),2),I=x[0],_=x[1],S=v((0,t.useState)(null),2),E=S[0],T=S[1],C=v((0,t.useState)([]),2),N=C[0],A=C[1];return console.log(N),(0,t.useEffect)((function(){rt.post("https://ccs-server.azurewebsites.net/fetchProducts").then((function(e){return A(e.data)})).catch((function(e){return console.log(e)}))}),[]),(0,gn.jsx)(gn.Fragment,{children:(0,gn.jsxs)(on,{children:[(0,gn.jsx)(bn,{onButtonClick:function(e){T(e)},cart:o,searchItemFilter:function(e){_(e.toLowerCase()),console.log(e.toLowerCase())},onHandleLogout:function(){yn.remove("sessionId"),alert("Logout Successful")}}),(0,gn.jsx)("main",{children:(0,gn.jsxs)(tn,{children:[(0,gn.jsx)($t,{path:"/checkout",children:(0,gn.jsx)(En,{cart:o,removeCartBtn:function t(n){if(void 0!=yn.get("sessionId")||null!=yn.get("sessionId")){var r={id:n};rt.post("https://ccs-server.azurewebsites.net/removeItems_cart",r).then((function(t){if("Product removed from the cart"==t.data){var n={emailData:e};rt.post("https://ccs-server.azurewebsites.net/shoppingcartItems",n).then((function(e){return s(e.data)})).catch((function(e){console.log(e)}))}else console.log("Cannot delete product")}))}else for(var i=0;i<o.length;i++)if(o[i].id==n){var a=i;console.log("Item:",t);var c=u(o);c.splice(a,1),localStorage.setItem("cart",JSON.stringify(c)),s(c),console.log(c)}},decreaseQty:function(t){if(void 0!=yn.get("sessionId")||null!=yn.get("sessionId")){var n={product_id:t};rt.post("https://ccs-server.azurewebsites.net/fetchProductShoppingCart",n).then((function(n){if(console.log(n.data[0].quantity),n.data[0].quantity>1){s((function(e){var n=e.map((function(e){return e.product_id===t?h(h({},e),{},{quantity:e.quantity-1}):e}));return n}));var r={product_id:t,quantity:n.data[0].quantity-1};rt.post("https://ccs-server.azurewebsites.net/updateProductShoppingCart",r).then((function(t){if("Shhopping Cart Quantity updated"==t){console.log("Data updated");var n={emailData:e};rt.post("https://ccs-server.azurewebsites.net/shoppingcartItems",n).then((function(e){return s(e.data)})).catch((function(e){console.log(e)}))}})).catch((function(e){return console.log(e)}))}}))}else{var r=JSON.parse(localStorage.getItem("cart"))||[],i=r.find((function(e){return e.id===t}));i.quantity>1&&(i.quantity-=1),localStorage.setItem("cart",JSON.stringify(r)),s(r)}},increaseQty:f})}),(0,gn.jsx)($t,{path:"/".concat(k.name),children:(0,gn.jsx)(bN,{item:k,onButtonClick1:c})}),(0,gn.jsx)($t,{path:"/wishlist",children:(0,gn.jsx)(wN,{wishList:p,onButtonClick1:c,removeWishItems:function(e){for(var t=0;t<p.length;t++)if(p[t].name==e){var n=t,r=u(p);r.splice(n,1),m(r)}}})}),(0,gn.jsx)($t,{path:"/checkoutPayment",children:(0,gn.jsx)(RN,{})}),(0,gn.jsx)($t,{path:"/privacypolicy",children:(0,gn.jsx)(ON,{})}),(0,gn.jsx)($t,{path:"/payment",children:(0,gn.jsx)(AN,{cart:o})}),(0,gn.jsx)($t,{path:"/about",children:(0,gn.jsx)(Tn,{client:["THDC INDIA LTD.","MODERN INSTITUTE OF TECHNOLOGY","NIRMAL ASHRAM HOSPITAL","NIRMAL ASHRAM HOSPITAL","NIRMAL ASHRAM HOSPITAL","RISHIKESH PUBLIC SCHOOL","APCO INFRASTUCTURE PVT LTD.","NAVAYUGA ENGINEERING COMPANY LTD.","NAVAYUGA ENGINEERING COMPANY LTD.","DAYANANDA ASHRAM","SHIVANANDA ASHRAM","SHIVANANDA ASHRAM","SHIVANANDA ASHRAM","GOVT GIRLS INTER COLLEGE","ALL INDIA INSTITUE OF MEDICAL SCIENCES, RISHIKESH"]})}),(0,gn.jsx)($t,{path:"/contactus",children:(0,gn.jsx)(Cn,{})}),(0,gn.jsx)($t,{path:"/termsCondition",children:(0,gn.jsx)(DN,{})}),(0,gn.jsx)($t,{path:"/login",children:(0,gn.jsx)(vN,{cart:o})}),(0,gn.jsx)($t,{path:"/register",children:(0,gn.jsx)(kN,{})}),(0,gn.jsx)($t,{path:"/orderhistory",children:(0,gn.jsx)(PN,{orderHistory:r})}),(0,gn.jsxs)($t,{path:"/",children:[!E&&(0,gn.jsx)(wn,{name:N,onButtonClick:w,onButtonClick1:c,onButtonClick2:y,cart:o}),"main"===E&&(0,gn.jsx)(wn,{name:N,onButtonClick:w,onButtonClick1:c,onButtonClick2:y,searchItem:I,cart:o}),"laptop"===E&&(0,gn.jsx)(kn,{name:N,onButtonClick:w,onButtonClick1:c,onButtonClick2:y,searchItem:I,cart:o}),"accessories"===E&&(0,gn.jsx)(In,{name:N,onButtonClick:w,onButtonClick1:c,onButtonClick2:y,searchItem:I,cart:o}),"cartridge"===E&&(0,gn.jsx)(_n,{name:N,onButtonClick:w,onButtonClick1:c,onButtonClick2:y,cart:o,searchItem:I})]})]})}),(0,gn.jsx)(xn,{data_OrderHistory:function(){var t={email:e};rt.post("https://ccs-server.azurewebsites.net/fetchorderData",t).then((function(e){e&&(console.log(e.data),i(e.data),console.log("Fetching Order History",r))})).catch((function(e){console.log(e)}))}})]})})},MN=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,gn.jsx)(t.StrictMode,{children:(0,gn.jsx)(LN,{})})),MN()}()}();
//# sourceMappingURL=main.aa42a7d7.js.map